{"id":"39456030283","type":"IssuesEvent","actor":{"id":26892988,"login":"hanno-becker","display_login":"hanno-becker","gravatar_id":"","url":"https://api.github.com/users/hanno-becker","avatar_url":"https://avatars.githubusercontent.com/u/26892988?"},"repo":{"id":773826502,"name":"pq-code-package/mlkem-c-aarch64","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64"},"payload":{"action":"opened","issue":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/70","repository_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64","labels_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/70/labels{/name}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/70/comments","events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/70/events","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/issues/70","id":2363529386,"node_id":"I_kwDOLh-nxs6M4Jiq","number":70,"title":"`tests bench` script should fail if binaries fail","user":{"login":"hanno-becker","id":26892988,"node_id":"MDQ6VXNlcjI2ODkyOTg4","avatar_url":"https://avatars.githubusercontent.com/u/26892988?v=4","gravatar_id":"","url":"https://api.github.com/users/hanno-becker","html_url":"https://github.com/hanno-becker","followers_url":"https://api.github.com/users/hanno-becker/followers","following_url":"https://api.github.com/users/hanno-becker/following{/other_user}","gists_url":"https://api.github.com/users/hanno-becker/gists{/gist_id}","starred_url":"https://api.github.com/users/hanno-becker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hanno-becker/subscriptions","organizations_url":"https://api.github.com/users/hanno-becker/orgs","repos_url":"https://api.github.com/users/hanno-becker/repos","events_url":"https://api.github.com/users/hanno-becker/events{/privacy}","received_events_url":"https://api.github.com/users/hanno-becker/received_events","type":"User","site_admin":false},"labels":[{"id":6707250812,"node_id":"LA_kwDOLh-nxs8AAAABj8iGfA","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-20T05:11:27Z","updated_at":"2024-06-20T05:11:27Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Issue:** `scripts/tests/bench` does not fail if the benchmarking binaries fail.\r\n\r\nExample output:\r\n```\r\n~/repos/mlkem-c-aarch64$ ./scripts/tests bench --cycles PERF\r\nINFO  > benchmark\r\nINFO  > make CYCLES=PERF test/bin/bench_kyber512\r\nINFO  > MLKEM512 passed\r\nINFO  > make CYCLES=PERF test/bin/bench_kyber768\r\nINFO  > MLKEM768 passed\r\nINFO  > make CYCLES=PERF test/bin/bench_kyber1024\r\nINFO  > MLKEM1024 passed\r\nMLKEM512\r\n\r\nMLKEM768\r\n\r\nMLKEM1024\r\n```\r\n\r\nHere, the issue was that access to `perf` was missing, as witnessed when running the binaries separately:\r\n```\r\n~/repos/mlkem-c-aarch64$ ./test/bin/bench_kyber1024\r\nread: Bad file descriptor\r\n```\r\n\r\nAnother issue is that switching between `CYCLES=NO/PMU/PERF` requires `make clean` and rebuild, which is not yet documented.\r\n\r\n**Task:**\r\n- [ ]  Fix `tests` so that it fails if the test/bench binaries fail. Ideally, don't mask `stderr`.\r\n- [ ] Document that `make clean` is needed when switching between `NO/PERF/PMU`, or -- even better -- detect the switch and rebuild automatically.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/70/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/70/timeline","performed_via_github_app":null,"state_reason":null}},"public":true,"created_at":"2024-06-20T05:11:28Z","org":{"id":158063050,"login":"pq-code-package","gravatar_id":"","url":"https://api.github.com/orgs/pq-code-package","avatar_url":"https://avatars.githubusercontent.com/u/158063050?"}}
{"id":"39471369355","type":"IssuesEvent","actor":{"id":26892988,"login":"hanno-becker","display_login":"hanno-becker","gravatar_id":"","url":"https://api.github.com/users/hanno-becker","avatar_url":"https://avatars.githubusercontent.com/u/26892988?"},"repo":{"id":752386120,"name":"pq-code-package/tsc","url":"https://api.github.com/repos/pq-code-package/tsc"},"payload":{"action":"opened","issue":{"url":"https://api.github.com/repos/pq-code-package/tsc/issues/75","repository_url":"https://api.github.com/repos/pq-code-package/tsc","labels_url":"https://api.github.com/repos/pq-code-package/tsc/issues/75/labels{/name}","comments_url":"https://api.github.com/repos/pq-code-package/tsc/issues/75/comments","events_url":"https://api.github.com/repos/pq-code-package/tsc/issues/75/events","html_url":"https://github.com/pq-code-package/tsc/issues/75","id":2364478498,"node_id":"I_kwDOLNiASM6M7xQi","number":75,"title":"Access to AWS AArch64 runners","user":{"login":"hanno-becker","id":26892988,"node_id":"MDQ6VXNlcjI2ODkyOTg4","avatar_url":"https://avatars.githubusercontent.com/u/26892988?v=4","gravatar_id":"","url":"https://api.github.com/users/hanno-becker","html_url":"https://github.com/hanno-becker","followers_url":"https://api.github.com/users/hanno-becker/followers","following_url":"https://api.github.com/users/hanno-becker/following{/other_user}","gists_url":"https://api.github.com/users/hanno-becker/gists{/gist_id}","starred_url":"https://api.github.com/users/hanno-becker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hanno-becker/subscriptions","organizations_url":"https://api.github.com/users/hanno-becker/orgs","repos_url":"https://api.github.com/users/hanno-becker/repos","events_url":"https://api.github.com/users/hanno-becker/events{/privacy}","received_events_url":"https://api.github.com/users/hanno-becker/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-20T13:37:42Z","updated_at":"2024-06-20T13:37:42Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Relates to: #55 \r\n\r\nAWS Graviton2 and Graviton3 instances are among the current benchmarking targets for MLKEM-C-AArch64 (see [README](https://github.com/pq-code-package/mlkem-c-aarch64) for the others, though note this list may still evolve).\r\n\r\nThe purpose of this issue is to track if/how we could provide access to AWS Graviton-based runners for MLKEM-C-AArch64 in particular, or the PQCP the general.","reactions":{"url":"https://api.github.com/repos/pq-code-package/tsc/issues/75/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pq-code-package/tsc/issues/75/timeline","performed_via_github_app":null,"state_reason":null}},"public":true,"created_at":"2024-06-20T13:37:44Z","org":{"id":158063050,"login":"pq-code-package","gravatar_id":"","url":"https://api.github.com/orgs/pq-code-package","avatar_url":"https://avatars.githubusercontent.com/u/158063050?"}}
