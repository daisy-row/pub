{"id":"40209759110","type":"PullRequestReviewCommentEvent","actor":{"id":26892988,"login":"hanno-becker","display_login":"hanno-becker","gravatar_id":"","url":"https://api.github.com/users/hanno-becker","avatar_url":"https://avatars.githubusercontent.com/u/26892988?"},"repo":{"id":773826502,"name":"pq-code-package/mlkem-c-aarch64","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1680360225","pull_request_review_id":2181804422,"id":1680360225,"node_id":"PRRC_kwDOLh-nxs5kKEMh","diff_hunk":"@@ -0,0 +1,242 @@\n+// SPDX-License-Identifier: Apache-2.0\n+#include <string.h>\n+#include \"fips202x4.h\"\n+#include \"fips202.h\"\n+#include \"keccakf1600.h\"\n+\n+#define KECCAK_CTX 25\n+\n+static void keccak_absorb_x4(uint64_t *s, uint32_t r,\n+                             const uint8_t *in0,\n+                             const uint8_t *in1,\n+                             const uint8_t *in2,\n+                             const uint8_t *in3,\n+                             size_t inlen,\n+                             uint8_t p)\n+{\n+\n+    while (inlen >= r)\n+    {\n+\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 0, in0, 0, r);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 1, in1, 0, r);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 2, in2, 0, r);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 3, in3, 0, r);\n+\n+        KeccakF1600_StatePermute(s + KECCAK_CTX * 0);\n+        KeccakF1600_StatePermute(s + KECCAK_CTX * 1);\n+        KeccakF1600_StatePermute(s + KECCAK_CTX * 2);\n+        KeccakF1600_StatePermute(s + KECCAK_CTX * 3);\n+\n+        in0 += r;\n+        in1 += r;\n+        in2 += r;\n+        in3 += r;\n+        inlen -= r;\n+    }\n+\n+    if (inlen > 0)\n+    {\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 0, in0, 0, inlen);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 1, in1, 0, inlen);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 2, in2, 0, inlen);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 3, in3, 0, inlen);\n+    }\n+\n+    if (inlen == r - 1)\n+    {\n+        p |= 128;\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 0, &p, inlen, 1);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 1, &p, inlen, 1);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 2, &p, inlen, 1);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 3, &p, inlen, 1);\n+    }\n+    else\n+    {\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 0, &p, inlen, 1);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 1, &p, inlen, 1);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 2, &p, inlen, 1);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 3, &p, inlen, 1);\n+        p = 128;\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 0, &p, r - 1, 1);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 1, &p, r - 1, 1);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 2, &p, r - 1, 1);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 3, &p, r - 1, 1);\n+    }\n+}\n+\n+static void keccak_squeezeblocks_x4(uint8_t *out0,\n+                                    uint8_t *out1,\n+                                    uint8_t *out2,\n+                                    uint8_t *out3,\n+                                    size_t nblocks,\n+                                    uint64_t *s,\n+                                    uint32_t r)\n+{\n+\n+    while (nblocks > 0)\n+    {\n+        KeccakF1600_StatePermute(s + KECCAK_CTX * 0);\n+        KeccakF1600_StatePermute(s + KECCAK_CTX * 1);\n+        KeccakF1600_StatePermute(s + KECCAK_CTX * 2);\n+        KeccakF1600_StatePermute(s + KECCAK_CTX * 3);\n+\n+        KeccakF1600_StateExtractBytes(s + KECCAK_CTX * 0, out0, 0, r);\n+        KeccakF1600_StateExtractBytes(s + KECCAK_CTX * 1, out1, 0, r);\n+        KeccakF1600_StateExtractBytes(s + KECCAK_CTX * 2, out2, 0, r);\n+        KeccakF1600_StateExtractBytes(s + KECCAK_CTX * 3, out3, 0, r);\n+\n+        out0 += r;\n+        out1 += r;\n+        out2 += r;\n+        out3 += r;\n+        nblocks--;\n+    }\n+}\n+\n+uint64_t *keccakx_get_lane_state(keccakx4_state *state, size_t index)\n+{\n+    if (index >= KECCAK_WAY)\n+    {\n+        return NULL;\n+    }\n+\n+    return state->ctx + index * KECCAK_CTX;\n+}\n+\n+int shake128x4_absorb(keccakx4_state *state,\n+                      const uint8_t *in0,\n+                      const uint8_t *in1,\n+                      const uint8_t *in2,\n+                      const uint8_t *in3,\n+                      size_t inlen)\n+{\n+    if (state == NULL || in0 == NULL || in1 == NULL || in2 == NULL || in3 == NULL)","path":"fips202/fips202x4.c","commit_id":"bc9bed91c9ca0c528a397cf8c5d823144374b51b","original_commit_id":"bc9bed91c9ca0c528a397cf8c5d823144374b51b","user":{"login":"hanno-becker","id":26892988,"node_id":"MDQ6VXNlcjI2ODkyOTg4","avatar_url":"https://avatars.githubusercontent.com/u/26892988?v=4","gravatar_id":"","url":"https://api.github.com/users/hanno-becker","html_url":"https://github.com/hanno-becker","followers_url":"https://api.github.com/users/hanno-becker/followers","following_url":"https://api.github.com/users/hanno-becker/following{/other_user}","gists_url":"https://api.github.com/users/hanno-becker/gists{/gist_id}","starred_url":"https://api.github.com/users/hanno-becker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hanno-becker/subscriptions","organizations_url":"https://api.github.com/users/hanno-becker/orgs","repos_url":"https://api.github.com/users/hanno-becker/repos","events_url":"https://api.github.com/users/hanno-becker/events{/privacy}","received_events_url":"https://api.github.com/users/hanno-becker/received_events","type":"User","site_admin":false},"body":"We should be uniform regarding the checking of parameters. All others functions seem to assume that pointers are valid. Why are we checking them here?","created_at":"2024-07-17T03:34:16Z","updated_at":"2024-07-17T03:34:16Z","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62#discussion_r1680360225","pull_request_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62","author_association":"CONTRIBUTOR","_links":{"self":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1680360225"},"html":{"href":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62#discussion_r1680360225"},"pull_request":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62"}},"reactions":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1680360225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":114,"original_line":114,"side":"RIGHT","original_position":114,"position":114,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62","id":1919632524,"node_id":"PR_kwDOLh-nxs5ya0SM","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62","diff_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62.diff","patch_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62.patch","issue_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62","number":62,"state":"open","locked":false,"title":"Add Keccak X4 interface","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"body":"# Add Keccak X4 interface. \r\n\r\nPotential optimization: \r\n\r\n- **Multiple Pass Squeezing**: Currently, if `rej_uniform` fails to sample the full vector size, it continues by squeezing a single Keccak lane. By rewriting this logic to append single Keccak calls into a single Keccak X-way call, CPU cycles can be saved. For simplicity, it is currently implemented as a single pass.\r\n\r\n### Next Steps:\r\n\r\n- Add Keccak_X4 assembly to replace the `keccak_absorb_x4keccak_squeezeblocks_x4` in `fips202x.c`.\r\n\r\nFixes #35","created_at":"2024-06-13T22:44:58Z","updated_at":"2024-07-17T03:34:16Z","closed_at":null,"merged_at":null,"merge_commit_sha":"47485822603428dd611751211fb0100712109b9d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":7100825001,"node_id":"LA_kwDOLh-nxs8AAAABpz39qQ","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels/benchmark","name":"benchmark","color":"d4c5f9","default":false,"description":"this PR should be benchmarked in CI"}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/commits","review_comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/comments","review_comment_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments{/number}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62/comments","statuses_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/bc9bed91c9ca0c528a397cf8c5d823144374b51b","head":{"label":"cothan:add_keccakx_interface","ref":"add_keccakx_interface","sha":"bc9bed91c9ca0c528a397cf8c5d823144374b51b","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"repo":{"id":776625101,"node_id":"R_kgDOLkpbzQ","name":"mlkem-c-aarch64","full_name":"cothan/mlkem-c-aarch64","private":false,"owner":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"html_url":"https://github.com/cothan/mlkem-c-aarch64","description":null,"fork":true,"url":"https://api.github.com/repos/cothan/mlkem-c-aarch64","forks_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/forks","keys_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/teams","hooks_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/hooks","issue_events_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues/events{/number}","events_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/events","assignees_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/assignees{/user}","branches_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/branches{/branch}","tags_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/tags","blobs_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/refs{/sha}","trees_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/statuses/{sha}","languages_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/languages","stargazers_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/stargazers","contributors_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/contributors","subscribers_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/subscribers","subscription_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/subscription","commits_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/commits{/sha}","git_commits_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/commits{/sha}","comments_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/comments{/number}","issue_comment_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues/comments{/number}","contents_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/contents/{+path}","compare_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/merges","archive_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/downloads","issues_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues{/number}","pulls_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/pulls{/number}","milestones_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/milestones{/number}","notifications_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/labels{/name}","releases_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/releases{/id}","deployments_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/deployments","created_at":"2024-03-24T02:36:53Z","updated_at":"2024-06-28T21:11:53Z","pushed_at":"2024-07-15T14:11:08Z","git_url":"git://github.com/cothan/mlkem-c-aarch64.git","ssh_url":"git@github.com:cothan/mlkem-c-aarch64.git","clone_url":"https://github.com/cothan/mlkem-c-aarch64.git","svn_url":"https://github.com/cothan/mlkem-c-aarch64","homepage":null,"size":163,"stargazers_count":0,"watchers_count":0,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"main"}},"base":{"label":"pq-code-package:main","ref":"main","sha":"dde6611ae205ba649b2e4224da2dbba3425d676f","user":{"login":"pq-code-package","id":158063050,"node_id":"O_kgDOCWvZyg","avatar_url":"https://avatars.githubusercontent.com/u/158063050?v=4","gravatar_id":"","url":"https://api.github.com/users/pq-code-package","html_url":"https://github.com/pq-code-package","followers_url":"https://api.github.com/users/pq-code-package/followers","following_url":"https://api.github.com/users/pq-code-package/following{/other_user}","gists_url":"https://api.github.com/users/pq-code-package/gists{/gist_id}","starred_url":"https://api.github.com/users/pq-code-package/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pq-code-package/subscriptions","organizations_url":"https://api.github.com/users/pq-code-package/orgs","repos_url":"https://api.github.com/users/pq-code-package/repos","events_url":"https://api.github.com/users/pq-code-package/events{/privacy}","received_events_url":"https://api.github.com/users/pq-code-package/received_events","type":"Organization","site_admin":false},"repo":{"id":773826502,"node_id":"R_kgDOLh-nxg","name":"mlkem-c-aarch64","full_name":"pq-code-package/mlkem-c-aarch64","private":false,"owner":{"login":"pq-code-package","id":158063050,"node_id":"O_kgDOCWvZyg","avatar_url":"https://avatars.githubusercontent.com/u/158063050?v=4","gravatar_id":"","url":"https://api.github.com/users/pq-code-package","html_url":"https://github.com/pq-code-package","followers_url":"https://api.github.com/users/pq-code-package/followers","following_url":"https://api.github.com/users/pq-code-package/following{/other_user}","gists_url":"https://api.github.com/users/pq-code-package/gists{/gist_id}","starred_url":"https://api.github.com/users/pq-code-package/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pq-code-package/subscriptions","organizations_url":"https://api.github.com/users/pq-code-package/orgs","repos_url":"https://api.github.com/users/pq-code-package/repos","events_url":"https://api.github.com/users/pq-code-package/events{/privacy}","received_events_url":"https://api.github.com/users/pq-code-package/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/pq-code-package/mlkem-c-aarch64","description":"ML-KEM implementation optimized for aarch64","fork":false,"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64","forks_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/forks","keys_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/teams","hooks_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/hooks","issue_events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/events{/number}","events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/events","assignees_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/assignees{/user}","branches_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/branches{/branch}","tags_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/tags","blobs_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/refs{/sha}","trees_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/{sha}","languages_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/languages","stargazers_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/stargazers","contributors_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/contributors","subscribers_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/subscribers","subscription_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/subscription","commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/commits{/sha}","git_commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/commits{/sha}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/comments{/number}","issue_comment_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/comments{/number}","contents_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/contents/{+path}","compare_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/merges","archive_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/downloads","issues_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues{/number}","pulls_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls{/number}","milestones_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/milestones{/number}","notifications_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels{/name}","releases_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/releases{/id}","deployments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/deployments","created_at":"2024-03-18T13:21:26Z","updated_at":"2024-07-12T07:36:54Z","pushed_at":"2024-07-15T14:11:10Z","git_url":"git://github.com/pq-code-package/mlkem-c-aarch64.git","ssh_url":"git@github.com:pq-code-package/mlkem-c-aarch64.git","clone_url":"https://github.com/pq-code-package/mlkem-c-aarch64.git","svn_url":"https://github.com/pq-code-package/mlkem-c-aarch64","homepage":"","size":155,"stargazers_count":4,"watchers_count":4,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":13,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":[],"visibility":"public","forks":6,"open_issues":13,"watchers":4,"default_branch":"main"}},"_links":{"self":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62"},"html":{"href":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62"},"issue":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62"},"comments":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62/comments"},"review_comments":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/comments"},"review_comment":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/commits"},"statuses":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/bc9bed91c9ca0c528a397cf8c5d823144374b51b"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-07-17T03:34:16Z","org":{"id":158063050,"login":"pq-code-package","gravatar_id":"","url":"https://api.github.com/orgs/pq-code-package","avatar_url":"https://avatars.githubusercontent.com/u/158063050?"}}
{"id":"40210021802","type":"PullRequestReviewCommentEvent","actor":{"id":26892988,"login":"hanno-becker","display_login":"hanno-becker","gravatar_id":"","url":"https://api.github.com/users/hanno-becker","avatar_url":"https://avatars.githubusercontent.com/u/26892988?"},"repo":{"id":773826502,"name":"pq-code-package/mlkem-c-aarch64","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1680369278","pull_request_review_id":2181817861,"id":1680369278,"node_id":"PRRC_kwDOLh-nxs5kKGZ-","diff_hunk":"@@ -166,41 +168,86 @@ static unsigned int rej_uniform(int16_t *r,\n // Not static for benchmarking\n void gen_matrix(polyvec *a, const uint8_t seed[KYBER_SYMBYTES], int transposed)\n {\n-    unsigned int ctr, i, j, k;\n-    unsigned int buflen, off;\n-    uint8_t buf[GEN_MATRIX_NBLOCKS * XOF_BLOCKBYTES + 2];\n+    unsigned int ctr, i, j;\n+    unsigned int buflen;\n+    uint8_t bufx[KECCAK_WAY][GEN_MATRIX_NBLOCKS * XOF_BLOCKBYTES];\n+    uint8_t *buf = NULL;\n+    int16_t *vec = NULL;\n+    uint8_t x, y;\n     xof_state state;\n \n-    for (i = 0; i < KYBER_K; i++)\n+    keccakx4_state statex;\n+    // The input data to each Keccak lane.\n+    // Original size; KYBER_SYMBYTES + 2, we add padding to make align load/store.","path":"mlkem/indcpa.c","commit_id":"bc9bed91c9ca0c528a397cf8c5d823144374b51b","original_commit_id":"bc9bed91c9ca0c528a397cf8c5d823144374b51b","user":{"login":"hanno-becker","id":26892988,"node_id":"MDQ6VXNlcjI2ODkyOTg4","avatar_url":"https://avatars.githubusercontent.com/u/26892988?v=4","gravatar_id":"","url":"https://api.github.com/users/hanno-becker","html_url":"https://github.com/hanno-becker","followers_url":"https://api.github.com/users/hanno-becker/followers","following_url":"https://api.github.com/users/hanno-becker/following{/other_user}","gists_url":"https://api.github.com/users/hanno-becker/gists{/gist_id}","starred_url":"https://api.github.com/users/hanno-becker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hanno-becker/subscriptions","organizations_url":"https://api.github.com/users/hanno-becker/orgs","repos_url":"https://api.github.com/users/hanno-becker/repos","events_url":"https://api.github.com/users/hanno-becker/events{/privacy}","received_events_url":"https://api.github.com/users/hanno-becker/received_events","type":"User","site_admin":false},"body":"What is the exact intent here? Adding `16` does not ensure alignment, which is indeed not guaranteed for an array for `uint8_t`. You would need an alignment directive here.","created_at":"2024-07-17T03:52:30Z","updated_at":"2024-07-17T03:52:31Z","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62#discussion_r1680369278","pull_request_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62","author_association":"CONTRIBUTOR","_links":{"self":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1680369278"},"html":{"href":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62#discussion_r1680369278"},"pull_request":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62"}},"reactions":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1680369278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":181,"original_line":181,"side":"RIGHT","original_position":27,"position":27,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62","id":1919632524,"node_id":"PR_kwDOLh-nxs5ya0SM","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62","diff_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62.diff","patch_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62.patch","issue_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62","number":62,"state":"open","locked":false,"title":"Add Keccak X4 interface","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"body":"# Add Keccak X4 interface. \r\n\r\nPotential optimization: \r\n\r\n- **Multiple Pass Squeezing**: Currently, if `rej_uniform` fails to sample the full vector size, it continues by squeezing a single Keccak lane. By rewriting this logic to append single Keccak calls into a single Keccak X-way call, CPU cycles can be saved. For simplicity, it is currently implemented as a single pass.\r\n\r\n### Next Steps:\r\n\r\n- Add Keccak_X4 assembly to replace the `keccak_absorb_x4keccak_squeezeblocks_x4` in `fips202x.c`.\r\n\r\nFixes #35","created_at":"2024-06-13T22:44:58Z","updated_at":"2024-07-17T03:52:30Z","closed_at":null,"merged_at":null,"merge_commit_sha":"47485822603428dd611751211fb0100712109b9d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":7100825001,"node_id":"LA_kwDOLh-nxs8AAAABpz39qQ","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels/benchmark","name":"benchmark","color":"d4c5f9","default":false,"description":"this PR should be benchmarked in CI"}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/commits","review_comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/comments","review_comment_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments{/number}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62/comments","statuses_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/bc9bed91c9ca0c528a397cf8c5d823144374b51b","head":{"label":"cothan:add_keccakx_interface","ref":"add_keccakx_interface","sha":"bc9bed91c9ca0c528a397cf8c5d823144374b51b","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"repo":{"id":776625101,"node_id":"R_kgDOLkpbzQ","name":"mlkem-c-aarch64","full_name":"cothan/mlkem-c-aarch64","private":false,"owner":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"html_url":"https://github.com/cothan/mlkem-c-aarch64","description":null,"fork":true,"url":"https://api.github.com/repos/cothan/mlkem-c-aarch64","forks_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/forks","keys_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/teams","hooks_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/hooks","issue_events_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues/events{/number}","events_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/events","assignees_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/assignees{/user}","branches_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/branches{/branch}","tags_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/tags","blobs_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/refs{/sha}","trees_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/statuses/{sha}","languages_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/languages","stargazers_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/stargazers","contributors_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/contributors","subscribers_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/subscribers","subscription_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/subscription","commits_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/commits{/sha}","git_commits_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/commits{/sha}","comments_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/comments{/number}","issue_comment_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues/comments{/number}","contents_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/contents/{+path}","compare_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/merges","archive_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/downloads","issues_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues{/number}","pulls_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/pulls{/number}","milestones_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/milestones{/number}","notifications_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/labels{/name}","releases_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/releases{/id}","deployments_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/deployments","created_at":"2024-03-24T02:36:53Z","updated_at":"2024-06-28T21:11:53Z","pushed_at":"2024-07-15T14:11:08Z","git_url":"git://github.com/cothan/mlkem-c-aarch64.git","ssh_url":"git@github.com:cothan/mlkem-c-aarch64.git","clone_url":"https://github.com/cothan/mlkem-c-aarch64.git","svn_url":"https://github.com/cothan/mlkem-c-aarch64","homepage":null,"size":163,"stargazers_count":0,"watchers_count":0,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"main"}},"base":{"label":"pq-code-package:main","ref":"main","sha":"dde6611ae205ba649b2e4224da2dbba3425d676f","user":{"login":"pq-code-package","id":158063050,"node_id":"O_kgDOCWvZyg","avatar_url":"https://avatars.githubusercontent.com/u/158063050?v=4","gravatar_id":"","url":"https://api.github.com/users/pq-code-package","html_url":"https://github.com/pq-code-package","followers_url":"https://api.github.com/users/pq-code-package/followers","following_url":"https://api.github.com/users/pq-code-package/following{/other_user}","gists_url":"https://api.github.com/users/pq-code-package/gists{/gist_id}","starred_url":"https://api.github.com/users/pq-code-package/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pq-code-package/subscriptions","organizations_url":"https://api.github.com/users/pq-code-package/orgs","repos_url":"https://api.github.com/users/pq-code-package/repos","events_url":"https://api.github.com/users/pq-code-package/events{/privacy}","received_events_url":"https://api.github.com/users/pq-code-package/received_events","type":"Organization","site_admin":false},"repo":{"id":773826502,"node_id":"R_kgDOLh-nxg","name":"mlkem-c-aarch64","full_name":"pq-code-package/mlkem-c-aarch64","private":false,"owner":{"login":"pq-code-package","id":158063050,"node_id":"O_kgDOCWvZyg","avatar_url":"https://avatars.githubusercontent.com/u/158063050?v=4","gravatar_id":"","url":"https://api.github.com/users/pq-code-package","html_url":"https://github.com/pq-code-package","followers_url":"https://api.github.com/users/pq-code-package/followers","following_url":"https://api.github.com/users/pq-code-package/following{/other_user}","gists_url":"https://api.github.com/users/pq-code-package/gists{/gist_id}","starred_url":"https://api.github.com/users/pq-code-package/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pq-code-package/subscriptions","organizations_url":"https://api.github.com/users/pq-code-package/orgs","repos_url":"https://api.github.com/users/pq-code-package/repos","events_url":"https://api.github.com/users/pq-code-package/events{/privacy}","received_events_url":"https://api.github.com/users/pq-code-package/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/pq-code-package/mlkem-c-aarch64","description":"ML-KEM implementation optimized for aarch64","fork":false,"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64","forks_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/forks","keys_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/teams","hooks_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/hooks","issue_events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/events{/number}","events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/events","assignees_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/assignees{/user}","branches_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/branches{/branch}","tags_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/tags","blobs_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/refs{/sha}","trees_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/{sha}","languages_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/languages","stargazers_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/stargazers","contributors_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/contributors","subscribers_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/subscribers","subscription_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/subscription","commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/commits{/sha}","git_commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/commits{/sha}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/comments{/number}","issue_comment_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/comments{/number}","contents_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/contents/{+path}","compare_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/merges","archive_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/downloads","issues_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues{/number}","pulls_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls{/number}","milestones_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/milestones{/number}","notifications_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels{/name}","releases_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/releases{/id}","deployments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/deployments","created_at":"2024-03-18T13:21:26Z","updated_at":"2024-07-12T07:36:54Z","pushed_at":"2024-07-15T14:11:10Z","git_url":"git://github.com/pq-code-package/mlkem-c-aarch64.git","ssh_url":"git@github.com:pq-code-package/mlkem-c-aarch64.git","clone_url":"https://github.com/pq-code-package/mlkem-c-aarch64.git","svn_url":"https://github.com/pq-code-package/mlkem-c-aarch64","homepage":"","size":155,"stargazers_count":4,"watchers_count":4,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":13,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":[],"visibility":"public","forks":6,"open_issues":13,"watchers":4,"default_branch":"main"}},"_links":{"self":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62"},"html":{"href":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62"},"issue":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62"},"comments":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62/comments"},"review_comments":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/comments"},"review_comment":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/commits"},"statuses":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/bc9bed91c9ca0c528a397cf8c5d823144374b51b"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-07-17T03:52:30Z","org":{"id":158063050,"login":"pq-code-package","gravatar_id":"","url":"https://api.github.com/orgs/pq-code-package","avatar_url":"https://avatars.githubusercontent.com/u/158063050?"}}
{"id":"40210139281","type":"PullRequestReviewCommentEvent","actor":{"id":26892988,"login":"hanno-becker","display_login":"hanno-becker","gravatar_id":"","url":"https://api.github.com/users/hanno-becker","avatar_url":"https://avatars.githubusercontent.com/u/26892988?"},"repo":{"id":773826502,"name":"pq-code-package/mlkem-c-aarch64","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1680373147","pull_request_review_id":2181825160,"id":1680373147,"node_id":"PRRC_kwDOLh-nxs5kKHWb","diff_hunk":"@@ -166,41 +168,86 @@ static unsigned int rej_uniform(int16_t *r,\n // Not static for benchmarking\n void gen_matrix(polyvec *a, const uint8_t seed[KYBER_SYMBYTES], int transposed)\n {\n-    unsigned int ctr, i, j, k;\n-    unsigned int buflen, off;\n-    uint8_t buf[GEN_MATRIX_NBLOCKS * XOF_BLOCKBYTES + 2];\n+    unsigned int ctr, i, j;\n+    unsigned int buflen;\n+    uint8_t bufx[KECCAK_WAY][GEN_MATRIX_NBLOCKS * XOF_BLOCKBYTES];\n+    uint8_t *buf = NULL;\n+    int16_t *vec = NULL;\n+    uint8_t x, y;\n     xof_state state;\n \n-    for (i = 0; i < KYBER_K; i++)\n+    keccakx4_state statex;\n+    // The input data to each Keccak lane.\n+    // Original size; KYBER_SYMBYTES + 2, we add padding to make align load/store.\n+    uint8_t seedxy[KECCAK_WAY][KYBER_SYMBYTES + 16];\n+\n+    for (i = 0; i < (KYBER_K * KYBER_K / KECCAK_WAY) * KECCAK_WAY; i += KECCAK_WAY)\n     {\n-        for (j = 0; j < KYBER_K; j++)\n+        for (j = 0; j < KECCAK_WAY; j++)\n         {\n+            memcpy(seedxy[j], seed, KYBER_SYMBYTES);\n+            x = (i + j) / KYBER_K;\n+            y = (i + j) % KYBER_K;\n             if (transposed)\n             {\n-                xof_absorb(&state, seed, i, j);\n+                seedxy[j][KYBER_SYMBYTES + 0] = x;\n+                seedxy[j][KYBER_SYMBYTES + 1] = y;\n             }\n             else\n             {\n-                xof_absorb(&state, seed, j, i);\n+                seedxy[j][KYBER_SYMBYTES + 0] = y;\n+                seedxy[j][KYBER_SYMBYTES + 1] = x;\n             }\n+        }\n \n-            xof_squeezeblocks(buf, GEN_MATRIX_NBLOCKS, &state);\n-            buflen = GEN_MATRIX_NBLOCKS * XOF_BLOCKBYTES;\n-            ctr = rej_uniform(a[i].vec[j].coeffs, KYBER_N, buf, buflen);\n+        shake128x4_absorb(&statex, seedxy[0], seedxy[1], seedxy[2], seedxy[3], KYBER_SYMBYTES + 2);","path":"mlkem/indcpa.c","commit_id":"bc9bed91c9ca0c528a397cf8c5d823144374b51b","original_commit_id":"bc9bed91c9ca0c528a397cf8c5d823144374b51b","user":{"login":"hanno-becker","id":26892988,"node_id":"MDQ6VXNlcjI2ODkyOTg4","avatar_url":"https://avatars.githubusercontent.com/u/26892988?v=4","gravatar_id":"","url":"https://api.github.com/users/hanno-becker","html_url":"https://github.com/hanno-becker","followers_url":"https://api.github.com/users/hanno-becker/followers","following_url":"https://api.github.com/users/hanno-becker/following{/other_user}","gists_url":"https://api.github.com/users/hanno-becker/gists{/gist_id}","starred_url":"https://api.github.com/users/hanno-becker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hanno-becker/subscriptions","organizations_url":"https://api.github.com/users/hanno-becker/orgs","repos_url":"https://api.github.com/users/hanno-becker/repos","events_url":"https://api.github.com/users/hanno-becker/events{/privacy}","received_events_url":"https://api.github.com/users/hanno-becker/received_events","type":"User","site_admin":false},"body":"Did you get to the bottom of why `+2` is needed here?","created_at":"2024-07-17T04:00:31Z","updated_at":"2024-07-17T04:00:31Z","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62#discussion_r1680373147","pull_request_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62","author_association":"CONTRIBUTOR","_links":{"self":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1680373147"},"html":{"href":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62#discussion_r1680373147"},"pull_request":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62"}},"reactions":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1680373147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":203,"original_line":203,"side":"RIGHT","original_position":55,"position":55,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62","id":1919632524,"node_id":"PR_kwDOLh-nxs5ya0SM","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62","diff_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62.diff","patch_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62.patch","issue_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62","number":62,"state":"open","locked":false,"title":"Add Keccak X4 interface","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"body":"# Add Keccak X4 interface. \r\n\r\nPotential optimization: \r\n\r\n- **Multiple Pass Squeezing**: Currently, if `rej_uniform` fails to sample the full vector size, it continues by squeezing a single Keccak lane. By rewriting this logic to append single Keccak calls into a single Keccak X-way call, CPU cycles can be saved. For simplicity, it is currently implemented as a single pass.\r\n\r\n### Next Steps:\r\n\r\n- Add Keccak_X4 assembly to replace the `keccak_absorb_x4keccak_squeezeblocks_x4` in `fips202x.c`.\r\n\r\nFixes #35","created_at":"2024-06-13T22:44:58Z","updated_at":"2024-07-17T04:00:31Z","closed_at":null,"merged_at":null,"merge_commit_sha":"47485822603428dd611751211fb0100712109b9d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":7100825001,"node_id":"LA_kwDOLh-nxs8AAAABpz39qQ","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels/benchmark","name":"benchmark","color":"d4c5f9","default":false,"description":"this PR should be benchmarked in CI"}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/commits","review_comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/comments","review_comment_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments{/number}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62/comments","statuses_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/bc9bed91c9ca0c528a397cf8c5d823144374b51b","head":{"label":"cothan:add_keccakx_interface","ref":"add_keccakx_interface","sha":"bc9bed91c9ca0c528a397cf8c5d823144374b51b","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"repo":{"id":776625101,"node_id":"R_kgDOLkpbzQ","name":"mlkem-c-aarch64","full_name":"cothan/mlkem-c-aarch64","private":false,"owner":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"html_url":"https://github.com/cothan/mlkem-c-aarch64","description":null,"fork":true,"url":"https://api.github.com/repos/cothan/mlkem-c-aarch64","forks_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/forks","keys_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/teams","hooks_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/hooks","issue_events_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues/events{/number}","events_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/events","assignees_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/assignees{/user}","branches_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/branches{/branch}","tags_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/tags","blobs_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/refs{/sha}","trees_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/statuses/{sha}","languages_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/languages","stargazers_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/stargazers","contributors_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/contributors","subscribers_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/subscribers","subscription_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/subscription","commits_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/commits{/sha}","git_commits_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/commits{/sha}","comments_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/comments{/number}","issue_comment_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues/comments{/number}","contents_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/contents/{+path}","compare_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/merges","archive_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/downloads","issues_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues{/number}","pulls_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/pulls{/number}","milestones_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/milestones{/number}","notifications_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/labels{/name}","releases_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/releases{/id}","deployments_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/deployments","created_at":"2024-03-24T02:36:53Z","updated_at":"2024-06-28T21:11:53Z","pushed_at":"2024-07-15T14:11:08Z","git_url":"git://github.com/cothan/mlkem-c-aarch64.git","ssh_url":"git@github.com:cothan/mlkem-c-aarch64.git","clone_url":"https://github.com/cothan/mlkem-c-aarch64.git","svn_url":"https://github.com/cothan/mlkem-c-aarch64","homepage":null,"size":163,"stargazers_count":0,"watchers_count":0,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"main"}},"base":{"label":"pq-code-package:main","ref":"main","sha":"dde6611ae205ba649b2e4224da2dbba3425d676f","user":{"login":"pq-code-package","id":158063050,"node_id":"O_kgDOCWvZyg","avatar_url":"https://avatars.githubusercontent.com/u/158063050?v=4","gravatar_id":"","url":"https://api.github.com/users/pq-code-package","html_url":"https://github.com/pq-code-package","followers_url":"https://api.github.com/users/pq-code-package/followers","following_url":"https://api.github.com/users/pq-code-package/following{/other_user}","gists_url":"https://api.github.com/users/pq-code-package/gists{/gist_id}","starred_url":"https://api.github.com/users/pq-code-package/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pq-code-package/subscriptions","organizations_url":"https://api.github.com/users/pq-code-package/orgs","repos_url":"https://api.github.com/users/pq-code-package/repos","events_url":"https://api.github.com/users/pq-code-package/events{/privacy}","received_events_url":"https://api.github.com/users/pq-code-package/received_events","type":"Organization","site_admin":false},"repo":{"id":773826502,"node_id":"R_kgDOLh-nxg","name":"mlkem-c-aarch64","full_name":"pq-code-package/mlkem-c-aarch64","private":false,"owner":{"login":"pq-code-package","id":158063050,"node_id":"O_kgDOCWvZyg","avatar_url":"https://avatars.githubusercontent.com/u/158063050?v=4","gravatar_id":"","url":"https://api.github.com/users/pq-code-package","html_url":"https://github.com/pq-code-package","followers_url":"https://api.github.com/users/pq-code-package/followers","following_url":"https://api.github.com/users/pq-code-package/following{/other_user}","gists_url":"https://api.github.com/users/pq-code-package/gists{/gist_id}","starred_url":"https://api.github.com/users/pq-code-package/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pq-code-package/subscriptions","organizations_url":"https://api.github.com/users/pq-code-package/orgs","repos_url":"https://api.github.com/users/pq-code-package/repos","events_url":"https://api.github.com/users/pq-code-package/events{/privacy}","received_events_url":"https://api.github.com/users/pq-code-package/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/pq-code-package/mlkem-c-aarch64","description":"ML-KEM implementation optimized for aarch64","fork":false,"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64","forks_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/forks","keys_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/teams","hooks_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/hooks","issue_events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/events{/number}","events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/events","assignees_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/assignees{/user}","branches_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/branches{/branch}","tags_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/tags","blobs_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/refs{/sha}","trees_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/{sha}","languages_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/languages","stargazers_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/stargazers","contributors_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/contributors","subscribers_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/subscribers","subscription_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/subscription","commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/commits{/sha}","git_commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/commits{/sha}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/comments{/number}","issue_comment_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/comments{/number}","contents_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/contents/{+path}","compare_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/merges","archive_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/downloads","issues_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues{/number}","pulls_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls{/number}","milestones_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/milestones{/number}","notifications_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels{/name}","releases_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/releases{/id}","deployments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/deployments","created_at":"2024-03-18T13:21:26Z","updated_at":"2024-07-12T07:36:54Z","pushed_at":"2024-07-15T14:11:10Z","git_url":"git://github.com/pq-code-package/mlkem-c-aarch64.git","ssh_url":"git@github.com:pq-code-package/mlkem-c-aarch64.git","clone_url":"https://github.com/pq-code-package/mlkem-c-aarch64.git","svn_url":"https://github.com/pq-code-package/mlkem-c-aarch64","homepage":"","size":155,"stargazers_count":4,"watchers_count":4,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":13,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":[],"visibility":"public","forks":6,"open_issues":13,"watchers":4,"default_branch":"main"}},"_links":{"self":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62"},"html":{"href":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62"},"issue":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62"},"comments":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62/comments"},"review_comments":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/comments"},"review_comment":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/commits"},"statuses":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/bc9bed91c9ca0c528a397cf8c5d823144374b51b"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-07-17T04:00:31Z","org":{"id":158063050,"login":"pq-code-package","gravatar_id":"","url":"https://api.github.com/orgs/pq-code-package","avatar_url":"https://avatars.githubusercontent.com/u/158063050?"}}
{"id":"40210231370","type":"PullRequestReviewCommentEvent","actor":{"id":26892988,"login":"hanno-becker","display_login":"hanno-becker","gravatar_id":"","url":"https://api.github.com/users/hanno-becker","avatar_url":"https://avatars.githubusercontent.com/u/26892988?"},"repo":{"id":773826502,"name":"pq-code-package/mlkem-c-aarch64","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1680376131","pull_request_review_id":2181830280,"id":1680376131,"node_id":"PRRC_kwDOLh-nxs5kKIFD","diff_hunk":"@@ -166,41 +168,86 @@ static unsigned int rej_uniform(int16_t *r,\n // Not static for benchmarking\n void gen_matrix(polyvec *a, const uint8_t seed[KYBER_SYMBYTES], int transposed)\n {\n-    unsigned int ctr, i, j, k;\n-    unsigned int buflen, off;\n-    uint8_t buf[GEN_MATRIX_NBLOCKS * XOF_BLOCKBYTES + 2];\n+    unsigned int ctr, i, j;\n+    unsigned int buflen;\n+    uint8_t bufx[KECCAK_WAY][GEN_MATRIX_NBLOCKS * XOF_BLOCKBYTES];\n+    uint8_t *buf = NULL;\n+    int16_t *vec = NULL;\n+    uint8_t x, y;\n     xof_state state;\n \n-    for (i = 0; i < KYBER_K; i++)\n+    keccakx4_state statex;\n+    // The input data to each Keccak lane.\n+    // Original size; KYBER_SYMBYTES + 2, we add padding to make align load/store.\n+    uint8_t seedxy[KECCAK_WAY][KYBER_SYMBYTES + 16];\n+\n+    for (i = 0; i < (KYBER_K * KYBER_K / KECCAK_WAY) * KECCAK_WAY; i += KECCAK_WAY)\n     {\n-        for (j = 0; j < KYBER_K; j++)\n+        for (j = 0; j < KECCAK_WAY; j++)\n         {\n+            memcpy(seedxy[j], seed, KYBER_SYMBYTES);","path":"mlkem/indcpa.c","commit_id":"bc9bed91c9ca0c528a397cf8c5d823144374b51b","original_commit_id":"bc9bed91c9ca0c528a397cf8c5d823144374b51b","user":{"login":"hanno-becker","id":26892988,"node_id":"MDQ6VXNlcjI2ODkyOTg4","avatar_url":"https://avatars.githubusercontent.com/u/26892988?v=4","gravatar_id":"","url":"https://api.github.com/users/hanno-becker","html_url":"https://github.com/hanno-becker","followers_url":"https://api.github.com/users/hanno-becker/followers","following_url":"https://api.github.com/users/hanno-becker/following{/other_user}","gists_url":"https://api.github.com/users/hanno-becker/gists{/gist_id}","starred_url":"https://api.github.com/users/hanno-becker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hanno-becker/subscriptions","organizations_url":"https://api.github.com/users/hanno-becker/orgs","repos_url":"https://api.github.com/users/hanno-becker/repos","events_url":"https://api.github.com/users/hanno-becker/events{/privacy}","received_events_url":"https://api.github.com/users/hanno-becker/received_events","type":"User","site_admin":false},"body":"This can be hoisted out of the loop?","created_at":"2024-07-17T04:06:45Z","updated_at":"2024-07-17T04:06:46Z","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62#discussion_r1680376131","pull_request_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62","author_association":"CONTRIBUTOR","_links":{"self":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1680376131"},"html":{"href":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62#discussion_r1680376131"},"pull_request":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62"}},"reactions":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1680376131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":188,"original_line":188,"side":"RIGHT","original_position":35,"position":35,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62","id":1919632524,"node_id":"PR_kwDOLh-nxs5ya0SM","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62","diff_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62.diff","patch_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62.patch","issue_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62","number":62,"state":"open","locked":false,"title":"Add Keccak X4 interface","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"body":"# Add Keccak X4 interface. \r\n\r\nPotential optimization: \r\n\r\n- **Multiple Pass Squeezing**: Currently, if `rej_uniform` fails to sample the full vector size, it continues by squeezing a single Keccak lane. By rewriting this logic to append single Keccak calls into a single Keccak X-way call, CPU cycles can be saved. For simplicity, it is currently implemented as a single pass.\r\n\r\n### Next Steps:\r\n\r\n- Add Keccak_X4 assembly to replace the `keccak_absorb_x4keccak_squeezeblocks_x4` in `fips202x.c`.\r\n\r\nFixes #35","created_at":"2024-06-13T22:44:58Z","updated_at":"2024-07-17T04:06:46Z","closed_at":null,"merged_at":null,"merge_commit_sha":"47485822603428dd611751211fb0100712109b9d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":7100825001,"node_id":"LA_kwDOLh-nxs8AAAABpz39qQ","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels/benchmark","name":"benchmark","color":"d4c5f9","default":false,"description":"this PR should be benchmarked in CI"}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/commits","review_comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/comments","review_comment_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments{/number}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62/comments","statuses_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/bc9bed91c9ca0c528a397cf8c5d823144374b51b","head":{"label":"cothan:add_keccakx_interface","ref":"add_keccakx_interface","sha":"bc9bed91c9ca0c528a397cf8c5d823144374b51b","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"repo":{"id":776625101,"node_id":"R_kgDOLkpbzQ","name":"mlkem-c-aarch64","full_name":"cothan/mlkem-c-aarch64","private":false,"owner":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"html_url":"https://github.com/cothan/mlkem-c-aarch64","description":null,"fork":true,"url":"https://api.github.com/repos/cothan/mlkem-c-aarch64","forks_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/forks","keys_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/teams","hooks_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/hooks","issue_events_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues/events{/number}","events_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/events","assignees_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/assignees{/user}","branches_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/branches{/branch}","tags_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/tags","blobs_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/refs{/sha}","trees_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/statuses/{sha}","languages_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/languages","stargazers_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/stargazers","contributors_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/contributors","subscribers_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/subscribers","subscription_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/subscription","commits_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/commits{/sha}","git_commits_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/commits{/sha}","comments_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/comments{/number}","issue_comment_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues/comments{/number}","contents_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/contents/{+path}","compare_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/merges","archive_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/downloads","issues_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues{/number}","pulls_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/pulls{/number}","milestones_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/milestones{/number}","notifications_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/labels{/name}","releases_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/releases{/id}","deployments_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/deployments","created_at":"2024-03-24T02:36:53Z","updated_at":"2024-06-28T21:11:53Z","pushed_at":"2024-07-15T14:11:08Z","git_url":"git://github.com/cothan/mlkem-c-aarch64.git","ssh_url":"git@github.com:cothan/mlkem-c-aarch64.git","clone_url":"https://github.com/cothan/mlkem-c-aarch64.git","svn_url":"https://github.com/cothan/mlkem-c-aarch64","homepage":null,"size":163,"stargazers_count":0,"watchers_count":0,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"main"}},"base":{"label":"pq-code-package:main","ref":"main","sha":"dde6611ae205ba649b2e4224da2dbba3425d676f","user":{"login":"pq-code-package","id":158063050,"node_id":"O_kgDOCWvZyg","avatar_url":"https://avatars.githubusercontent.com/u/158063050?v=4","gravatar_id":"","url":"https://api.github.com/users/pq-code-package","html_url":"https://github.com/pq-code-package","followers_url":"https://api.github.com/users/pq-code-package/followers","following_url":"https://api.github.com/users/pq-code-package/following{/other_user}","gists_url":"https://api.github.com/users/pq-code-package/gists{/gist_id}","starred_url":"https://api.github.com/users/pq-code-package/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pq-code-package/subscriptions","organizations_url":"https://api.github.com/users/pq-code-package/orgs","repos_url":"https://api.github.com/users/pq-code-package/repos","events_url":"https://api.github.com/users/pq-code-package/events{/privacy}","received_events_url":"https://api.github.com/users/pq-code-package/received_events","type":"Organization","site_admin":false},"repo":{"id":773826502,"node_id":"R_kgDOLh-nxg","name":"mlkem-c-aarch64","full_name":"pq-code-package/mlkem-c-aarch64","private":false,"owner":{"login":"pq-code-package","id":158063050,"node_id":"O_kgDOCWvZyg","avatar_url":"https://avatars.githubusercontent.com/u/158063050?v=4","gravatar_id":"","url":"https://api.github.com/users/pq-code-package","html_url":"https://github.com/pq-code-package","followers_url":"https://api.github.com/users/pq-code-package/followers","following_url":"https://api.github.com/users/pq-code-package/following{/other_user}","gists_url":"https://api.github.com/users/pq-code-package/gists{/gist_id}","starred_url":"https://api.github.com/users/pq-code-package/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pq-code-package/subscriptions","organizations_url":"https://api.github.com/users/pq-code-package/orgs","repos_url":"https://api.github.com/users/pq-code-package/repos","events_url":"https://api.github.com/users/pq-code-package/events{/privacy}","received_events_url":"https://api.github.com/users/pq-code-package/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/pq-code-package/mlkem-c-aarch64","description":"ML-KEM implementation optimized for aarch64","fork":false,"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64","forks_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/forks","keys_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/teams","hooks_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/hooks","issue_events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/events{/number}","events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/events","assignees_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/assignees{/user}","branches_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/branches{/branch}","tags_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/tags","blobs_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/refs{/sha}","trees_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/{sha}","languages_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/languages","stargazers_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/stargazers","contributors_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/contributors","subscribers_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/subscribers","subscription_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/subscription","commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/commits{/sha}","git_commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/commits{/sha}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/comments{/number}","issue_comment_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/comments{/number}","contents_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/contents/{+path}","compare_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/merges","archive_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/downloads","issues_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues{/number}","pulls_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls{/number}","milestones_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/milestones{/number}","notifications_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels{/name}","releases_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/releases{/id}","deployments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/deployments","created_at":"2024-03-18T13:21:26Z","updated_at":"2024-07-12T07:36:54Z","pushed_at":"2024-07-15T14:11:10Z","git_url":"git://github.com/pq-code-package/mlkem-c-aarch64.git","ssh_url":"git@github.com:pq-code-package/mlkem-c-aarch64.git","clone_url":"https://github.com/pq-code-package/mlkem-c-aarch64.git","svn_url":"https://github.com/pq-code-package/mlkem-c-aarch64","homepage":"","size":155,"stargazers_count":4,"watchers_count":4,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":13,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":[],"visibility":"public","forks":6,"open_issues":13,"watchers":4,"default_branch":"main"}},"_links":{"self":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62"},"html":{"href":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62"},"issue":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62"},"comments":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62/comments"},"review_comments":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/comments"},"review_comment":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/commits"},"statuses":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/bc9bed91c9ca0c528a397cf8c5d823144374b51b"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-07-17T04:06:45Z","org":{"id":158063050,"login":"pq-code-package","gravatar_id":"","url":"https://api.github.com/orgs/pq-code-package","avatar_url":"https://avatars.githubusercontent.com/u/158063050?"}}
{"id":"40210700061","type":"PullRequestReviewCommentEvent","actor":{"id":26892988,"login":"hanno-becker","display_login":"hanno-becker","gravatar_id":"","url":"https://api.github.com/users/hanno-becker","avatar_url":"https://avatars.githubusercontent.com/u/26892988?"},"repo":{"id":773826502,"name":"pq-code-package/mlkem-c-aarch64","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1680394623","pull_request_review_id":2181861754,"id":1680394623,"node_id":"PRRC_kwDOLh-nxs5kKMl_","diff_hunk":"@@ -367,6 +369,46 @@ void poly_getnoise_eta1(poly *r, const uint8_t seed[KYBER_SYMBYTES], uint8_t non\n     poly_cbd_eta1(r, buf);\n }\n \n+/*************************************************\n+* Name:        poly_getnoise_eta1_4x\n+*\n+* Description: Batch sample four polynomials deterministically from a seed and nonces,\n+*              with output polynomials close to centered binomial distribution\n+*              with parameter KYBER_ETA1\n+*\n+* Arguments:   - poly *r{0,1,2,3}: pointer to output polynomial\n+*              - const uint8_t *seed: pointer to input seed\n+*                                     (of length KYBER_SYMBYTES bytes)\n+*              - uint8_t nonce{0,1,2,3}: one-byte input nonce\n+**************************************************/\n+void poly_getnoise_eta1_4x(poly *r0,\n+                           poly *r1,\n+                           poly *r2,\n+                           poly *r3,\n+                           const uint8_t seed[KYBER_SYMBYTES],\n+                           uint8_t nonce0,\n+                           uint8_t nonce1,\n+                           uint8_t nonce2,\n+                           uint8_t nonce3)\n+{\n+    uint8_t buf[KECCAK_WAY][KYBER_ETA1 * KYBER_N / 4];\n+    uint8_t extkey[KECCAK_WAY][KYBER_SYMBYTES + 1];\n+    memcpy(extkey[0], seed, KYBER_SYMBYTES);\n+    memcpy(extkey[1], seed, KYBER_SYMBYTES);\n+    memcpy(extkey[2], seed, KYBER_SYMBYTES);\n+    memcpy(extkey[3], seed, KYBER_SYMBYTES);\n+    extkey[0][KYBER_SYMBYTES] = nonce0;\n+    extkey[1][KYBER_SYMBYTES] = nonce1;\n+    extkey[2][KYBER_SYMBYTES] = nonce2;\n+    extkey[3][KYBER_SYMBYTES] = nonce3;\n+    shake256x4(buf[0], buf[1], buf[2], buf[3], KYBER_ETA1 * KYBER_N / 4,","path":"mlkem/poly.c","commit_id":"bc9bed91c9ca0c528a397cf8c5d823144374b51b","original_commit_id":"bc9bed91c9ca0c528a397cf8c5d823144374b51b","user":{"login":"hanno-becker","id":26892988,"node_id":"MDQ6VXNlcjI2ODkyOTg4","avatar_url":"https://avatars.githubusercontent.com/u/26892988?v=4","gravatar_id":"","url":"https://api.github.com/users/hanno-becker","html_url":"https://github.com/hanno-becker","followers_url":"https://api.github.com/users/hanno-becker/followers","following_url":"https://api.github.com/users/hanno-becker/following{/other_user}","gists_url":"https://api.github.com/users/hanno-becker/gists{/gist_id}","starred_url":"https://api.github.com/users/hanno-becker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hanno-becker/subscriptions","organizations_url":"https://api.github.com/users/hanno-becker/orgs","repos_url":"https://api.github.com/users/hanno-becker/repos","events_url":"https://api.github.com/users/hanno-becker/events{/privacy}","received_events_url":"https://api.github.com/users/hanno-becker/received_events","type":"User","site_admin":false},"body":"There is a fair amount of unnecessary copying here which we should remove at some point, e.g. by specializing `shake256x4` to the relevant case where all input buffers are equal except for the last byte.","created_at":"2024-07-17T04:37:27Z","updated_at":"2024-07-17T04:37:27Z","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62#discussion_r1680394623","pull_request_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62","author_association":"CONTRIBUTOR","_links":{"self":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1680394623"},"html":{"href":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62#discussion_r1680394623"},"pull_request":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62"}},"reactions":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1680394623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":404,"original_line":404,"side":"RIGHT","original_position":51,"position":51,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62","id":1919632524,"node_id":"PR_kwDOLh-nxs5ya0SM","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62","diff_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62.diff","patch_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62.patch","issue_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62","number":62,"state":"open","locked":false,"title":"Add Keccak X4 interface","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"body":"# Add Keccak X4 interface. \r\n\r\nPotential optimization: \r\n\r\n- **Multiple Pass Squeezing**: Currently, if `rej_uniform` fails to sample the full vector size, it continues by squeezing a single Keccak lane. By rewriting this logic to append single Keccak calls into a single Keccak X-way call, CPU cycles can be saved. For simplicity, it is currently implemented as a single pass.\r\n\r\n### Next Steps:\r\n\r\n- Add Keccak_X4 assembly to replace the `keccak_absorb_x4keccak_squeezeblocks_x4` in `fips202x.c`.\r\n\r\nFixes #35","created_at":"2024-06-13T22:44:58Z","updated_at":"2024-07-17T04:37:27Z","closed_at":null,"merged_at":null,"merge_commit_sha":"47485822603428dd611751211fb0100712109b9d","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":7100825001,"node_id":"LA_kwDOLh-nxs8AAAABpz39qQ","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels/benchmark","name":"benchmark","color":"d4c5f9","default":false,"description":"this PR should be benchmarked in CI"}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/commits","review_comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/comments","review_comment_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments{/number}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62/comments","statuses_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/bc9bed91c9ca0c528a397cf8c5d823144374b51b","head":{"label":"cothan:add_keccakx_interface","ref":"add_keccakx_interface","sha":"bc9bed91c9ca0c528a397cf8c5d823144374b51b","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"repo":{"id":776625101,"node_id":"R_kgDOLkpbzQ","name":"mlkem-c-aarch64","full_name":"cothan/mlkem-c-aarch64","private":false,"owner":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"html_url":"https://github.com/cothan/mlkem-c-aarch64","description":null,"fork":true,"url":"https://api.github.com/repos/cothan/mlkem-c-aarch64","forks_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/forks","keys_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/teams","hooks_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/hooks","issue_events_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues/events{/number}","events_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/events","assignees_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/assignees{/user}","branches_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/branches{/branch}","tags_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/tags","blobs_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/refs{/sha}","trees_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/statuses/{sha}","languages_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/languages","stargazers_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/stargazers","contributors_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/contributors","subscribers_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/subscribers","subscription_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/subscription","commits_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/commits{/sha}","git_commits_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/commits{/sha}","comments_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/comments{/number}","issue_comment_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues/comments{/number}","contents_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/contents/{+path}","compare_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/merges","archive_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/downloads","issues_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues{/number}","pulls_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/pulls{/number}","milestones_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/milestones{/number}","notifications_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/labels{/name}","releases_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/releases{/id}","deployments_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/deployments","created_at":"2024-03-24T02:36:53Z","updated_at":"2024-06-28T21:11:53Z","pushed_at":"2024-07-15T14:11:08Z","git_url":"git://github.com/cothan/mlkem-c-aarch64.git","ssh_url":"git@github.com:cothan/mlkem-c-aarch64.git","clone_url":"https://github.com/cothan/mlkem-c-aarch64.git","svn_url":"https://github.com/cothan/mlkem-c-aarch64","homepage":null,"size":163,"stargazers_count":0,"watchers_count":0,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"main"}},"base":{"label":"pq-code-package:main","ref":"main","sha":"dde6611ae205ba649b2e4224da2dbba3425d676f","user":{"login":"pq-code-package","id":158063050,"node_id":"O_kgDOCWvZyg","avatar_url":"https://avatars.githubusercontent.com/u/158063050?v=4","gravatar_id":"","url":"https://api.github.com/users/pq-code-package","html_url":"https://github.com/pq-code-package","followers_url":"https://api.github.com/users/pq-code-package/followers","following_url":"https://api.github.com/users/pq-code-package/following{/other_user}","gists_url":"https://api.github.com/users/pq-code-package/gists{/gist_id}","starred_url":"https://api.github.com/users/pq-code-package/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pq-code-package/subscriptions","organizations_url":"https://api.github.com/users/pq-code-package/orgs","repos_url":"https://api.github.com/users/pq-code-package/repos","events_url":"https://api.github.com/users/pq-code-package/events{/privacy}","received_events_url":"https://api.github.com/users/pq-code-package/received_events","type":"Organization","site_admin":false},"repo":{"id":773826502,"node_id":"R_kgDOLh-nxg","name":"mlkem-c-aarch64","full_name":"pq-code-package/mlkem-c-aarch64","private":false,"owner":{"login":"pq-code-package","id":158063050,"node_id":"O_kgDOCWvZyg","avatar_url":"https://avatars.githubusercontent.com/u/158063050?v=4","gravatar_id":"","url":"https://api.github.com/users/pq-code-package","html_url":"https://github.com/pq-code-package","followers_url":"https://api.github.com/users/pq-code-package/followers","following_url":"https://api.github.com/users/pq-code-package/following{/other_user}","gists_url":"https://api.github.com/users/pq-code-package/gists{/gist_id}","starred_url":"https://api.github.com/users/pq-code-package/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pq-code-package/subscriptions","organizations_url":"https://api.github.com/users/pq-code-package/orgs","repos_url":"https://api.github.com/users/pq-code-package/repos","events_url":"https://api.github.com/users/pq-code-package/events{/privacy}","received_events_url":"https://api.github.com/users/pq-code-package/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/pq-code-package/mlkem-c-aarch64","description":"ML-KEM implementation optimized for aarch64","fork":false,"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64","forks_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/forks","keys_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/teams","hooks_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/hooks","issue_events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/events{/number}","events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/events","assignees_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/assignees{/user}","branches_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/branches{/branch}","tags_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/tags","blobs_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/refs{/sha}","trees_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/{sha}","languages_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/languages","stargazers_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/stargazers","contributors_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/contributors","subscribers_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/subscribers","subscription_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/subscription","commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/commits{/sha}","git_commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/commits{/sha}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/comments{/number}","issue_comment_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/comments{/number}","contents_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/contents/{+path}","compare_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/merges","archive_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/downloads","issues_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues{/number}","pulls_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls{/number}","milestones_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/milestones{/number}","notifications_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels{/name}","releases_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/releases{/id}","deployments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/deployments","created_at":"2024-03-18T13:21:26Z","updated_at":"2024-07-12T07:36:54Z","pushed_at":"2024-07-15T14:11:10Z","git_url":"git://github.com/pq-code-package/mlkem-c-aarch64.git","ssh_url":"git@github.com:pq-code-package/mlkem-c-aarch64.git","clone_url":"https://github.com/pq-code-package/mlkem-c-aarch64.git","svn_url":"https://github.com/pq-code-package/mlkem-c-aarch64","homepage":"","size":155,"stargazers_count":4,"watchers_count":4,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":13,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":[],"visibility":"public","forks":6,"open_issues":13,"watchers":4,"default_branch":"main"}},"_links":{"self":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62"},"html":{"href":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62"},"issue":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62"},"comments":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62/comments"},"review_comments":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/comments"},"review_comment":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/commits"},"statuses":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/bc9bed91c9ca0c528a397cf8c5d823144374b51b"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-07-17T04:37:27Z","org":{"id":158063050,"login":"pq-code-package","gravatar_id":"","url":"https://api.github.com/orgs/pq-code-package","avatar_url":"https://avatars.githubusercontent.com/u/158063050?"}}
{"id":"40234298331","type":"PullRequestReviewCommentEvent","actor":{"id":9219016,"login":"cothan","display_login":"cothan","gravatar_id":"","url":"https://api.github.com/users/cothan","avatar_url":"https://avatars.githubusercontent.com/u/9219016?"},"repo":{"id":773826502,"name":"pq-code-package/mlkem-c-aarch64","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1681428816","pull_request_review_id":2183557170,"id":1681428816,"node_id":"PRRC_kwDOLh-nxs5kOJFQ","diff_hunk":"@@ -367,6 +369,46 @@ void poly_getnoise_eta1(poly *r, const uint8_t seed[KYBER_SYMBYTES], uint8_t non\n     poly_cbd_eta1(r, buf);\n }\n \n+/*************************************************\n+* Name:        poly_getnoise_eta1_4x\n+*\n+* Description: Batch sample four polynomials deterministically from a seed and nonces,\n+*              with output polynomials close to centered binomial distribution\n+*              with parameter KYBER_ETA1\n+*\n+* Arguments:   - poly *r{0,1,2,3}: pointer to output polynomial\n+*              - const uint8_t *seed: pointer to input seed\n+*                                     (of length KYBER_SYMBYTES bytes)\n+*              - uint8_t nonce{0,1,2,3}: one-byte input nonce\n+**************************************************/\n+void poly_getnoise_eta1_4x(poly *r0,\n+                           poly *r1,\n+                           poly *r2,\n+                           poly *r3,\n+                           const uint8_t seed[KYBER_SYMBYTES],\n+                           uint8_t nonce0,\n+                           uint8_t nonce1,\n+                           uint8_t nonce2,\n+                           uint8_t nonce3)\n+{\n+    uint8_t buf[KECCAK_WAY][KYBER_ETA1 * KYBER_N / 4];\n+    uint8_t extkey[KECCAK_WAY][KYBER_SYMBYTES + 1];\n+    memcpy(extkey[0], seed, KYBER_SYMBYTES);\n+    memcpy(extkey[1], seed, KYBER_SYMBYTES);\n+    memcpy(extkey[2], seed, KYBER_SYMBYTES);\n+    memcpy(extkey[3], seed, KYBER_SYMBYTES);\n+    extkey[0][KYBER_SYMBYTES] = nonce0;\n+    extkey[1][KYBER_SYMBYTES] = nonce1;\n+    extkey[2][KYBER_SYMBYTES] = nonce2;\n+    extkey[3][KYBER_SYMBYTES] = nonce3;\n+    shake256x4(buf[0], buf[1], buf[2], buf[3], KYBER_ETA1 * KYBER_N / 4,","path":"mlkem/poly.c","commit_id":"30054f1947bf12ca0bb17db878bb3a49b158f4e5","original_commit_id":"bc9bed91c9ca0c528a397cf8c5d823144374b51b","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"body":"Good idea, I add #88 so we don't forget in the future. ","created_at":"2024-07-17T17:26:42Z","updated_at":"2024-07-17T17:26:43Z","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62#discussion_r1681428816","pull_request_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62","author_association":"CONTRIBUTOR","_links":{"self":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1681428816"},"html":{"href":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62#discussion_r1681428816"},"pull_request":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62"}},"reactions":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1681428816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":404,"original_line":404,"side":"RIGHT","in_reply_to_id":1680394623,"original_position":51,"position":51,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62","id":1919632524,"node_id":"PR_kwDOLh-nxs5ya0SM","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62","diff_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62.diff","patch_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62.patch","issue_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62","number":62,"state":"open","locked":false,"title":"Add Keccak X4 interface","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"body":"# Add Keccak X4 interface. \r\n\r\nPotential optimization: \r\n\r\n- **Multiple Pass Squeezing**: Currently, if `rej_uniform` fails to sample the full vector size, it continues by squeezing a single Keccak lane. By rewriting this logic to append single Keccak calls into a single Keccak X-way call, CPU cycles can be saved. For simplicity, it is currently implemented as a single pass.\r\n\r\n### Next Steps:\r\n\r\n- Add Keccak_X4 assembly to replace the `keccak_absorb_x4keccak_squeezeblocks_x4` in `fips202x.c`.\r\n\r\nFixes #35","created_at":"2024-06-13T22:44:58Z","updated_at":"2024-07-17T17:26:43Z","closed_at":null,"merged_at":null,"merge_commit_sha":"e1d285634b522c04290018eb6920732e3e7063d2","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":7100825001,"node_id":"LA_kwDOLh-nxs8AAAABpz39qQ","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels/benchmark","name":"benchmark","color":"d4c5f9","default":false,"description":"this PR should be benchmarked in CI"}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/commits","review_comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/comments","review_comment_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments{/number}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62/comments","statuses_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/30054f1947bf12ca0bb17db878bb3a49b158f4e5","head":{"label":"cothan:add_keccakx_interface","ref":"add_keccakx_interface","sha":"30054f1947bf12ca0bb17db878bb3a49b158f4e5","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"repo":{"id":776625101,"node_id":"R_kgDOLkpbzQ","name":"mlkem-c-aarch64","full_name":"cothan/mlkem-c-aarch64","private":false,"owner":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"html_url":"https://github.com/cothan/mlkem-c-aarch64","description":null,"fork":true,"url":"https://api.github.com/repos/cothan/mlkem-c-aarch64","forks_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/forks","keys_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/teams","hooks_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/hooks","issue_events_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues/events{/number}","events_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/events","assignees_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/assignees{/user}","branches_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/branches{/branch}","tags_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/tags","blobs_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/refs{/sha}","trees_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/statuses/{sha}","languages_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/languages","stargazers_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/stargazers","contributors_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/contributors","subscribers_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/subscribers","subscription_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/subscription","commits_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/commits{/sha}","git_commits_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/commits{/sha}","comments_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/comments{/number}","issue_comment_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues/comments{/number}","contents_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/contents/{+path}","compare_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/merges","archive_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/downloads","issues_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues{/number}","pulls_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/pulls{/number}","milestones_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/milestones{/number}","notifications_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/labels{/name}","releases_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/releases{/id}","deployments_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/deployments","created_at":"2024-03-24T02:36:53Z","updated_at":"2024-06-28T21:11:53Z","pushed_at":"2024-07-17T17:20:01Z","git_url":"git://github.com/cothan/mlkem-c-aarch64.git","ssh_url":"git@github.com:cothan/mlkem-c-aarch64.git","clone_url":"https://github.com/cothan/mlkem-c-aarch64.git","svn_url":"https://github.com/cothan/mlkem-c-aarch64","homepage":null,"size":163,"stargazers_count":0,"watchers_count":0,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"main"}},"base":{"label":"pq-code-package:main","ref":"main","sha":"dde6611ae205ba649b2e4224da2dbba3425d676f","user":{"login":"pq-code-package","id":158063050,"node_id":"O_kgDOCWvZyg","avatar_url":"https://avatars.githubusercontent.com/u/158063050?v=4","gravatar_id":"","url":"https://api.github.com/users/pq-code-package","html_url":"https://github.com/pq-code-package","followers_url":"https://api.github.com/users/pq-code-package/followers","following_url":"https://api.github.com/users/pq-code-package/following{/other_user}","gists_url":"https://api.github.com/users/pq-code-package/gists{/gist_id}","starred_url":"https://api.github.com/users/pq-code-package/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pq-code-package/subscriptions","organizations_url":"https://api.github.com/users/pq-code-package/orgs","repos_url":"https://api.github.com/users/pq-code-package/repos","events_url":"https://api.github.com/users/pq-code-package/events{/privacy}","received_events_url":"https://api.github.com/users/pq-code-package/received_events","type":"Organization","site_admin":false},"repo":{"id":773826502,"node_id":"R_kgDOLh-nxg","name":"mlkem-c-aarch64","full_name":"pq-code-package/mlkem-c-aarch64","private":false,"owner":{"login":"pq-code-package","id":158063050,"node_id":"O_kgDOCWvZyg","avatar_url":"https://avatars.githubusercontent.com/u/158063050?v=4","gravatar_id":"","url":"https://api.github.com/users/pq-code-package","html_url":"https://github.com/pq-code-package","followers_url":"https://api.github.com/users/pq-code-package/followers","following_url":"https://api.github.com/users/pq-code-package/following{/other_user}","gists_url":"https://api.github.com/users/pq-code-package/gists{/gist_id}","starred_url":"https://api.github.com/users/pq-code-package/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pq-code-package/subscriptions","organizations_url":"https://api.github.com/users/pq-code-package/orgs","repos_url":"https://api.github.com/users/pq-code-package/repos","events_url":"https://api.github.com/users/pq-code-package/events{/privacy}","received_events_url":"https://api.github.com/users/pq-code-package/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/pq-code-package/mlkem-c-aarch64","description":"ML-KEM implementation optimized for aarch64","fork":false,"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64","forks_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/forks","keys_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/teams","hooks_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/hooks","issue_events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/events{/number}","events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/events","assignees_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/assignees{/user}","branches_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/branches{/branch}","tags_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/tags","blobs_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/refs{/sha}","trees_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/{sha}","languages_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/languages","stargazers_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/stargazers","contributors_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/contributors","subscribers_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/subscribers","subscription_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/subscription","commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/commits{/sha}","git_commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/commits{/sha}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/comments{/number}","issue_comment_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/comments{/number}","contents_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/contents/{+path}","compare_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/merges","archive_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/downloads","issues_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues{/number}","pulls_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls{/number}","milestones_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/milestones{/number}","notifications_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels{/name}","releases_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/releases{/id}","deployments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/deployments","created_at":"2024-03-18T13:21:26Z","updated_at":"2024-07-12T07:36:54Z","pushed_at":"2024-07-17T17:20:03Z","git_url":"git://github.com/pq-code-package/mlkem-c-aarch64.git","ssh_url":"git@github.com:pq-code-package/mlkem-c-aarch64.git","clone_url":"https://github.com/pq-code-package/mlkem-c-aarch64.git","svn_url":"https://github.com/pq-code-package/mlkem-c-aarch64","homepage":"","size":155,"stargazers_count":4,"watchers_count":4,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":15,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":[],"visibility":"public","forks":6,"open_issues":15,"watchers":4,"default_branch":"main"}},"_links":{"self":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62"},"html":{"href":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62"},"issue":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62"},"comments":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62/comments"},"review_comments":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/comments"},"review_comment":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/commits"},"statuses":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/30054f1947bf12ca0bb17db878bb3a49b158f4e5"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-07-17T17:26:42Z","org":{"id":158063050,"login":"pq-code-package","gravatar_id":"","url":"https://api.github.com/orgs/pq-code-package","avatar_url":"https://avatars.githubusercontent.com/u/158063050?"}}
{"id":"40234326917","type":"PullRequestReviewCommentEvent","actor":{"id":9219016,"login":"cothan","display_login":"cothan","gravatar_id":"","url":"https://api.github.com/users/cothan","avatar_url":"https://avatars.githubusercontent.com/u/9219016?"},"repo":{"id":773826502,"name":"pq-code-package/mlkem-c-aarch64","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1681430758","pull_request_review_id":2183559363,"id":1681430758,"node_id":"PRRC_kwDOLh-nxs5kOJjm","diff_hunk":"@@ -166,41 +168,86 @@ static unsigned int rej_uniform(int16_t *r,\n // Not static for benchmarking\n void gen_matrix(polyvec *a, const uint8_t seed[KYBER_SYMBYTES], int transposed)\n {\n-    unsigned int ctr, i, j, k;\n-    unsigned int buflen, off;\n-    uint8_t buf[GEN_MATRIX_NBLOCKS * XOF_BLOCKBYTES + 2];\n+    unsigned int ctr, i, j;\n+    unsigned int buflen;\n+    uint8_t bufx[KECCAK_WAY][GEN_MATRIX_NBLOCKS * XOF_BLOCKBYTES];\n+    uint8_t *buf = NULL;\n+    int16_t *vec = NULL;\n+    uint8_t x, y;\n     xof_state state;\n \n-    for (i = 0; i < KYBER_K; i++)\n+    keccakx4_state statex;\n+    // The input data to each Keccak lane.\n+    // Original size; KYBER_SYMBYTES + 2, we add padding to make align load/store.\n+    uint8_t seedxy[KECCAK_WAY][KYBER_SYMBYTES + 16];\n+\n+    for (i = 0; i < (KYBER_K * KYBER_K / KECCAK_WAY) * KECCAK_WAY; i += KECCAK_WAY)\n     {\n-        for (j = 0; j < KYBER_K; j++)\n+        for (j = 0; j < KECCAK_WAY; j++)\n         {\n+            memcpy(seedxy[j], seed, KYBER_SYMBYTES);","path":"mlkem/indcpa.c","commit_id":"30054f1947bf12ca0bb17db878bb3a49b158f4e5","original_commit_id":"bc9bed91c9ca0c528a397cf8c5d823144374b51b","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"body":"You're right, I overlook this line. I moved it out of the loop. ","created_at":"2024-07-17T17:27:34Z","updated_at":"2024-07-17T17:27:34Z","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62#discussion_r1681430758","pull_request_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62","author_association":"CONTRIBUTOR","_links":{"self":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1681430758"},"html":{"href":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62#discussion_r1681430758"},"pull_request":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62"}},"reactions":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1681430758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":null,"original_line":188,"side":"RIGHT","in_reply_to_id":1680376131,"original_position":35,"position":null,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62","id":1919632524,"node_id":"PR_kwDOLh-nxs5ya0SM","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62","diff_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62.diff","patch_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62.patch","issue_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62","number":62,"state":"open","locked":false,"title":"Add Keccak X4 interface","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"body":"# Add Keccak X4 interface. \r\n\r\nPotential optimization: \r\n\r\n- **Multiple Pass Squeezing**: Currently, if `rej_uniform` fails to sample the full vector size, it continues by squeezing a single Keccak lane. By rewriting this logic to append single Keccak calls into a single Keccak X-way call, CPU cycles can be saved. For simplicity, it is currently implemented as a single pass.\r\n\r\n### Next Steps:\r\n\r\n- Add Keccak_X4 assembly to replace the `keccak_absorb_x4keccak_squeezeblocks_x4` in `fips202x.c`.\r\n\r\nFixes #35","created_at":"2024-06-13T22:44:58Z","updated_at":"2024-07-17T17:27:34Z","closed_at":null,"merged_at":null,"merge_commit_sha":"e1d285634b522c04290018eb6920732e3e7063d2","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":7100825001,"node_id":"LA_kwDOLh-nxs8AAAABpz39qQ","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels/benchmark","name":"benchmark","color":"d4c5f9","default":false,"description":"this PR should be benchmarked in CI"}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/commits","review_comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/comments","review_comment_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments{/number}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62/comments","statuses_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/30054f1947bf12ca0bb17db878bb3a49b158f4e5","head":{"label":"cothan:add_keccakx_interface","ref":"add_keccakx_interface","sha":"30054f1947bf12ca0bb17db878bb3a49b158f4e5","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"repo":{"id":776625101,"node_id":"R_kgDOLkpbzQ","name":"mlkem-c-aarch64","full_name":"cothan/mlkem-c-aarch64","private":false,"owner":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"html_url":"https://github.com/cothan/mlkem-c-aarch64","description":null,"fork":true,"url":"https://api.github.com/repos/cothan/mlkem-c-aarch64","forks_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/forks","keys_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/teams","hooks_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/hooks","issue_events_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues/events{/number}","events_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/events","assignees_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/assignees{/user}","branches_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/branches{/branch}","tags_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/tags","blobs_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/refs{/sha}","trees_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/statuses/{sha}","languages_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/languages","stargazers_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/stargazers","contributors_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/contributors","subscribers_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/subscribers","subscription_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/subscription","commits_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/commits{/sha}","git_commits_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/commits{/sha}","comments_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/comments{/number}","issue_comment_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues/comments{/number}","contents_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/contents/{+path}","compare_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/merges","archive_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/downloads","issues_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues{/number}","pulls_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/pulls{/number}","milestones_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/milestones{/number}","notifications_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/labels{/name}","releases_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/releases{/id}","deployments_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/deployments","created_at":"2024-03-24T02:36:53Z","updated_at":"2024-06-28T21:11:53Z","pushed_at":"2024-07-17T17:20:01Z","git_url":"git://github.com/cothan/mlkem-c-aarch64.git","ssh_url":"git@github.com:cothan/mlkem-c-aarch64.git","clone_url":"https://github.com/cothan/mlkem-c-aarch64.git","svn_url":"https://github.com/cothan/mlkem-c-aarch64","homepage":null,"size":163,"stargazers_count":0,"watchers_count":0,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"main"}},"base":{"label":"pq-code-package:main","ref":"main","sha":"dde6611ae205ba649b2e4224da2dbba3425d676f","user":{"login":"pq-code-package","id":158063050,"node_id":"O_kgDOCWvZyg","avatar_url":"https://avatars.githubusercontent.com/u/158063050?v=4","gravatar_id":"","url":"https://api.github.com/users/pq-code-package","html_url":"https://github.com/pq-code-package","followers_url":"https://api.github.com/users/pq-code-package/followers","following_url":"https://api.github.com/users/pq-code-package/following{/other_user}","gists_url":"https://api.github.com/users/pq-code-package/gists{/gist_id}","starred_url":"https://api.github.com/users/pq-code-package/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pq-code-package/subscriptions","organizations_url":"https://api.github.com/users/pq-code-package/orgs","repos_url":"https://api.github.com/users/pq-code-package/repos","events_url":"https://api.github.com/users/pq-code-package/events{/privacy}","received_events_url":"https://api.github.com/users/pq-code-package/received_events","type":"Organization","site_admin":false},"repo":{"id":773826502,"node_id":"R_kgDOLh-nxg","name":"mlkem-c-aarch64","full_name":"pq-code-package/mlkem-c-aarch64","private":false,"owner":{"login":"pq-code-package","id":158063050,"node_id":"O_kgDOCWvZyg","avatar_url":"https://avatars.githubusercontent.com/u/158063050?v=4","gravatar_id":"","url":"https://api.github.com/users/pq-code-package","html_url":"https://github.com/pq-code-package","followers_url":"https://api.github.com/users/pq-code-package/followers","following_url":"https://api.github.com/users/pq-code-package/following{/other_user}","gists_url":"https://api.github.com/users/pq-code-package/gists{/gist_id}","starred_url":"https://api.github.com/users/pq-code-package/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pq-code-package/subscriptions","organizations_url":"https://api.github.com/users/pq-code-package/orgs","repos_url":"https://api.github.com/users/pq-code-package/repos","events_url":"https://api.github.com/users/pq-code-package/events{/privacy}","received_events_url":"https://api.github.com/users/pq-code-package/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/pq-code-package/mlkem-c-aarch64","description":"ML-KEM implementation optimized for aarch64","fork":false,"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64","forks_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/forks","keys_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/teams","hooks_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/hooks","issue_events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/events{/number}","events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/events","assignees_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/assignees{/user}","branches_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/branches{/branch}","tags_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/tags","blobs_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/refs{/sha}","trees_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/{sha}","languages_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/languages","stargazers_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/stargazers","contributors_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/contributors","subscribers_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/subscribers","subscription_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/subscription","commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/commits{/sha}","git_commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/commits{/sha}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/comments{/number}","issue_comment_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/comments{/number}","contents_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/contents/{+path}","compare_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/merges","archive_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/downloads","issues_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues{/number}","pulls_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls{/number}","milestones_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/milestones{/number}","notifications_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels{/name}","releases_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/releases{/id}","deployments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/deployments","created_at":"2024-03-18T13:21:26Z","updated_at":"2024-07-12T07:36:54Z","pushed_at":"2024-07-17T17:20:03Z","git_url":"git://github.com/pq-code-package/mlkem-c-aarch64.git","ssh_url":"git@github.com:pq-code-package/mlkem-c-aarch64.git","clone_url":"https://github.com/pq-code-package/mlkem-c-aarch64.git","svn_url":"https://github.com/pq-code-package/mlkem-c-aarch64","homepage":"","size":155,"stargazers_count":4,"watchers_count":4,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":15,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":[],"visibility":"public","forks":6,"open_issues":15,"watchers":4,"default_branch":"main"}},"_links":{"self":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62"},"html":{"href":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62"},"issue":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62"},"comments":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62/comments"},"review_comments":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/comments"},"review_comment":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/commits"},"statuses":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/30054f1947bf12ca0bb17db878bb3a49b158f4e5"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-07-17T17:27:34Z","org":{"id":158063050,"login":"pq-code-package","gravatar_id":"","url":"https://api.github.com/orgs/pq-code-package","avatar_url":"https://avatars.githubusercontent.com/u/158063050?"}}
{"id":"40234369090","type":"PullRequestReviewCommentEvent","actor":{"id":9219016,"login":"cothan","display_login":"cothan","gravatar_id":"","url":"https://api.github.com/users/cothan","avatar_url":"https://avatars.githubusercontent.com/u/9219016?"},"repo":{"id":773826502,"name":"pq-code-package/mlkem-c-aarch64","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1681433918","pull_request_review_id":2183563706,"id":1681433918,"node_id":"PRRC_kwDOLh-nxs5kOKU-","diff_hunk":"@@ -0,0 +1,242 @@\n+// SPDX-License-Identifier: Apache-2.0\n+#include <string.h>\n+#include \"fips202x4.h\"\n+#include \"fips202.h\"\n+#include \"keccakf1600.h\"\n+\n+#define KECCAK_CTX 25\n+\n+static void keccak_absorb_x4(uint64_t *s, uint32_t r,\n+                             const uint8_t *in0,\n+                             const uint8_t *in1,\n+                             const uint8_t *in2,\n+                             const uint8_t *in3,\n+                             size_t inlen,\n+                             uint8_t p)\n+{\n+\n+    while (inlen >= r)\n+    {\n+\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 0, in0, 0, r);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 1, in1, 0, r);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 2, in2, 0, r);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 3, in3, 0, r);\n+\n+        KeccakF1600_StatePermute(s + KECCAK_CTX * 0);\n+        KeccakF1600_StatePermute(s + KECCAK_CTX * 1);\n+        KeccakF1600_StatePermute(s + KECCAK_CTX * 2);\n+        KeccakF1600_StatePermute(s + KECCAK_CTX * 3);\n+\n+        in0 += r;\n+        in1 += r;\n+        in2 += r;\n+        in3 += r;\n+        inlen -= r;\n+    }\n+\n+    if (inlen > 0)\n+    {\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 0, in0, 0, inlen);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 1, in1, 0, inlen);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 2, in2, 0, inlen);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 3, in3, 0, inlen);\n+    }\n+\n+    if (inlen == r - 1)\n+    {\n+        p |= 128;\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 0, &p, inlen, 1);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 1, &p, inlen, 1);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 2, &p, inlen, 1);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 3, &p, inlen, 1);\n+    }\n+    else\n+    {\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 0, &p, inlen, 1);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 1, &p, inlen, 1);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 2, &p, inlen, 1);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 3, &p, inlen, 1);\n+        p = 128;\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 0, &p, r - 1, 1);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 1, &p, r - 1, 1);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 2, &p, r - 1, 1);\n+        KeccakF1600_StateXORBytes(s + KECCAK_CTX * 3, &p, r - 1, 1);\n+    }\n+}\n+\n+static void keccak_squeezeblocks_x4(uint8_t *out0,\n+                                    uint8_t *out1,\n+                                    uint8_t *out2,\n+                                    uint8_t *out3,\n+                                    size_t nblocks,\n+                                    uint64_t *s,\n+                                    uint32_t r)\n+{\n+\n+    while (nblocks > 0)\n+    {\n+        KeccakF1600_StatePermute(s + KECCAK_CTX * 0);\n+        KeccakF1600_StatePermute(s + KECCAK_CTX * 1);\n+        KeccakF1600_StatePermute(s + KECCAK_CTX * 2);\n+        KeccakF1600_StatePermute(s + KECCAK_CTX * 3);\n+\n+        KeccakF1600_StateExtractBytes(s + KECCAK_CTX * 0, out0, 0, r);\n+        KeccakF1600_StateExtractBytes(s + KECCAK_CTX * 1, out1, 0, r);\n+        KeccakF1600_StateExtractBytes(s + KECCAK_CTX * 2, out2, 0, r);\n+        KeccakF1600_StateExtractBytes(s + KECCAK_CTX * 3, out3, 0, r);\n+\n+        out0 += r;\n+        out1 += r;\n+        out2 += r;\n+        out3 += r;\n+        nblocks--;\n+    }\n+}\n+\n+uint64_t *keccakx_get_lane_state(keccakx4_state *state, size_t index)\n+{\n+    if (index >= KECCAK_WAY)\n+    {\n+        return NULL;\n+    }\n+\n+    return state->ctx + index * KECCAK_CTX;\n+}\n+\n+int shake128x4_absorb(keccakx4_state *state,\n+                      const uint8_t *in0,\n+                      const uint8_t *in1,\n+                      const uint8_t *in2,\n+                      const uint8_t *in3,\n+                      size_t inlen)\n+{\n+    if (state == NULL || in0 == NULL || in1 == NULL || in2 == NULL || in3 == NULL)","path":"fips202/fips202x4.c","commit_id":"30054f1947bf12ca0bb17db878bb3a49b158f4e5","original_commit_id":"bc9bed91c9ca0c528a397cf8c5d823144374b51b","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"body":"At first, I thought the Keccak interface will be reused elsewhere and for other projects. So there are the checks. \r\nI removed all the pointers check in the latest commit. ","created_at":"2024-07-17T17:29:05Z","updated_at":"2024-07-17T17:29:05Z","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62#discussion_r1681433918","pull_request_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62","author_association":"CONTRIBUTOR","_links":{"self":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1681433918"},"html":{"href":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62#discussion_r1681433918"},"pull_request":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62"}},"reactions":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments/1681433918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"start_line":null,"original_start_line":null,"start_side":null,"line":null,"original_line":114,"side":"RIGHT","in_reply_to_id":1680360225,"original_position":114,"position":null,"subject_type":"line"},"pull_request":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62","id":1919632524,"node_id":"PR_kwDOLh-nxs5ya0SM","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62","diff_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62.diff","patch_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62.patch","issue_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62","number":62,"state":"open","locked":false,"title":"Add Keccak X4 interface","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"body":"# Add Keccak X4 interface. \r\n\r\nPotential optimization: \r\n\r\n- **Multiple Pass Squeezing**: Currently, if `rej_uniform` fails to sample the full vector size, it continues by squeezing a single Keccak lane. By rewriting this logic to append single Keccak calls into a single Keccak X-way call, CPU cycles can be saved. For simplicity, it is currently implemented as a single pass.\r\n\r\n### Next Steps:\r\n\r\n- Add Keccak_X4 assembly to replace the `keccak_absorb_x4keccak_squeezeblocks_x4` in `fips202x.c`.\r\n\r\nFixes #35","created_at":"2024-06-13T22:44:58Z","updated_at":"2024-07-17T17:29:05Z","closed_at":null,"merged_at":null,"merge_commit_sha":"e1d285634b522c04290018eb6920732e3e7063d2","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[{"id":7100825001,"node_id":"LA_kwDOLh-nxs8AAAABpz39qQ","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels/benchmark","name":"benchmark","color":"d4c5f9","default":false,"description":"this PR should be benchmarked in CI"}],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/commits","review_comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/comments","review_comment_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments{/number}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62/comments","statuses_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/30054f1947bf12ca0bb17db878bb3a49b158f4e5","head":{"label":"cothan:add_keccakx_interface","ref":"add_keccakx_interface","sha":"30054f1947bf12ca0bb17db878bb3a49b158f4e5","user":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"repo":{"id":776625101,"node_id":"R_kgDOLkpbzQ","name":"mlkem-c-aarch64","full_name":"cothan/mlkem-c-aarch64","private":false,"owner":{"login":"cothan","id":9219016,"node_id":"MDQ6VXNlcjkyMTkwMTY=","avatar_url":"https://avatars.githubusercontent.com/u/9219016?v=4","gravatar_id":"","url":"https://api.github.com/users/cothan","html_url":"https://github.com/cothan","followers_url":"https://api.github.com/users/cothan/followers","following_url":"https://api.github.com/users/cothan/following{/other_user}","gists_url":"https://api.github.com/users/cothan/gists{/gist_id}","starred_url":"https://api.github.com/users/cothan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cothan/subscriptions","organizations_url":"https://api.github.com/users/cothan/orgs","repos_url":"https://api.github.com/users/cothan/repos","events_url":"https://api.github.com/users/cothan/events{/privacy}","received_events_url":"https://api.github.com/users/cothan/received_events","type":"User","site_admin":false},"html_url":"https://github.com/cothan/mlkem-c-aarch64","description":null,"fork":true,"url":"https://api.github.com/repos/cothan/mlkem-c-aarch64","forks_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/forks","keys_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/keys{/key_id}","collaborators_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/teams","hooks_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/hooks","issue_events_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues/events{/number}","events_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/events","assignees_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/assignees{/user}","branches_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/branches{/branch}","tags_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/tags","blobs_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/refs{/sha}","trees_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/trees{/sha}","statuses_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/statuses/{sha}","languages_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/languages","stargazers_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/stargazers","contributors_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/contributors","subscribers_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/subscribers","subscription_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/subscription","commits_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/commits{/sha}","git_commits_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/git/commits{/sha}","comments_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/comments{/number}","issue_comment_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues/comments{/number}","contents_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/contents/{+path}","compare_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/compare/{base}...{head}","merges_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/merges","archive_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/downloads","issues_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/issues{/number}","pulls_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/pulls{/number}","milestones_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/milestones{/number}","notifications_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/labels{/name}","releases_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/releases{/id}","deployments_url":"https://api.github.com/repos/cothan/mlkem-c-aarch64/deployments","created_at":"2024-03-24T02:36:53Z","updated_at":"2024-06-28T21:11:53Z","pushed_at":"2024-07-17T17:20:01Z","git_url":"git://github.com/cothan/mlkem-c-aarch64.git","ssh_url":"git@github.com:cothan/mlkem-c-aarch64.git","clone_url":"https://github.com/cothan/mlkem-c-aarch64.git","svn_url":"https://github.com/cothan/mlkem-c-aarch64","homepage":null,"size":163,"stargazers_count":0,"watchers_count":0,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"main"}},"base":{"label":"pq-code-package:main","ref":"main","sha":"dde6611ae205ba649b2e4224da2dbba3425d676f","user":{"login":"pq-code-package","id":158063050,"node_id":"O_kgDOCWvZyg","avatar_url":"https://avatars.githubusercontent.com/u/158063050?v=4","gravatar_id":"","url":"https://api.github.com/users/pq-code-package","html_url":"https://github.com/pq-code-package","followers_url":"https://api.github.com/users/pq-code-package/followers","following_url":"https://api.github.com/users/pq-code-package/following{/other_user}","gists_url":"https://api.github.com/users/pq-code-package/gists{/gist_id}","starred_url":"https://api.github.com/users/pq-code-package/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pq-code-package/subscriptions","organizations_url":"https://api.github.com/users/pq-code-package/orgs","repos_url":"https://api.github.com/users/pq-code-package/repos","events_url":"https://api.github.com/users/pq-code-package/events{/privacy}","received_events_url":"https://api.github.com/users/pq-code-package/received_events","type":"Organization","site_admin":false},"repo":{"id":773826502,"node_id":"R_kgDOLh-nxg","name":"mlkem-c-aarch64","full_name":"pq-code-package/mlkem-c-aarch64","private":false,"owner":{"login":"pq-code-package","id":158063050,"node_id":"O_kgDOCWvZyg","avatar_url":"https://avatars.githubusercontent.com/u/158063050?v=4","gravatar_id":"","url":"https://api.github.com/users/pq-code-package","html_url":"https://github.com/pq-code-package","followers_url":"https://api.github.com/users/pq-code-package/followers","following_url":"https://api.github.com/users/pq-code-package/following{/other_user}","gists_url":"https://api.github.com/users/pq-code-package/gists{/gist_id}","starred_url":"https://api.github.com/users/pq-code-package/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pq-code-package/subscriptions","organizations_url":"https://api.github.com/users/pq-code-package/orgs","repos_url":"https://api.github.com/users/pq-code-package/repos","events_url":"https://api.github.com/users/pq-code-package/events{/privacy}","received_events_url":"https://api.github.com/users/pq-code-package/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/pq-code-package/mlkem-c-aarch64","description":"ML-KEM implementation optimized for aarch64","fork":false,"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64","forks_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/forks","keys_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/teams","hooks_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/hooks","issue_events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/events{/number}","events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/events","assignees_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/assignees{/user}","branches_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/branches{/branch}","tags_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/tags","blobs_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/refs{/sha}","trees_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/{sha}","languages_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/languages","stargazers_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/stargazers","contributors_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/contributors","subscribers_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/subscribers","subscription_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/subscription","commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/commits{/sha}","git_commits_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/git/commits{/sha}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/comments{/number}","issue_comment_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/comments{/number}","contents_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/contents/{+path}","compare_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/merges","archive_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/downloads","issues_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues{/number}","pulls_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls{/number}","milestones_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/milestones{/number}","notifications_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels{/name}","releases_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/releases{/id}","deployments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/deployments","created_at":"2024-03-18T13:21:26Z","updated_at":"2024-07-12T07:36:54Z","pushed_at":"2024-07-17T17:20:03Z","git_url":"git://github.com/pq-code-package/mlkem-c-aarch64.git","ssh_url":"git@github.com:pq-code-package/mlkem-c-aarch64.git","clone_url":"https://github.com/pq-code-package/mlkem-c-aarch64.git","svn_url":"https://github.com/pq-code-package/mlkem-c-aarch64","homepage":"","size":155,"stargazers_count":4,"watchers_count":4,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":6,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":15,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":[],"visibility":"public","forks":6,"open_issues":15,"watchers":4,"default_branch":"main"}},"_links":{"self":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62"},"html":{"href":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/62"},"issue":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62"},"comments":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/62/comments"},"review_comments":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/comments"},"review_comment":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/62/commits"},"statuses":{"href":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/statuses/30054f1947bf12ca0bb17db878bb3a49b158f4e5"}},"author_association":"CONTRIBUTOR","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2024-07-17T17:29:05Z","org":{"id":158063050,"login":"pq-code-package","gravatar_id":"","url":"https://api.github.com/orgs/pq-code-package","avatar_url":"https://avatars.githubusercontent.com/u/158063050?"}}
