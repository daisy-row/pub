{"id":"40371475719","type":"IssueCommentEvent","actor":{"id":3984960,"login":"mkannwischer","display_login":"mkannwischer","gravatar_id":"","url":"https://api.github.com/users/mkannwischer","avatar_url":"https://avatars.githubusercontent.com/u/3984960?"},"repo":{"id":773826502,"name":"pq-code-package/mlkem-c-aarch64","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/89","repository_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64","labels_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/89/labels{/name}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/89/comments","events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/89/events","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/89","id":2422355135,"node_id":"PR_kwDOLh-nxs52EDpK","number":89,"title":"Refactor nix configuration on ci and the aarch64 gcc dependency on x86_64 machines ","user":{"login":"potsrevennil","id":15379156,"node_id":"MDQ6VXNlcjE1Mzc5MTU2","avatar_url":"https://avatars.githubusercontent.com/u/15379156?v=4","gravatar_id":"","url":"https://api.github.com/users/potsrevennil","html_url":"https://github.com/potsrevennil","followers_url":"https://api.github.com/users/potsrevennil/followers","following_url":"https://api.github.com/users/potsrevennil/following{/other_user}","gists_url":"https://api.github.com/users/potsrevennil/gists{/gist_id}","starred_url":"https://api.github.com/users/potsrevennil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/potsrevennil/subscriptions","organizations_url":"https://api.github.com/users/potsrevennil/orgs","repos_url":"https://api.github.com/users/potsrevennil/repos","events_url":"https://api.github.com/users/potsrevennil/events{/privacy}","received_events_url":"https://api.github.com/users/potsrevennil/received_events","type":"User","site_admin":false},"labels":[{"id":7100825001,"node_id":"LA_kwDOLh-nxs8AAAABpz39qQ","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels/benchmark","name":"benchmark","color":"d4c5f9","default":false,"description":"this PR should be benchmarked in CI"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-07-22T09:09:52Z","updated_at":"2024-07-23T02:25:05Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/pulls/89","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/89","diff_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/89.diff","patch_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/89.patch","merged_at":null},"body":"#### 1. Utilization of `pkgCross.aarch-multiplatform`:\r\n- The `pkgCross.aarch-multiplatform` package in `Nix` is now used to set up `GCC` targeting the `AArch64` platform. This change enhances clarity and simplicity.\r\n- The cumbersome `arm-gnu-gcc.nix` file can thus be removed.\r\n- Note: `AArch64` `macOS` will continue using the native `Clang` compiler as per the original setup.\r\n\r\n#### 2. Cross Prefix Modification:\r\n- The cross prefix for GCC in `pkgCross.aarch-multiplatform` has changed from `aarch64-none-linux-gnu-` to `aarch64-unknown-linux-gnu-`.\r\n- To accommodate this, the test script has been updated to allow users to specify the cross prefix they are using.\r\n\r\n#### 3. CI Configuration Refactor:\r\n\r\n- The CI configuration has been streamlined by utilizing GitHub defaults for setting up the Nix shell, thereby avoiding multiple shell declarations.\r\n\r\n[//]: # (SPDX-License-Identifier: CC-BY-4.0)\r\n<!-- Please give a brief explanation of the purpose of this pull request. -->\r\n\r\n<!-- Does this PR resolve any issue?  If so, please reference it using automatic-closing keywords like \"Fixes #123.\" -->\r\n\r\n<!-- Any PR adding a new feature is expected to contain a test; the test should be part of CI testing, preferably within the \".github/workflows\" directory tree. Please add an explanation to the PR if/when (why) this cannot be done. -->\r\n\r\n<!-- Once your pull request is ready for review and passing continuous integration tests, please convert from a draft PR to a normal PR, and request a review. -->\r\n","reactions":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/89/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/89/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/comments/2244128920","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/pull/89#issuecomment-2244128920","issue_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/89","id":2244128920,"node_id":"IC_kwDOLh-nxs6FwrCY","user":{"login":"mkannwischer","id":3984960,"node_id":"MDQ6VXNlcjM5ODQ5NjA=","avatar_url":"https://avatars.githubusercontent.com/u/3984960?v=4","gravatar_id":"","url":"https://api.github.com/users/mkannwischer","html_url":"https://github.com/mkannwischer","followers_url":"https://api.github.com/users/mkannwischer/followers","following_url":"https://api.github.com/users/mkannwischer/following{/other_user}","gists_url":"https://api.github.com/users/mkannwischer/gists{/gist_id}","starred_url":"https://api.github.com/users/mkannwischer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkannwischer/subscriptions","organizations_url":"https://api.github.com/users/mkannwischer/orgs","repos_url":"https://api.github.com/users/mkannwischer/repos","events_url":"https://api.github.com/users/mkannwischer/events{/privacy}","received_events_url":"https://api.github.com/users/mkannwischer/received_events","type":"User","site_admin":false},"created_at":"2024-07-23T02:25:04Z","updated_at":"2024-07-23T02:25:04Z","author_association":"CONTRIBUTOR","body":"I tested that I can cross compile on x86 and the produced binaries still run on A55. Functionally this is looking good for me. If you fix the one comment I had, we can get this merged. \r\nThanks @potsrevennil!","reactions":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/comments/2244128920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-07-23T02:25:06Z","org":{"id":158063050,"login":"pq-code-package","gravatar_id":"","url":"https://api.github.com/orgs/pq-code-package","avatar_url":"https://avatars.githubusercontent.com/u/158063050?"}}
{"id":"40388376601","type":"IssueCommentEvent","actor":{"id":22185577,"login":"vincentvbh","display_login":"vincentvbh","gravatar_id":"","url":"https://api.github.com/users/vincentvbh","avatar_url":"https://avatars.githubusercontent.com/u/22185577?"},"repo":{"id":773826502,"name":"pq-code-package/mlkem-c-aarch64","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/87","repository_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64","labels_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/87/labels{/name}","comments_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/87/comments","events_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/87/events","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/issues/87","id":2413107342,"node_id":"I_kwDOLh-nxs6P1RiO","number":87,"title":"Add basic NTTs","user":{"login":"hanno-becker","id":26892988,"node_id":"MDQ6VXNlcjI2ODkyOTg4","avatar_url":"https://avatars.githubusercontent.com/u/26892988?v=4","gravatar_id":"","url":"https://api.github.com/users/hanno-becker","html_url":"https://github.com/hanno-becker","followers_url":"https://api.github.com/users/hanno-becker/followers","following_url":"https://api.github.com/users/hanno-becker/following{/other_user}","gists_url":"https://api.github.com/users/hanno-becker/gists{/gist_id}","starred_url":"https://api.github.com/users/hanno-becker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hanno-becker/subscriptions","organizations_url":"https://api.github.com/users/hanno-becker/orgs","repos_url":"https://api.github.com/users/hanno-becker/repos","events_url":"https://api.github.com/users/hanno-becker/events{/privacy}","received_events_url":"https://api.github.com/users/hanno-becker/received_events","type":"User","site_admin":false},"labels":[{"id":6707250812,"node_id":"LA_kwDOLh-nxs8AAAABj8iGfA","url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"open","locked":false,"assignee":{"login":"potsrevennil","id":15379156,"node_id":"MDQ6VXNlcjE1Mzc5MTU2","avatar_url":"https://avatars.githubusercontent.com/u/15379156?v=4","gravatar_id":"","url":"https://api.github.com/users/potsrevennil","html_url":"https://github.com/potsrevennil","followers_url":"https://api.github.com/users/potsrevennil/followers","following_url":"https://api.github.com/users/potsrevennil/following{/other_user}","gists_url":"https://api.github.com/users/potsrevennil/gists{/gist_id}","starred_url":"https://api.github.com/users/potsrevennil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/potsrevennil/subscriptions","organizations_url":"https://api.github.com/users/potsrevennil/orgs","repos_url":"https://api.github.com/users/potsrevennil/repos","events_url":"https://api.github.com/users/potsrevennil/events{/privacy}","received_events_url":"https://api.github.com/users/potsrevennil/received_events","type":"User","site_admin":false},"assignees":[{"login":"potsrevennil","id":15379156,"node_id":"MDQ6VXNlcjE1Mzc5MTU2","avatar_url":"https://avatars.githubusercontent.com/u/15379156?v=4","gravatar_id":"","url":"https://api.github.com/users/potsrevennil","html_url":"https://github.com/potsrevennil","followers_url":"https://api.github.com/users/potsrevennil/followers","following_url":"https://api.github.com/users/potsrevennil/following{/other_user}","gists_url":"https://api.github.com/users/potsrevennil/gists{/gist_id}","starred_url":"https://api.github.com/users/potsrevennil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/potsrevennil/subscriptions","organizations_url":"https://api.github.com/users/potsrevennil/orgs","repos_url":"https://api.github.com/users/potsrevennil/repos","events_url":"https://api.github.com/users/potsrevennil/events{/privacy}","received_events_url":"https://api.github.com/users/potsrevennil/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2024-07-17T09:23:23Z","updated_at":"2024-07-23T13:05:25Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Long-term, we want high-performance NTTs with an internal interface similar if not equal to that of https://github.com/neon-ntt/neon-ntt. To kick off the ASM integration, however, let's first integrate [deinterleaved assembly](https://github.com/slothy-optimizer/slothy/tree/main/examples/naive/aarch64) versions of the NTT and inverse NTT only, and add the necessary compiler time options to switch between C and ASM build. \r\n\r\nAcceptance criteria:\r\n- [ ] Deinterleaved forward and inverse NTTs for MLKEM are added to this repository as standalone ASM files in a separate ASM directory.\r\n- [ ] A compile time option is added that allows to switch between C-only and ASM version of this repository.\r\n- [ ] Said compile-time option controls all existing assembly plus the newly added NTT and invNTT.\r\n- [ ] CI is adjusted to build, test and benchmark the repository with and without ASM.\r\n\r\nFinding a long-term internal interface is explicitly out of scope. If possible, stick with the existing internal interface to the NTTs. If it's not possible, let's discuss.","reactions":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/87/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/87/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/comments/2245197839","html_url":"https://github.com/pq-code-package/mlkem-c-aarch64/issues/87#issuecomment-2245197839","issue_url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/87","id":2245197839,"node_id":"IC_kwDOLh-nxs6F0wAP","user":{"login":"vincentvbh","id":22185577,"node_id":"MDQ6VXNlcjIyMTg1NTc3","avatar_url":"https://avatars.githubusercontent.com/u/22185577?v=4","gravatar_id":"","url":"https://api.github.com/users/vincentvbh","html_url":"https://github.com/vincentvbh","followers_url":"https://api.github.com/users/vincentvbh/followers","following_url":"https://api.github.com/users/vincentvbh/following{/other_user}","gists_url":"https://api.github.com/users/vincentvbh/gists{/gist_id}","starred_url":"https://api.github.com/users/vincentvbh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vincentvbh/subscriptions","organizations_url":"https://api.github.com/users/vincentvbh/orgs","repos_url":"https://api.github.com/users/vincentvbh/repos","events_url":"https://api.github.com/users/vincentvbh/events{/privacy}","received_events_url":"https://api.github.com/users/vincentvbh/received_events","type":"User","site_admin":false},"created_at":"2024-07-23T13:05:24Z","updated_at":"2024-07-23T13:05:24Z","author_association":"NONE","body":"Hi, @hanno-becker. \r\n\r\nI think more things are worth noting. As far as I can tell, the memory access patterns of the plain C (in ML-KEM reference) and the ASM versions (opt-ed implementation in literature) are quite different. It might be better to determine which memory access pattern should be included in the beginning. The differences in memory access patterns imply the differences in tables of twiddle factors.\r\n\r\nThanks,\r\nVincent\r\n","reactions":{"url":"https://api.github.com/repos/pq-code-package/mlkem-c-aarch64/issues/comments/2245197839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-07-23T13:05:26Z","org":{"id":158063050,"login":"pq-code-package","gravatar_id":"","url":"https://api.github.com/orgs/pq-code-package","avatar_url":"https://avatars.githubusercontent.com/u/158063050?"}}
