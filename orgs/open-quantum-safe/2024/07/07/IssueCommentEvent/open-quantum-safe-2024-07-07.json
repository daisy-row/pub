{"id":"39926584915","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/446","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/446/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/446/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/446/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/446","id":2380626976,"node_id":"I_kwDOE_A9l86N5Xwg","number":446,"title":"Interoperablity issue. - Unable to load Dilithium2 Public key in OpenSSL with OQSP Provider created by thirdparty CA","user":{"login":"stauro79","id":174124729,"node_id":"U_kgDOCmDuuQ","avatar_url":"https://avatars.githubusercontent.com/u/174124729?v=4","gravatar_id":"","url":"https://api.github.com/users/stauro79","html_url":"https://github.com/stauro79","followers_url":"https://api.github.com/users/stauro79/followers","following_url":"https://api.github.com/users/stauro79/following{/other_user}","gists_url":"https://api.github.com/users/stauro79/gists{/gist_id}","starred_url":"https://api.github.com/users/stauro79/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stauro79/subscriptions","organizations_url":"https://api.github.com/users/stauro79/orgs","repos_url":"https://api.github.com/users/stauro79/repos","events_url":"https://api.github.com/users/stauro79/events{/privacy}","received_events_url":"https://api.github.com/users/stauro79/received_events","type":"User","site_admin":false},"labels":[{"id":2701983051,"node_id":"MDU6TGFiZWwyNzAxOTgzMDUx","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-06-28T14:56:49Z","updated_at":"2024-07-07T05:40:28Z","closed_at":"2024-07-07T05:40:28Z","author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nI am unable to use/export  Dilithium2 Certificates created by our CA software.\r\nWhen openssl tries to decode the public key, it fails.\r\n\r\nC:\\Users\\v918770\\Documents\\pqc\\openssldebug\\openssl\\apps>openssl x509  -pubkey -noout  -in 1.crt\r\nError getting public key\r\n802D0000:error:03000072:digital envelope routines:X509_PUBKEY_get0:decode error:crypto\\x509\\x_pubkey.c:464:\r\n\r\nWhen i create a dilithium2 cert with openssl, I am able to load it correctly.\r\n\r\nThe different i see is in the public key encoding. \r\n\r\nWhen we ASN.1 encode the public key, the public key parameter is kept as NULL.    The public key encoding done in oqs completely omits the parameter.\r\n\r\nasn1 parse of our cert,, the public key has null in it.\r\n  147:d=2  hl=4 l=1334 cons:   SEQUENCE\r\n  151:d=3  hl=2 l=  15 cons:    SEQUENCE\r\n  153:d=4  hl=2 l=  11 prim:     OBJECT            :dilithium2\r\n  **166:d=4  hl=2 l=   0 prim:     NULL**\r\n  168:d=3  hl=4 l=1313 prim:    BIT STRING\r\n\r\nThis is the sample certificate that fails to load.\r\n`-----BEGIN CERTIFICATE-----\r\n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\r\n-----END CERTIFICATE-----`\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n\r\n$openssl x509  -pubkey -noout  -in 1.crt\r\nError getting public key\r\n802D0000:error:03000072:digital envelope routines:X509_PUBKEY_get0:decode error:crypto\\x509\\x_pubkey.c:464:\r\n\r\n**Expected behavior**\r\nThe above command should export the public key to console.\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Environment (please complete the following information):**\r\nC:\\Users\\v918770\\Documents\\pqc\\openssldebug\\openssl\\apps>.\\openssl version\r\nOpenSSL 3.4.0-dev  (Library: OpenSSL 3.4.0-dev )\r\n\r\nC:\\Users\\v918770\\Documents\\pqc\\openssldebug\\openssl\\apps>.\\openssl list -providers\r\nProviders:\r\n  default\r\n    name: OpenSSL Default Provider\r\n    version: 3.4.0\r\n    status: active\r\n  oqsprovider\r\n    name: OpenSSL OQS Provider\r\n    version: 0.6.1-dev\r\n    status: active\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/446/timeline","performed_via_github_app":null,"state_reason":"completed"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/2212330997","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/446#issuecomment-2212330997","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/446","id":2212330997,"node_id":"IC_kwDOE_A9l86D3X31","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2024-07-07T05:40:28Z","updated_at":"2024-07-07T05:40:28Z","author_association":"MEMBER","body":"Closing as per above","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/2212330997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-07-07T05:40:29Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
