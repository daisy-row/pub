{"id":"34990980998","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/339","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/339/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/339/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/339/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/339","id":2090854389,"node_id":"I_kwDOE_A9l858n-f1","number":339,"title":".deb inside of oqsprovider-linux-x64.zip 0.5.3 does not work & prevents OpenSSL from loading","user":{"login":"catharsis71","id":70603733,"node_id":"MDQ6VXNlcjcwNjAzNzMz","avatar_url":"https://avatars.githubusercontent.com/u/70603733?v=4","gravatar_id":"","url":"https://api.github.com/users/catharsis71","html_url":"https://github.com/catharsis71","followers_url":"https://api.github.com/users/catharsis71/followers","following_url":"https://api.github.com/users/catharsis71/following{/other_user}","gists_url":"https://api.github.com/users/catharsis71/gists{/gist_id}","starred_url":"https://api.github.com/users/catharsis71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/catharsis71/subscriptions","organizations_url":"https://api.github.com/users/catharsis71/orgs","repos_url":"https://api.github.com/users/catharsis71/repos","events_url":"https://api.github.com/users/catharsis71/events{/privacy}","received_events_url":"https://api.github.com/users/catharsis71/received_events","type":"User","site_admin":false},"labels":[{"id":2701983051,"node_id":"MDU6TGFiZWwyNzAxOTgzMDUx","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-01-19T16:10:37Z","updated_at":"2024-01-21T09:46:56Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\n\r\nInstalling this .deb deleted my existing ```/usr/lib/x86_64-linux-gnu/ossl-modules/oqsprovider.so``` (from an older .deb) from all my servers and did not replace it,  instead it dumped a bunch of files into a ```/__w/``` directory which appears to be in error:\r\n\r\n```\r\n# find /__w/\r\n/__w/\r\n/__w/oqs-provider\r\n/__w/oqs-provider/oqs-provider\r\n/__w/oqs-provider/oqs-provider/.local\r\n/__w/oqs-provider/oqs-provider/.local/lib\r\n/__w/oqs-provider/oqs-provider/.local/lib/ossl-modules\r\n/__w/oqs-provider/oqs-provider/.local/lib/ossl-modules/oqsprovider.so\r\n```\r\n\r\nThis caused all my OpenSSL-linked services (Apache etc) to be unable to start and caused me to be unable to run curl and other programs\r\n\r\n\r\nalso causes OpenSSL commands to fail:\r\n\r\n```\r\n# openssl list -signature-algorithms -provider oqsprovider\r\nlist: unable to load provider oqsprovider\r\nHint: use -provider-path option or OPENSSL_MODULES environment variable.\r\n40D717FE7F7F0000:error:12800067:DSO support routines:dlfcn_load:could not load the shared library:../crypto/dso/dso_dlfcn.c:118:filename(/usr/lib/x86_64-linux-gnu/ossl-modules/oqsprovider.so): /usr/lib/x86_64-linux-gnu/ossl-modules/oqsprovider.so: cannot open shared object file: No such file or directory\r\n40D717FE7F7F0000:error:12800067:DSO support routines:DSO_load:could not load the shared library:../crypto/dso/dso_lib.c:152:\r\n40D717FE7F7F0000:error:078C0105:common libcrypto routines:provider_init:init fail:../crypto/provider_core.c:910:name=oqsprovider\r\n```","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/339/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1902572288","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/339#issuecomment-1902572288","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/339","id":1902572288,"node_id":"IC_kwDOE_A9l85xZvMA","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2024-01-21T09:46:55Z","updated_at":"2024-01-21T09:46:55Z","author_association":"MEMBER","body":"> Thank you, also, just out of curiosity, are you planning on providing .debs for liboqs as well? Having pre-built debs for provider is of limited benefit when you still have to compile liboqs manually\r\n\r\nThe `liboqs` project doesn't (or at least didn't) want to make binaries available (maybe worthwhile reconsidering, @dstebila ?). Thus, the `oqsprovider` .deb indeed was meant for folks that have `liboqs` deployed by other means (e.g., downstream packaging). \r\n\r\nBut your question correctly points to other setups. Would you think a .deb `oqsprovider` statically containing `liboqs` would be a good addition, @catharsis71 ?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1902572288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-01-21T09:46:56Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"34996713236","type":"IssueCommentEvent","actor":{"id":70603733,"login":"catharsis71","display_login":"catharsis71","gravatar_id":"","url":"https://api.github.com/users/catharsis71","avatar_url":"https://avatars.githubusercontent.com/u/70603733?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/339","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/339/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/339/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/339/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/339","id":2090854389,"node_id":"I_kwDOE_A9l858n-f1","number":339,"title":".deb inside of oqsprovider-linux-x64.zip 0.5.3 does not work & prevents OpenSSL from loading","user":{"login":"catharsis71","id":70603733,"node_id":"MDQ6VXNlcjcwNjAzNzMz","avatar_url":"https://avatars.githubusercontent.com/u/70603733?v=4","gravatar_id":"","url":"https://api.github.com/users/catharsis71","html_url":"https://github.com/catharsis71","followers_url":"https://api.github.com/users/catharsis71/followers","following_url":"https://api.github.com/users/catharsis71/following{/other_user}","gists_url":"https://api.github.com/users/catharsis71/gists{/gist_id}","starred_url":"https://api.github.com/users/catharsis71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/catharsis71/subscriptions","organizations_url":"https://api.github.com/users/catharsis71/orgs","repos_url":"https://api.github.com/users/catharsis71/repos","events_url":"https://api.github.com/users/catharsis71/events{/privacy}","received_events_url":"https://api.github.com/users/catharsis71/received_events","type":"User","site_admin":false},"labels":[{"id":2701983051,"node_id":"MDU6TGFiZWwyNzAxOTgzMDUx","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/labels/bug","name":"bug","color":"d73a4a","default":true,"description":"Something isn't working"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-01-19T16:10:37Z","updated_at":"2024-01-21T20:22:26Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\n\r\nInstalling this .deb deleted my existing ```/usr/lib/x86_64-linux-gnu/ossl-modules/oqsprovider.so``` (from an older .deb) from all my servers and did not replace it,  instead it dumped a bunch of files into a ```/__w/``` directory which appears to be in error:\r\n\r\n```\r\n# find /__w/\r\n/__w/\r\n/__w/oqs-provider\r\n/__w/oqs-provider/oqs-provider\r\n/__w/oqs-provider/oqs-provider/.local\r\n/__w/oqs-provider/oqs-provider/.local/lib\r\n/__w/oqs-provider/oqs-provider/.local/lib/ossl-modules\r\n/__w/oqs-provider/oqs-provider/.local/lib/ossl-modules/oqsprovider.so\r\n```\r\n\r\nThis caused all my OpenSSL-linked services (Apache etc) to be unable to start and caused me to be unable to run curl and other programs\r\n\r\n\r\nalso causes OpenSSL commands to fail:\r\n\r\n```\r\n# openssl list -signature-algorithms -provider oqsprovider\r\nlist: unable to load provider oqsprovider\r\nHint: use -provider-path option or OPENSSL_MODULES environment variable.\r\n40D717FE7F7F0000:error:12800067:DSO support routines:dlfcn_load:could not load the shared library:../crypto/dso/dso_dlfcn.c:118:filename(/usr/lib/x86_64-linux-gnu/ossl-modules/oqsprovider.so): /usr/lib/x86_64-linux-gnu/ossl-modules/oqsprovider.so: cannot open shared object file: No such file or directory\r\n40D717FE7F7F0000:error:12800067:DSO support routines:DSO_load:could not load the shared library:../crypto/dso/dso_lib.c:152:\r\n40D717FE7F7F0000:error:078C0105:common libcrypto routines:provider_init:init fail:../crypto/provider_core.c:910:name=oqsprovider\r\n```","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/339/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1902751396","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/339#issuecomment-1902751396","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/339","id":1902751396,"node_id":"IC_kwDOE_A9l85xaa6k","user":{"login":"catharsis71","id":70603733,"node_id":"MDQ6VXNlcjcwNjAzNzMz","avatar_url":"https://avatars.githubusercontent.com/u/70603733?v=4","gravatar_id":"","url":"https://api.github.com/users/catharsis71","html_url":"https://github.com/catharsis71","followers_url":"https://api.github.com/users/catharsis71/followers","following_url":"https://api.github.com/users/catharsis71/following{/other_user}","gists_url":"https://api.github.com/users/catharsis71/gists{/gist_id}","starred_url":"https://api.github.com/users/catharsis71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/catharsis71/subscriptions","organizations_url":"https://api.github.com/users/catharsis71/orgs","repos_url":"https://api.github.com/users/catharsis71/repos","events_url":"https://api.github.com/users/catharsis71/events{/privacy}","received_events_url":"https://api.github.com/users/catharsis71/received_events","type":"User","site_admin":false},"created_at":"2024-01-21T20:22:24Z","updated_at":"2024-01-21T20:22:24Z","author_association":"NONE","body":"A statically-linked .deb would be great.  I run this on my home PC and 6 servers.  I normally only have compiler/library/build-tool stuff installed on my home PC.  I've been compiling / building .debs there and then copying to 5 of the 6 servers.  But one server is ARM64 and I couldn't figure out if cross-compiling was possible so I had to install all the build stuff & libraries on that server too.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1902751396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-01-21T20:22:26Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
