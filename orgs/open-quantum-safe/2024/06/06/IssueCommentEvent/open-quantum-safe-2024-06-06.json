{"id":"39065221483","type":"IssueCommentEvent","actor":{"id":149199,"login":"bhess","display_login":"bhess","gravatar_id":"","url":"https://api.github.com/users/bhess","avatar_url":"https://avatars.githubusercontent.com/u/149199?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/425","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/425/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/425/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/425/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/425","id":2338463514,"node_id":"I_kwDOE_A9l86LYh8a","number":425,"title":"Dilithium cert is not recognized","user":{"login":"HarryLee02","id":133017121,"node_id":"U_kgDOB-2uIQ","avatar_url":"https://avatars.githubusercontent.com/u/133017121?v=4","gravatar_id":"","url":"https://api.github.com/users/HarryLee02","html_url":"https://github.com/HarryLee02","followers_url":"https://api.github.com/users/HarryLee02/followers","following_url":"https://api.github.com/users/HarryLee02/following{/other_user}","gists_url":"https://api.github.com/users/HarryLee02/gists{/gist_id}","starred_url":"https://api.github.com/users/HarryLee02/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HarryLee02/subscriptions","organizations_url":"https://api.github.com/users/HarryLee02/orgs","repos_url":"https://api.github.com/users/HarryLee02/repos","events_url":"https://api.github.com/users/HarryLee02/events{/privacy}","received_events_url":"https://api.github.com/users/HarryLee02/received_events","type":"User","site_admin":false},"labels":[{"id":2701983058,"node_id":"MDU6TGFiZWwyNzAxOTgzMDU4","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/labels/question","name":"question","color":"d876e3","default":true,"description":"No code change required"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-06-06T14:53:19Z","updated_at":"2024-06-06T15:08:57Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I followed this [link](https://developer.ibm.com/tutorials/awb-building-quantum-safe-web-applications/) and got to the starting TLS server step. But it seems that openssl doesnt recognize dilithium cert type. After I run this line\r\n```\r\n$ openssl s_server -cert server.crt -key server.key -www -tls1_3 -CAfile CA.crt -curves kyber512:p521_kyber1024\r\n```\r\nI got the error:\r\n```\r\nUsing default temp DH parameters\r\nerror setting certificate\r\n40D7675D127C0000:error:0A0000F7:SSL routines:ssl_set_cert:unknown certificate type:../ssl/ssl_rsa.c:239:\r\n```\r\nMy openssl version does have oqsprovider:\r\n```bash\r\n$ openssl version\r\nOpenSSL 3.0.2 15 Mar 2022 (Library: OpenSSL 3.0.2 15 Mar 2022)\r\n\r\n$ openssl list -providers -verbose -provider oqsprovider\r\nProviders:\r\n  default\r\n    name: OpenSSL Default Provider\r\n    version: 3.0.2\r\n    status: active\r\n    build info: 3.0.2\r\n    gettable provider parameters:\r\n      name: pointer to a UTF8 encoded string (arbitrary size)\r\n      version: pointer to a UTF8 encoded string (arbitrary size)\r\n      buildinfo: pointer to a UTF8 encoded string (arbitrary size)\r\n      status: integer (arbitrary size)\r\n  oqsprovider\r\n    name: OpenSSL OQS Provider\r\n    version: 0.6.1-dev\r\n    status: active\r\n    build info: OQS Provider v.0.6.1-dev (8b3d460) based on liboqs v.0.10.1-dev\r\n    gettable provider parameters:\r\n      name: pointer to a UTF8 encoded string (arbitrary size)\r\n      version: pointer to a UTF8 encoded string (arbitrary size)\r\n      buildinfo: pointer to a UTF8 encoded string (arbitrary size)\r\n      status: integer (arbitrary size)\r\n```\r\nI don't even know where is the ..ssl/ssl_rsa.c is so I don't know what to debug.\r\nI have followed the previous step correctly, only the `curl` does not recognize kyber or dilithium, and it only displayed `SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384`. I think this is not relevant but will mention it anyway","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/425/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/2152777088","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/425#issuecomment-2152777088","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/425","id":2152777088,"node_id":"IC_kwDOE_A9l86AUMWA","user":{"login":"bhess","id":149199,"node_id":"MDQ6VXNlcjE0OTE5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/149199?v=4","gravatar_id":"","url":"https://api.github.com/users/bhess","html_url":"https://github.com/bhess","followers_url":"https://api.github.com/users/bhess/followers","following_url":"https://api.github.com/users/bhess/following{/other_user}","gists_url":"https://api.github.com/users/bhess/gists{/gist_id}","starred_url":"https://api.github.com/users/bhess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhess/subscriptions","organizations_url":"https://api.github.com/users/bhess/orgs","repos_url":"https://api.github.com/users/bhess/repos","events_url":"https://api.github.com/users/bhess/events{/privacy}","received_events_url":"https://api.github.com/users/bhess/received_events","type":"User","site_admin":false},"created_at":"2024-06-06T15:08:56Z","updated_at":"2024-06-06T15:08:56Z","author_association":"MEMBER","body":"Hi @HarryLee02, I think you need at least OpenSSL v3.2 for full PQ-TLS support, see https://github.com/open-quantum-safe/oqs-provider/blob/main/README.md#32-and-greater.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/2152777088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-06-06T15:08:57Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"39065702410","type":"IssueCommentEvent","actor":{"id":39264796,"login":"SWilson4","display_login":"SWilson4","gravatar_id":"","url":"https://api.github.com/users/SWilson4","avatar_url":"https://avatars.githubusercontent.com/u/39264796?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1811","id":2337893115,"node_id":"I_kwDOA-eq3c6LWWr7","number":1811,"title":"The library always links against libpthreads","user":{"login":"maroueneboubakri","id":1358071,"node_id":"MDQ6VXNlcjEzNTgwNzE=","avatar_url":"https://avatars.githubusercontent.com/u/1358071?v=4","gravatar_id":"","url":"https://api.github.com/users/maroueneboubakri","html_url":"https://github.com/maroueneboubakri","followers_url":"https://api.github.com/users/maroueneboubakri/followers","following_url":"https://api.github.com/users/maroueneboubakri/following{/other_user}","gists_url":"https://api.github.com/users/maroueneboubakri/gists{/gist_id}","starred_url":"https://api.github.com/users/maroueneboubakri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maroueneboubakri/subscriptions","organizations_url":"https://api.github.com/users/maroueneboubakri/orgs","repos_url":"https://api.github.com/users/maroueneboubakri/repos","events_url":"https://api.github.com/users/maroueneboubakri/events{/privacy}","received_events_url":"https://api.github.com/users/maroueneboubakri/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-06-06T10:18:13Z","updated_at":"2024-06-06T15:22:03Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello, \r\n\r\nSome PRs introduced `OQS_USE_PTHREADS ` flag to decide if to use pthreads or not, however seems that this does not have an effect.\r\nThe library always links against pthread. \r\n\r\nThe flag is hardcoded to 1 in https://github.com/open-quantum-safe/liboqs/blob/main/src/oqsconfig.h.cmake#L30\r\n\r\nIf you look at https://github.com/open-quantum-safe/liboqs/blob/main/src/common/sha3/xkcp_sha3.c#L16 means that the code will reference always pthread.\r\n\r\nThis issue for example does not allow the oqsprovider tests to build (static): undefined reference to `pthread_once`\r\n\r\nCould you please check.\r\n\r\nBest\r\nMaro\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/2152805091","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1811#issuecomment-2152805091","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811","id":2152805091,"node_id":"IC_kwDOA-eq3c6AUTLj","user":{"login":"SWilson4","id":39264796,"node_id":"MDQ6VXNlcjM5MjY0Nzk2","avatar_url":"https://avatars.githubusercontent.com/u/39264796?v=4","gravatar_id":"","url":"https://api.github.com/users/SWilson4","html_url":"https://github.com/SWilson4","followers_url":"https://api.github.com/users/SWilson4/followers","following_url":"https://api.github.com/users/SWilson4/following{/other_user}","gists_url":"https://api.github.com/users/SWilson4/gists{/gist_id}","starred_url":"https://api.github.com/users/SWilson4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SWilson4/subscriptions","organizations_url":"https://api.github.com/users/SWilson4/orgs","repos_url":"https://api.github.com/users/SWilson4/repos","events_url":"https://api.github.com/users/SWilson4/events{/privacy}","received_events_url":"https://api.github.com/users/SWilson4/received_events","type":"User","site_admin":false},"created_at":"2024-06-06T15:22:02Z","updated_at":"2024-06-06T15:22:02Z","author_association":"MEMBER","body":"Hi @maroueneboubakri, thanks for filing an issue. Could you please provide details of your environment (OS, architecture, etc) and the build commands you're using? This will allow me to try to reproduce the issue.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/2152805091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-06-06T15:22:04Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"39067659007","type":"IssueCommentEvent","actor":{"id":1358071,"login":"maroueneboubakri","display_login":"maroueneboubakri","gravatar_id":"","url":"https://api.github.com/users/maroueneboubakri","avatar_url":"https://avatars.githubusercontent.com/u/1358071?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1811","id":2337893115,"node_id":"I_kwDOA-eq3c6LWWr7","number":1811,"title":"The library always links against libpthreads","user":{"login":"maroueneboubakri","id":1358071,"node_id":"MDQ6VXNlcjEzNTgwNzE=","avatar_url":"https://avatars.githubusercontent.com/u/1358071?v=4","gravatar_id":"","url":"https://api.github.com/users/maroueneboubakri","html_url":"https://github.com/maroueneboubakri","followers_url":"https://api.github.com/users/maroueneboubakri/followers","following_url":"https://api.github.com/users/maroueneboubakri/following{/other_user}","gists_url":"https://api.github.com/users/maroueneboubakri/gists{/gist_id}","starred_url":"https://api.github.com/users/maroueneboubakri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maroueneboubakri/subscriptions","organizations_url":"https://api.github.com/users/maroueneboubakri/orgs","repos_url":"https://api.github.com/users/maroueneboubakri/repos","events_url":"https://api.github.com/users/maroueneboubakri/events{/privacy}","received_events_url":"https://api.github.com/users/maroueneboubakri/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-06-06T10:18:13Z","updated_at":"2024-06-06T16:19:56Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello, \r\n\r\nSome PRs introduced `OQS_USE_PTHREADS ` flag to decide if to use pthreads or not, however seems that this does not have an effect.\r\nThe library always links against pthread. \r\n\r\nThe flag is hardcoded to 1 in https://github.com/open-quantum-safe/liboqs/blob/main/src/oqsconfig.h.cmake#L30\r\n\r\nIf you look at https://github.com/open-quantum-safe/liboqs/blob/main/src/common/sha3/xkcp_sha3.c#L16 means that the code will reference always pthread.\r\n\r\nThis issue for example does not allow the oqsprovider tests to build (static): undefined reference to `pthread_once`\r\n\r\nCould you please check.\r\n\r\nBest\r\nMaro\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/2152922820","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1811#issuecomment-2152922820","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811","id":2152922820,"node_id":"IC_kwDOA-eq3c6AUv7E","user":{"login":"maroueneboubakri","id":1358071,"node_id":"MDQ6VXNlcjEzNTgwNzE=","avatar_url":"https://avatars.githubusercontent.com/u/1358071?v=4","gravatar_id":"","url":"https://api.github.com/users/maroueneboubakri","html_url":"https://github.com/maroueneboubakri","followers_url":"https://api.github.com/users/maroueneboubakri/followers","following_url":"https://api.github.com/users/maroueneboubakri/following{/other_user}","gists_url":"https://api.github.com/users/maroueneboubakri/gists{/gist_id}","starred_url":"https://api.github.com/users/maroueneboubakri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maroueneboubakri/subscriptions","organizations_url":"https://api.github.com/users/maroueneboubakri/orgs","repos_url":"https://api.github.com/users/maroueneboubakri/repos","events_url":"https://api.github.com/users/maroueneboubakri/events{/privacy}","received_events_url":"https://api.github.com/users/maroueneboubakri/received_events","type":"User","site_admin":false},"created_at":"2024-06-06T16:19:55Z","updated_at":"2024-06-06T16:19:55Z","author_association":"NONE","body":"Hi @SWilson4,\r\n\r\nMachine: x64 with Ubuntu 20.04\r\n\r\nBuild instructions:\r\n```\r\ncd ~/openssl\r\nOPENSSL_BRANCH=\"openssl-3.2.0\"\r\nOPENSSL_PREFIX=`pwd`/build\r\ngit clone --depth 1 --branch $OPENSSL_BRANCH https://github.com/openssl/openssl.git && cd openssl && LDFLAGS=\"-Wl,-rpath -Wl,${OPENSSL_PREFIX}/lib64\" ./config --prefix=$OPENSSL_PREFIX && make && make install_sw install_ssldirs\r\n\r\n\r\ncd ~/liboqs\r\nLIBOQS_BRANCH=\"0.10.0\"\r\ngit clone --depth 1 --branch $LIBOQS_BRANCH https://github.com/open-quantum-safe/liboqs.git\r\ncd liboqs\r\ncmake -GNinja -DOQS_ALGS_ENABLED=STD -DOQS_BUILD_ONLY_LIB=ON -DOQS_MINIMAL_BUILD=\"SIG_dilithium_3\" -DOQS_DIST_BUILD=ON -DOQS_USE_OPENSSL=OFF -DOQS_USE_PTHREADS=OFF -DCMAKE_INSTALL_PREFIX=./build -S . -B build && cd build && ninja && ninja install\r\n\r\n\r\ncd ~/oqsprovider\r\nOQSPROVIDER_BRANCH=\"0.6.0\"\r\ngit clone --depth 1 --branch $OQSPROVIDER_BRANCH https://github.com/open-quantum-safe/oqs-provider.git\r\ncd oqs-provider\r\nliboqs_DIR=$(pwd)/../liboqs/build/ cmake -DOPENSSL_ROOT_DIR=$(pwd)/../openssl -DOQS_PROVIDER_BUILD_STATIC=ON -S . -B build && cmake --build build\r\n\r\n> Fails here due to unresolved symbol pthread_once.\r\n```\r\n\r\nHope this helps.\r\n\r\nBr\r\nMaro\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/2152922820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-06-06T16:19:56Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"39074417519","type":"IssueCommentEvent","actor":{"id":39264796,"login":"SWilson4","display_login":"SWilson4","gravatar_id":"","url":"https://api.github.com/users/SWilson4","avatar_url":"https://avatars.githubusercontent.com/u/39264796?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1811","id":2337893115,"node_id":"I_kwDOA-eq3c6LWWr7","number":1811,"title":"The library always links against libpthreads","user":{"login":"maroueneboubakri","id":1358071,"node_id":"MDQ6VXNlcjEzNTgwNzE=","avatar_url":"https://avatars.githubusercontent.com/u/1358071?v=4","gravatar_id":"","url":"https://api.github.com/users/maroueneboubakri","html_url":"https://github.com/maroueneboubakri","followers_url":"https://api.github.com/users/maroueneboubakri/followers","following_url":"https://api.github.com/users/maroueneboubakri/following{/other_user}","gists_url":"https://api.github.com/users/maroueneboubakri/gists{/gist_id}","starred_url":"https://api.github.com/users/maroueneboubakri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maroueneboubakri/subscriptions","organizations_url":"https://api.github.com/users/maroueneboubakri/orgs","repos_url":"https://api.github.com/users/maroueneboubakri/repos","events_url":"https://api.github.com/users/maroueneboubakri/events{/privacy}","received_events_url":"https://api.github.com/users/maroueneboubakri/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-06-06T10:18:13Z","updated_at":"2024-06-06T20:24:30Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello, \r\n\r\nSome PRs introduced `OQS_USE_PTHREADS ` flag to decide if to use pthreads or not, however seems that this does not have an effect.\r\nThe library always links against pthread. \r\n\r\nThe flag is hardcoded to 1 in https://github.com/open-quantum-safe/liboqs/blob/main/src/oqsconfig.h.cmake#L30\r\n\r\nIf you look at https://github.com/open-quantum-safe/liboqs/blob/main/src/common/sha3/xkcp_sha3.c#L16 means that the code will reference always pthread.\r\n\r\nThis issue for example does not allow the oqsprovider tests to build (static): undefined reference to `pthread_once`\r\n\r\nCould you please check.\r\n\r\nBest\r\nMaro\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/2153347479","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1811#issuecomment-2153347479","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811","id":2153347479,"node_id":"IC_kwDOA-eq3c6AWXmX","user":{"login":"SWilson4","id":39264796,"node_id":"MDQ6VXNlcjM5MjY0Nzk2","avatar_url":"https://avatars.githubusercontent.com/u/39264796?v=4","gravatar_id":"","url":"https://api.github.com/users/SWilson4","html_url":"https://github.com/SWilson4","followers_url":"https://api.github.com/users/SWilson4/followers","following_url":"https://api.github.com/users/SWilson4/following{/other_user}","gists_url":"https://api.github.com/users/SWilson4/gists{/gist_id}","starred_url":"https://api.github.com/users/SWilson4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SWilson4/subscriptions","organizations_url":"https://api.github.com/users/SWilson4/orgs","repos_url":"https://api.github.com/users/SWilson4/repos","events_url":"https://api.github.com/users/SWilson4/events{/privacy}","received_events_url":"https://api.github.com/users/SWilson4/received_events","type":"User","site_admin":false},"created_at":"2024-06-06T20:24:29Z","updated_at":"2024-06-06T20:24:29Z","author_association":"MEMBER","body":"I'm unable to duplicate the issue in an Ubuntu 20.04 Docker image. What version of CMake are you using?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/2153347479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-06-06T20:24:30Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"39076607752","type":"IssueCommentEvent","actor":{"id":1358071,"login":"maroueneboubakri","display_login":"maroueneboubakri","gravatar_id":"","url":"https://api.github.com/users/maroueneboubakri","avatar_url":"https://avatars.githubusercontent.com/u/1358071?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1811","id":2337893115,"node_id":"I_kwDOA-eq3c6LWWr7","number":1811,"title":"The library always links against libpthreads","user":{"login":"maroueneboubakri","id":1358071,"node_id":"MDQ6VXNlcjEzNTgwNzE=","avatar_url":"https://avatars.githubusercontent.com/u/1358071?v=4","gravatar_id":"","url":"https://api.github.com/users/maroueneboubakri","html_url":"https://github.com/maroueneboubakri","followers_url":"https://api.github.com/users/maroueneboubakri/followers","following_url":"https://api.github.com/users/maroueneboubakri/following{/other_user}","gists_url":"https://api.github.com/users/maroueneboubakri/gists{/gist_id}","starred_url":"https://api.github.com/users/maroueneboubakri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maroueneboubakri/subscriptions","organizations_url":"https://api.github.com/users/maroueneboubakri/orgs","repos_url":"https://api.github.com/users/maroueneboubakri/repos","events_url":"https://api.github.com/users/maroueneboubakri/events{/privacy}","received_events_url":"https://api.github.com/users/maroueneboubakri/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-06-06T10:18:13Z","updated_at":"2024-06-06T22:03:28Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello, \r\n\r\nSome PRs introduced `OQS_USE_PTHREADS ` flag to decide if to use pthreads or not, however seems that this does not have an effect.\r\nThe library always links against pthread. \r\n\r\nThe flag is hardcoded to 1 in https://github.com/open-quantum-safe/liboqs/blob/main/src/oqsconfig.h.cmake#L30\r\n\r\nIf you look at https://github.com/open-quantum-safe/liboqs/blob/main/src/common/sha3/xkcp_sha3.c#L16 means that the code will reference always pthread.\r\n\r\nThis issue for example does not allow the oqsprovider tests to build (static): undefined reference to `pthread_once`\r\n\r\nCould you please check.\r\n\r\nBest\r\nMaro\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/2153476292","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1811#issuecomment-2153476292","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1811","id":2153476292,"node_id":"IC_kwDOA-eq3c6AW3DE","user":{"login":"maroueneboubakri","id":1358071,"node_id":"MDQ6VXNlcjEzNTgwNzE=","avatar_url":"https://avatars.githubusercontent.com/u/1358071?v=4","gravatar_id":"","url":"https://api.github.com/users/maroueneboubakri","html_url":"https://github.com/maroueneboubakri","followers_url":"https://api.github.com/users/maroueneboubakri/followers","following_url":"https://api.github.com/users/maroueneboubakri/following{/other_user}","gists_url":"https://api.github.com/users/maroueneboubakri/gists{/gist_id}","starred_url":"https://api.github.com/users/maroueneboubakri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maroueneboubakri/subscriptions","organizations_url":"https://api.github.com/users/maroueneboubakri/orgs","repos_url":"https://api.github.com/users/maroueneboubakri/repos","events_url":"https://api.github.com/users/maroueneboubakri/events{/privacy}","received_events_url":"https://api.github.com/users/maroueneboubakri/received_events","type":"User","site_admin":false},"created_at":"2024-06-06T22:03:27Z","updated_at":"2024-06-06T22:03:27Z","author_association":"NONE","body":"> I'm unable to duplicate the issue in an Ubuntu 20.04 Docker image. What version of CMake are you using?\r\n\r\n3.27.7","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/2153476292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2024-06-06T22:03:28Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
