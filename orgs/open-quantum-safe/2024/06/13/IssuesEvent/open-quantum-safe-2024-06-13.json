{"id":"39261447014","type":"IssuesEvent","actor":{"id":96370514,"login":"MEAMITBHOWMICK","display_login":"MEAMITBHOWMICK","gravatar_id":"","url":"https://api.github.com/users/MEAMITBHOWMICK","avatar_url":"https://avatars.githubusercontent.com/u/96370514?"},"repo":{"id":218087071,"name":"open-quantum-safe/oqs-demos","url":"https://api.github.com/repos/open-quantum-safe/oqs-demos"},"payload":{"action":"opened","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/283","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/283/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/283/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/283/events","html_url":"https://github.com/open-quantum-safe/oqs-demos/issues/283","id":2350680113,"node_id":"I_kwDODP--n86MHIgx","number":283,"title":"Faling in Building nginx server with pqc certificate","user":{"login":"MEAMITBHOWMICK","id":96370514,"node_id":"U_kgDOBb5_Ug","avatar_url":"https://avatars.githubusercontent.com/u/96370514?v=4","gravatar_id":"","url":"https://api.github.com/users/MEAMITBHOWMICK","html_url":"https://github.com/MEAMITBHOWMICK","followers_url":"https://api.github.com/users/MEAMITBHOWMICK/followers","following_url":"https://api.github.com/users/MEAMITBHOWMICK/following{/other_user}","gists_url":"https://api.github.com/users/MEAMITBHOWMICK/gists{/gist_id}","starred_url":"https://api.github.com/users/MEAMITBHOWMICK/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MEAMITBHOWMICK/subscriptions","organizations_url":"https://api.github.com/users/MEAMITBHOWMICK/orgs","repos_url":"https://api.github.com/users/MEAMITBHOWMICK/repos","events_url":"https://api.github.com/users/MEAMITBHOWMICK/events{/privacy}","received_events_url":"https://api.github.com/users/MEAMITBHOWMICK/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-06-13T09:41:37Z","updated_at":"2024-06-13T09:41:37Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I want to set the Nginx server running on port 80 and port 443 and capture the TLS connection from the terminal using “openssl s_client -connect localhost:443”. In this process I want to use dilithium3 ( or any other PQC certificate) certificate generated using oqs-provider. \r\n\r\nSteps I have followed.  \r\n\r\n1. Installed liboqs, oqs-provider and activated. The output I am getting for this command “openssl list –providers” is  \r\n\r\n    Providers: \r\n\r\n  default \r\n\r\n    name: OpenSSL Default Provider \r\n\r\n    version: 3.3.0 \r\n\r\n    status: active \r\n\r\n  oqsprovider \r\n\r\n    name: OpenSSL OQS Provider \r\n\r\n    version: 0.5.4-dev\t \r\n\r\n    status: active \r\n\r\nAnd I am able to generate dilithium3 certificate.  \r\n\r\n \r\n\r\n2. Installed nginx using this: \r\n\r\n                    -    wget http://nginx.org/download/nginx-1.23.4.tar.gz \r\n                    \r\n                    -    tar -xzvf nginx-1.23.4.tar.gz \r\n                     \r\n                    -   cd nginx-1.23.4 \r\n                     \r\n                    -  ./configure --with-openssl=/path/to/your/openssl --with-http_ssl_module \r\n                     \r\n                    -    make \r\n                     \r\n                    -    sudo make install \r\n\r\n3. Added following line in the nginx-conf file located in /usr/local/nginx/conf \r\n\r\n                    -          ssl_certificate /home/amit/Desktop/server.crt; \r\n                    \r\n                    -          ssl_certificate_key /home/amit/Desktop/server.key; \r\n\r\n \r\n\r\nWhenever I am using normal rsa certificate in place of server.crt this “openssl s_client -connect localhost:443” command is working well and good  \r\n\r\n \r\n\r\n4. But if I replace the server.crt and server.csr with dilithium3 certificate then nginx is not even loading with error: \r\n\r\n“nginx: [emerg] SSL_CTX_use_certificate(\"/home/amit/Desktop/dilithium3_srv.crt\") failed (SSL: error:03000072:digital envelope routines::decode error error:0A00018F:SSL routines::ee key too small)” \r\n\r\nCan anyone please help me how to overcome this issue. Thanks in advance. ","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/283/timeline","performed_via_github_app":null,"state_reason":null}},"public":true,"created_at":"2024-06-13T09:41:39Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
