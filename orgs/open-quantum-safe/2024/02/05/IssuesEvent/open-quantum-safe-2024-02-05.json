{"id":"35409584156","type":"IssuesEvent","actor":{"id":39264796,"login":"SWilson4","display_login":"SWilson4","gravatar_id":"","url":"https://api.github.com/users/SWilson4","avatar_url":"https://avatars.githubusercontent.com/u/39264796?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"closed","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1681","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1681/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1681/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1681/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1681","id":2110589498,"node_id":"I_kwDOA-eq3c59zQo6","number":1681,"title":"Appveyor builds failing on main","user":{"login":"SWilson4","id":39264796,"node_id":"MDQ6VXNlcjM5MjY0Nzk2","avatar_url":"https://avatars.githubusercontent.com/u/39264796?v=4","gravatar_id":"","url":"https://api.github.com/users/SWilson4","html_url":"https://github.com/SWilson4","followers_url":"https://api.github.com/users/SWilson4/followers","following_url":"https://api.github.com/users/SWilson4/following{/other_user}","gists_url":"https://api.github.com/users/SWilson4/gists{/gist_id}","starred_url":"https://api.github.com/users/SWilson4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SWilson4/subscriptions","organizations_url":"https://api.github.com/users/SWilson4/orgs","repos_url":"https://api.github.com/users/SWilson4/repos","events_url":"https://api.github.com/users/SWilson4/events{/privacy}","received_events_url":"https://api.github.com/users/SWilson4/received_events","type":"User","site_admin":false},"labels":[{"id":5700733396,"node_id":"LA_kwDOA-eq3c8AAAABU8pJ1A","url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels/platform-specific","name":"platform-specific","color":"C4AA6F","default":false,"description":"Issue related to a specific platform configuration; core team may not have required platform"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2024-01-31T17:14:12Z","updated_at":"2024-02-05T14:05:09Z","closed_at":"2024-02-05T14:05:09Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"The daily AppVeyor builds have been failing for some time. I've manually re-triggered builds on older commits that passed originally, and now they fail too. For example: [build 1](https://ci.appveyor.com/project/dstebila/liboqs/builds/48946257) vs [build 2](https://ci.appveyor.com/project/dstebila/liboqs/builds/49070481). It looks to me like the only difference between the two environments is that the successful build used OpenSSL 3.1.1 and the failed build used OpenSSL 3.2.0.\r\n\r\nI don't think it's a great use of our time trying to debug this, especially given that our GitHub Actions Windows tests are passing with no issues (and are set up to run on PRs). The GH CI builds all use MSVC 19, so the only reason I see to keep AppVeyor around is to support cygwin / msys2. Is this something we want to do?\r\n\r\nAside: The most recent AppVeyor tests are failing in a lot more places because I missed disabling the long KAT tests in AppVeyor in #1560... oops. These are expected to fail for Falcon-1024 for the time being.\r\n\r\nTagging @baentsch @christianpaquin for input since this came up in a previous meeting.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1681/timeline","performed_via_github_app":null,"state_reason":"completed"}},"public":true,"created_at":"2024-02-05T14:05:10Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"35411371524","type":"IssuesEvent","actor":{"id":39264796,"login":"SWilson4","display_login":"SWilson4","gravatar_id":"","url":"https://api.github.com/users/SWilson4","avatar_url":"https://avatars.githubusercontent.com/u/39264796?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"closed","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1647","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1647/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1647/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1647/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1647","id":2062760022,"node_id":"I_kwDOA-eq3c568zhW","number":1647,"title":"(Automated) downstream release testing","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-01-02T17:58:35Z","updated_at":"2024-02-05T14:54:51Z","closed_at":"2024-02-05T14:54:51Z","author_association":"MEMBER","active_lock_reason":null,"body":"This is to reduce the risk that `liboqs` RCs don't work OK with designated important downstream projects.\r\n\r\nThis issue is to discuss the approach to do this (from manual, via release documentation) to fully automated via CI.\r\n\r\nAlso, we should decide which subprojects should be subject to this treatment, i.e., which ones we _really_ support. Proposal for now is `oqsprovider` (only). Other opinions welcome.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1647/timeline","performed_via_github_app":null,"state_reason":"completed"}},"public":true,"created_at":"2024-02-05T14:54:52Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"35423370552","type":"IssuesEvent","actor":{"id":30286156,"login":"andreasschulze","display_login":"andreasschulze","gravatar_id":"","url":"https://api.github.com/users/andreasschulze","avatar_url":"https://avatars.githubusercontent.com/u/30286156?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"opened","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1685","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1685/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1685/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1685/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1685","id":2119500087,"node_id":"I_kwDOA-eq3c5-VQE3","number":1685,"title":"build with openssl, built with shlib_variant","user":{"login":"andreasschulze","id":30286156,"node_id":"MDQ6VXNlcjMwMjg2MTU2","avatar_url":"https://avatars.githubusercontent.com/u/30286156?v=4","gravatar_id":"","url":"https://api.github.com/users/andreasschulze","html_url":"https://github.com/andreasschulze","followers_url":"https://api.github.com/users/andreasschulze/followers","following_url":"https://api.github.com/users/andreasschulze/following{/other_user}","gists_url":"https://api.github.com/users/andreasschulze/gists{/gist_id}","starred_url":"https://api.github.com/users/andreasschulze/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreasschulze/subscriptions","organizations_url":"https://api.github.com/users/andreasschulze/orgs","repos_url":"https://api.github.com/users/andreasschulze/repos","events_url":"https://api.github.com/users/andreasschulze/events{/privacy}","received_events_url":"https://api.github.com/users/andreasschulze/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2024-02-05T21:37:50Z","updated_at":"2024-02-05T21:37:50Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I try to build liboqs with openssl (-3.2.1), itself built from source using [openssl's shlib_variant](https://github.com/openssl/openssl/blob/master/Configurations/README.md?plain=1#L129-L149)\r\n\r\nThe build instructions at https://github.com/open-quantum-safe/liboqs?tab=readme-ov-file#linuxmacos\r\nwork for me, if I replace my own openssl version with a distribution's default version (= apt-get install libssl-dev)\r\n\r\nBut if I skip installing libssl-dev and use `cmake -GNinja -DOFF_OPENSSL_CRYPTO_LIBRARY=/usr/local/ ..`\r\nI get errors like this:\r\n```\r\n...\r\n[1197/1214] Linking C shared library lib/liboqs.so.0.10.0-dev                                                                                                                     \r\n[1198/1214] Building C object tests/CMakeFiles/speed_sig.dir/speed_sig.c.o                                                                                                        \r\n[1199/1214] Creating library symlink lib/liboqs.so.5 lib/liboqs.so                                                                                                                \r\n[1200/1214] Linking C executable tests/example_kem                                                                                                                                \r\nFAILED: tests/example_kem                                                                                                                                                         \r\n: && /usr/bin/cc -g -O2 -fdebug-prefix-map=/tmp=. -fstack-protector-strong -Wformat -Werror=format-security -Wl,-z                       ,noexecstack tests/CMakeFiles/example_kem.dir/example_kem.c.o -o tests/example_kem  -Wl,-rpath,/tmp/liboqs/build/lib  lib/liboqs.so.0.10.0-dev  lib/liboqs-                       internal.so  -lm && :                                                                                                                                                             \r\n/usr/bin/ld: lib/liboqs.so.0.10.0-dev: undefined reference to `RAND_status'                                                                                                       \r\n/usr/bin/ld: lib/liboqs.so.0.10.0-dev: undefined reference to `EVP_MD_CTX_free'                                                                                                   \r\n/usr/bin/ld: lib/liboqs.so.0.10.0-dev: undefined reference to `EVP_DigestFinal_ex'                                                                                                \r\n/usr/bin/ld: lib/liboqs.so.0.10.0-dev: undefined reference to `CRYPTO_THREAD_run_once'                                                                                            \r\n/usr/bin/ld: lib/liboqs.so.0.10.0-dev: undefined reference to `RAND_bytes'                                                                                                        \r\n/usr/bin/ld: lib/liboqs.so.0.10.0-dev: undefined reference to `EVP_DigestInit_ex'                                                                                                 \r\n/usr/bin/ld: lib/liboqs.so.0.10.0-dev: undefined reference to `EVP_MD_CTX_copy_ex'                                                                                                \r\n/usr/bin/ld: lib/liboqs.so.0.10.0-dev: undefined reference to `EVP_DigestUpdate'                                                                                                  \r\n/usr/bin/ld: lib/liboqs.so.0.10.0-dev: undefined reference to `EVP_MD_free'                                                                                                       \r\n/usr/bin/ld: lib/liboqs.so.0.10.0-dev: undefined reference to `EVP_MD_fetch'                                                                                                      \r\n/usr/bin/ld: lib/liboqs.so.0.10.0-dev: undefined reference to `EVP_CIPHER_fetch'                                                                                                  \r\n/usr/bin/ld: lib/liboqs.so.0.10.0-dev: undefined reference to `EVP_CIPHER_free'                                                                                                   \r\n/usr/bin/ld: lib/liboqs.so.0.10.0-dev: undefined reference to `EVP_MD_CTX_new'                                                                                                    \r\n/usr/bin/ld: lib/liboqs.so.0.10.0-dev: undefined reference to `RAND_poll'                                                                                                         \r\ncollect2: error: ld returned 1 exit status                                                                                                                                        \r\n[1201/1214] Linking C executable tests/speed_common                                                                                                                               \r\nFAILED: tests/speed_common                                                                                                                                                        \r\n: && /usr/bin/cc -g -O2 -fdebug-prefix-map=/tmp=. -fstack-protector-strong -Wformat -Werror=format-security -Wl,-z                       ,noexecstack tests/CMakeFiles/speed_common.dir/speed_common.c.o -o tests/speed_common  -Wl,-rpath,/tmp/liboqs/build/lib  lib/liboqs.so.0.10.0-dev  lib/libo                       qs-internal.so  -lm && :                                                                                                                                                          \r\n/usr/bin/ld: lib/liboqs.so.0.10.0-dev: undefined reference to `RAND_status'                                                                                                       \r\n/usr/bin/ld: lib/liboqs.so.0.10.0-dev: undefined reference to `EVP_MD_CTX_free'                                                                                                   \r\n/usr/bin/ld: lib/liboqs.so.0.10.0-dev: undefined reference to `EVP_DigestFinal_ex'                                                                                                \r\n/usr/bin/ld: lib/liboqs.so.0.10.0-dev: undefined reference to `CRYPTO_THREAD_run_once'                                                                                            \r\n```\r\n\r\nsetting LDFLAGS, CFLAGS, FLAGS, LINK_FLAGS and CMAKE_FLAGS to `-L/usr/local/lib -lssl-local -lcrypto-local` doesn't change things.\r\n\r\nWhat else could I do / should I try? Any other Information I should provide?\r\n\r\nThanks, \r\nAndreas\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1685/timeline","performed_via_github_app":null,"state_reason":null}},"public":true,"created_at":"2024-02-05T21:37:52Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
