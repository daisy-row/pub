{"id":"6746487180","type":"IssueCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/182","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/182/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/182/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/182/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/182","id":267227100,"number":182,"title":"Added VisualStudio DLL build configurations","user":{"login":"nthuemmel","id":28763519,"avatar_url":"https://avatars1.githubusercontent.com/u/28763519?v=4","gravatar_id":"","url":"https://api.github.com/users/nthuemmel","html_url":"https://github.com/nthuemmel","followers_url":"https://api.github.com/users/nthuemmel/followers","following_url":"https://api.github.com/users/nthuemmel/following{/other_user}","gists_url":"https://api.github.com/users/nthuemmel/gists{/gist_id}","starred_url":"https://api.github.com/users/nthuemmel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nthuemmel/subscriptions","organizations_url":"https://api.github.com/users/nthuemmel/orgs","repos_url":"https://api.github.com/users/nthuemmel/repos","events_url":"https://api.github.com/users/nthuemmel/events{/privacy}","received_events_url":"https://api.github.com/users/nthuemmel/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-10-20T16:11:40Z","updated_at":"2017-10-21T02:53:20Z","closed_at":null,"author_association":"NONE","pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/182","html_url":"https://github.com/open-quantum-safe/liboqs/pull/182","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/182.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/182.patch"},"body":"As in the current master branch, the Visual Studio build files only allow the creation of static libraries and statically linked executables. Since I needed bindings for other languages (such as Java), which in turn required dynamic linking libraries (DLLs), I added DLL build configurations to the Visual Studio solution.\r\n\r\nAll build configurations (DLL and non-DLL builds, x86 and x64) have been tested with the standard settings using Visual Studio 2013 on a 64-bit Windows 7. I have updated my changes to be on-par with the latest Visual Studio build file changes of commit 40ffb4eb38bc80ecd6d1e42848ed7145a2e49946 and squashed them for better readabilty.\r\n\r\nAdditional changes which were required to get the DLL builds working:\r\n\r\n* Added inline preprocessor definition to VisualStudio project file - this allows compilation with older versions of VisualStudio (e.g. 2013) which do not support the C99 inline keyword\r\n* Removed newhope.c from VisualStudio build files, as it is already included in kex_rlwe_newhope.c and will lead to multiple symbol definition errors in shared library builds\r\n* Added ENABLE_CODE_MCBITS guard to kex_code_mcbits.c to protect against missing symbol definition errors in VisualStudio shared library builds\r\n* Added VisualStudio shared library exports file dll.def, including the necessary core functions to use oqs from applications\r\n* Also export free when building Windows DLLs - this is important as the correct runtime library has to be used to free memory allocated by the OQS library. Applications may be using multiple runtime libraries or memory managers, calling the wrong free will result in memory corruption or segfault"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/338359082","html_url":"https://github.com/open-quantum-safe/liboqs/pull/182#issuecomment-338359082","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/182","id":338359082,"user":{"login":"christianpaquin","id":16247285,"avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"created_at":"2017-10-21T02:53:19Z","updated_at":"2017-10-21T02:53:19Z","author_association":"CONTRIBUTOR","body":"I'll take a look next week."}},"public":true,"created_at":"2017-10-21T02:53:20Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
