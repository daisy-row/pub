{"id":"6985331106","type":"IssuesEvent","actor":{"id":8007343,"login":"Steppenwolfe65","display_login":"Steppenwolfe65","gravatar_id":"","url":"https://api.github.com/users/Steppenwolfe65","avatar_url":"https://avatars.githubusercontent.com/u/8007343?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"opened","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/200","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/200/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/200/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/200/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/200","id":281906219,"number":200,"title":"Possible problem with Kyber public key generation","user":{"login":"Steppenwolfe65","id":8007343,"avatar_url":"https://avatars0.githubusercontent.com/u/8007343?v=4","gravatar_id":"","url":"https://api.github.com/users/Steppenwolfe65","html_url":"https://github.com/Steppenwolfe65","followers_url":"https://api.github.com/users/Steppenwolfe65/followers","following_url":"https://api.github.com/users/Steppenwolfe65/following{/other_user}","gists_url":"https://api.github.com/users/Steppenwolfe65/gists{/gist_id}","starred_url":"https://api.github.com/users/Steppenwolfe65/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Steppenwolfe65/subscriptions","organizations_url":"https://api.github.com/users/Steppenwolfe65/orgs","repos_url":"https://api.github.com/users/Steppenwolfe65/repos","events_url":"https://api.github.com/users/Steppenwolfe65/events{/privacy}","received_events_url":"https://api.github.com/users/Steppenwolfe65/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2017-12-13T21:40:20Z","updated_at":"2017-12-13T21:40:20Z","closed_at":null,"author_association":"NONE","body":"Hi,\r\nI've noticed what might be a bug in the Kyber public key generation. \r\nIn the (indcpa.c) gen_matrix function, the three coefficient arrays (a) that are generated, appear to be identical. An incrementing domain code is used to initialize Keccak's state to unique values inside the inner loop, and a different domain code should yield a completely different output from SHAKE, even with the same seed, but in this case, the coefficient arrays produced are all identical. \r\nI have traced this to the (sha3.c) OQS_SHA3_cshake128_simple_absorb function. That function adds the domain code to the first state member, transforms the state, and then calls the keccak_absorb function, passing in the modified state. At the top of keccak_absorb, the state is *zeroed*, in effect, erasing the permuted domain code from the state, and hence the identical output is generated.\r\nCan someone confirm this?"}},"public":true,"created_at":"2017-12-13T21:40:20Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
