{"id":"8311272275","type":"PullRequestReviewCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219832821","pull_request_review_id":158099544,"id":219832821,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgzMjgyMQ==","diff_hunk":"@@ -0,0 +1,90 @@\n+#ifndef __OQS_SIG_PICNIC_H\r\n+#define __OQS_SIG_PICNIC_H\r\n+\r\n+#include <oqs/oqs.h>\r\n+\r\n+#ifdef OQS_ENABLE_SIG_picnic_L1_FS\r\n+\r\n+#define OQS_SIG_picnic_L1_FS_length_public_key 33\r\n+#define OQS_SIG_picnic_L1_FS_length_secret_key 49\r\n+#define OQS_SIG_picnic_L1_FS_length_signature 34004\r\n+\r\n+OQS_SIG *OQS_SIG_picnic_L1_FS_new();\r\n+\r\n+extern OQS_STATUS OQS_SIG_picnic_L1_FS_keypair(uint8_t *public_key, uint8_t *secret_key);\r","path":"src/sig/picnic/sig_picnic.h","position":14,"original_position":14,"commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"body":"I don't think we need the `extern` keyword here or anywhere else in this file.","created_at":"2018-09-24T13:23:07Z","updated_at":"2018-09-24T13:35:14Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219832821","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219832821"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219832821"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T13:35:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"055168a3148f970056c3fa7c531bd45f55dec0d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T02:39:17Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T02:39:19Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T13:23:07Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8311272283","type":"PullRequestReviewCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219833954","pull_request_review_id":158099544,"id":219833954,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgzMzk1NA==","diff_hunk":"@@ -1,79 +1,120 @@\n #include <assert.h>\n-\n-#include <oqs/common.h>\n-#include <oqs/sig.h>\n-#ifdef ENABLE_SIG_PICNIC\n-#include <oqs/sig_picnic.h>\n-#endif\n-#ifdef ENABLE_SIG_QTESLA\n-#include <oqs/sig_qtesla.h>\n+#include <stdlib.h>\n+#if defined(_WIN32)\n+#define strcasecmp _stricmp\n+#else\n+#include <strings.h>\n #endif\n \n-OQS_API OQS_SIG *OQS_SIG_new(enum OQS_SIG_algid algid) {\n-\tOQS_SIG *s = malloc(sizeof(OQS_SIG));\n-\tif (s == NULL) {\n+#include <oqs/oqs.h>\n+\n+OQS_API const char *OQS_SIG_alg_identifier(size_t i) {\n+\t// EDIT-WHEN-ADDING-SIG\n+\tconst char *a[OQS_SIG_algs_length] = {\n+\t    OQS_SIG_alg_default,\n+\t    OQS_SIG_alg_qTESLA_I,\n+\t    OQS_SIG_alg_qTESLA_III_size,\n+\t    OQS_SIG_alg_qTESLA_III_speed,\n+\t    OQS_SIG_alg_picnic_L1_FS,\n+\t    OQS_SIG_alg_picnic_L1_UR,\n+\t    OQS_SIG_alg_picnic_L3_FS,\n+\t    OQS_SIG_alg_picnic_L3_UR,\n+\t    OQS_SIG_alg_picnic_L5_FS,\n+\t    OQS_SIG_alg_picnic_L5_UR};\n+\tif (i >= OQS_SIG_algs_length) {\n \t\treturn NULL;\n+\t} else {\n+\t\treturn a[i];\n \t}\n+}\n \n-\tswitch (algid) {\n-#ifdef ENABLE_SIG_PICNIC\n-\tcase OQS_SIG_picnic_L1_FS:\n-\tcase OQS_SIG_picnic_L1_UR:\n-\tcase OQS_SIG_picnic_L3_FS:\n-\tcase OQS_SIG_picnic_L3_UR:\n-\tcase OQS_SIG_picnic_L5_FS:\n-\tcase OQS_SIG_picnic_L5_UR:\n-\tcase OQS_SIG_default:\n-\t\tif (OQS_SIG_picnic_get(s, algid) != OQS_SUCCESS) {\n-\t\t\tOQS_MEM_insecure_free(s);\n-\t\t\treturn NULL;\n-\t\t}\n-\t\tbreak;\n+OQS_SIG *OQS_SIG_new(const char *method_name) {\n+\tif (0 == strcasecmp(method_name, OQS_SIG_alg_default)) {\n+\t\treturn OQS_SIG_new(OQS_SIG_DEFAULT);\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_I)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_I\n+\t\treturn OQS_SIG_qTESLA_I_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_III_size)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_III_size\n+\t\treturn OQS_SIG_qTESLA_III_size_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_III_speed)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_III_speed\n+\t\treturn OQS_SIG_qTESLA_III_speed_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L1_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L1_FS\n+\t\treturn OQS_SIG_picnic_L1_FS_new();\n+#else\n+\t\treturn NULL;\n #endif\n-#ifdef ENABLE_SIG_QTESLA\n-\tcase OQS_SIG_qTESLA_I:\n-\tcase OQS_SIG_qTESLA_III_speed:\n-\tcase OQS_SIG_qTESLA_III_size:\n-\t\tif (OQS_SIG_qTESLA_get(s, algid) != OQS_SUCCESS) {\n-\t\t\tOQS_MEM_insecure_free(s);\n-\t\t\treturn NULL;\n-\t\t}\n-\t\tbreak;\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L1_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L1_UR\n+\t\treturn OQS_SIG_picnic_L1_UR_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L3_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L3_FS\n+\t\treturn OQS_SIG_picnic_L3_FS_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L3_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L3_UR\n+\t\treturn OQS_SIG_picnic_L3_UR_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L5_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L5_FS\n+\t\treturn OQS_SIG_picnic_L5_FS_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L5_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L5_UR\n+\t\treturn OQS_SIG_picnic_L5_UR_new();\n+#else\n+\t\treturn NULL;\n #endif\n-\tdefault:\n-\t\tOQS_MEM_insecure_free(s);\n+\t\t// EDIT-WHEN-ADDING-SIG\n+\t} else {\n \t\treturn NULL;\n \t}\n-\n-\treturn s;\n }\n \n-OQS_API OQS_STATUS OQS_SIG_keygen(const OQS_SIG *s, uint8_t *priv, uint8_t *pub) {\n-\tif (s == NULL) {\n+OQS_STATUS OQS_SIG_keypair(const OQS_SIG *sig, uint8_t *public_key, uint8_t *secret_key) {\n+\tif (sig == NULL || sig->keypair(public_key, secret_key) != 0) {","path":"src/sig/sig.c","position":135,"original_position":135,"commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"body":"Why are you comparing the output of `sig->keypair` with 0 as opposed to `OQS_SUCCESS`? ","created_at":"2018-09-24T13:26:32Z","updated_at":"2018-09-24T13:35:15Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219833954","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219833954"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219833954"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T13:35:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"055168a3148f970056c3fa7c531bd45f55dec0d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T02:39:17Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T02:39:19Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T13:26:32Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8311272285","type":"PullRequestReviewCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219833279","pull_request_review_id":158099544,"id":219833279,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgzMzI3OQ==","diff_hunk":"@@ -0,0 +1,48 @@\n+#ifndef __OQS_SIG_QTESLA_H\r\n+#define __OQS_SIG_QTESLA_H\r\n+\r\n+#include <oqs/oqs.h>\r\n+\r\n+#ifdef OQS_ENABLE_SIG_qTESLA_I\r\n+\r\n+#define OQS_SIG_qTESLA_I_length_public_key 1504\r\n+#define OQS_SIG_qTESLA_I_length_secret_key 2112\r\n+#define OQS_SIG_qTESLA_I_length_signature 1376\r\n+\r\n+OQS_SIG *OQS_SIG_qTESLA_I_new();\r\n+\r\n+extern OQS_STATUS OQS_SIG_qTESLA_I_keypair(uint8_t *public_key, uint8_t *secret_key);\r","path":"src/sig/qtesla/sig_qtesla.h","position":14,"original_position":14,"commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"body":"I don't think we need the `extern` keyword here or anywhere else in this file.","created_at":"2018-09-24T13:24:38Z","updated_at":"2018-09-24T13:35:14Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219833279","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219833279"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219833279"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T13:35:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"055168a3148f970056c3fa7c531bd45f55dec0d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T02:39:17Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T02:39:19Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T13:24:38Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8311272288","type":"PullRequestReviewCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219833977","pull_request_review_id":158099544,"id":219833977,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgzMzk3Nw==","diff_hunk":"@@ -1,79 +1,120 @@\n #include <assert.h>\n-\n-#include <oqs/common.h>\n-#include <oqs/sig.h>\n-#ifdef ENABLE_SIG_PICNIC\n-#include <oqs/sig_picnic.h>\n-#endif\n-#ifdef ENABLE_SIG_QTESLA\n-#include <oqs/sig_qtesla.h>\n+#include <stdlib.h>\n+#if defined(_WIN32)\n+#define strcasecmp _stricmp\n+#else\n+#include <strings.h>\n #endif\n \n-OQS_API OQS_SIG *OQS_SIG_new(enum OQS_SIG_algid algid) {\n-\tOQS_SIG *s = malloc(sizeof(OQS_SIG));\n-\tif (s == NULL) {\n+#include <oqs/oqs.h>\n+\n+OQS_API const char *OQS_SIG_alg_identifier(size_t i) {\n+\t// EDIT-WHEN-ADDING-SIG\n+\tconst char *a[OQS_SIG_algs_length] = {\n+\t    OQS_SIG_alg_default,\n+\t    OQS_SIG_alg_qTESLA_I,\n+\t    OQS_SIG_alg_qTESLA_III_size,\n+\t    OQS_SIG_alg_qTESLA_III_speed,\n+\t    OQS_SIG_alg_picnic_L1_FS,\n+\t    OQS_SIG_alg_picnic_L1_UR,\n+\t    OQS_SIG_alg_picnic_L3_FS,\n+\t    OQS_SIG_alg_picnic_L3_UR,\n+\t    OQS_SIG_alg_picnic_L5_FS,\n+\t    OQS_SIG_alg_picnic_L5_UR};\n+\tif (i >= OQS_SIG_algs_length) {\n \t\treturn NULL;\n+\t} else {\n+\t\treturn a[i];\n \t}\n+}\n \n-\tswitch (algid) {\n-#ifdef ENABLE_SIG_PICNIC\n-\tcase OQS_SIG_picnic_L1_FS:\n-\tcase OQS_SIG_picnic_L1_UR:\n-\tcase OQS_SIG_picnic_L3_FS:\n-\tcase OQS_SIG_picnic_L3_UR:\n-\tcase OQS_SIG_picnic_L5_FS:\n-\tcase OQS_SIG_picnic_L5_UR:\n-\tcase OQS_SIG_default:\n-\t\tif (OQS_SIG_picnic_get(s, algid) != OQS_SUCCESS) {\n-\t\t\tOQS_MEM_insecure_free(s);\n-\t\t\treturn NULL;\n-\t\t}\n-\t\tbreak;\n+OQS_SIG *OQS_SIG_new(const char *method_name) {\n+\tif (0 == strcasecmp(method_name, OQS_SIG_alg_default)) {\n+\t\treturn OQS_SIG_new(OQS_SIG_DEFAULT);\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_I)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_I\n+\t\treturn OQS_SIG_qTESLA_I_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_III_size)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_III_size\n+\t\treturn OQS_SIG_qTESLA_III_size_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_III_speed)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_III_speed\n+\t\treturn OQS_SIG_qTESLA_III_speed_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L1_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L1_FS\n+\t\treturn OQS_SIG_picnic_L1_FS_new();\n+#else\n+\t\treturn NULL;\n #endif\n-#ifdef ENABLE_SIG_QTESLA\n-\tcase OQS_SIG_qTESLA_I:\n-\tcase OQS_SIG_qTESLA_III_speed:\n-\tcase OQS_SIG_qTESLA_III_size:\n-\t\tif (OQS_SIG_qTESLA_get(s, algid) != OQS_SUCCESS) {\n-\t\t\tOQS_MEM_insecure_free(s);\n-\t\t\treturn NULL;\n-\t\t}\n-\t\tbreak;\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L1_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L1_UR\n+\t\treturn OQS_SIG_picnic_L1_UR_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L3_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L3_FS\n+\t\treturn OQS_SIG_picnic_L3_FS_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L3_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L3_UR\n+\t\treturn OQS_SIG_picnic_L3_UR_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L5_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L5_FS\n+\t\treturn OQS_SIG_picnic_L5_FS_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L5_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L5_UR\n+\t\treturn OQS_SIG_picnic_L5_UR_new();\n+#else\n+\t\treturn NULL;\n #endif\n-\tdefault:\n-\t\tOQS_MEM_insecure_free(s);\n+\t\t// EDIT-WHEN-ADDING-SIG\n+\t} else {\n \t\treturn NULL;\n \t}\n-\n-\treturn s;\n }\n \n-OQS_API OQS_STATUS OQS_SIG_keygen(const OQS_SIG *s, uint8_t *priv, uint8_t *pub) {\n-\tif (s == NULL) {\n+OQS_STATUS OQS_SIG_keypair(const OQS_SIG *sig, uint8_t *public_key, uint8_t *secret_key) {\n+\tif (sig == NULL || sig->keypair(public_key, secret_key) != 0) {\n \t\treturn OQS_ERROR;\n \t} else {\n-\t\treturn s->keygen(s, priv, pub);\n+\t\treturn OQS_SUCCESS;\n \t}\n }\n \n-OQS_API OQS_STATUS OQS_SIG_sign(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len) {\n-\tif (s == NULL) {\n+OQS_STATUS OQS_SIG_sign(const OQS_SIG *sig, uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key) {\n+\tif (sig == NULL || sig->sign(signature, signature_len, message, message_len, secret_key) != 0) {","path":"src/sig/sig.c","position":146,"original_position":146,"commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"body":"Why are you comparing the output of `sig->sign` with 0 as opposed to `OQS_SUCCESS`? ","created_at":"2018-09-24T13:26:37Z","updated_at":"2018-09-24T13:35:15Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219833977","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219833977"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219833977"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T13:35:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"055168a3148f970056c3fa7c531bd45f55dec0d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T02:39:17Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T02:39:19Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T13:26:37Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8311272290","type":"PullRequestReviewCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219834384","pull_request_review_id":158099544,"id":219834384,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgzNDM4NA==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */","path":"src/sig/sig.h","position":117,"original_position":117,"commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"body":"Let's take the (maximum) out of parentheses.","created_at":"2018-09-24T13:27:45Z","updated_at":"2018-09-24T13:35:15Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219834384","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219834384"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219834384"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T13:35:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"055168a3148f970056c3fa7c531bd45f55dec0d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T02:39:17Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T02:39:19Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T13:27:45Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8311272293","type":"PullRequestReviewCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219834047","pull_request_review_id":158099544,"id":219834047,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgzNDA0Nw==","diff_hunk":"@@ -1,79 +1,120 @@\n #include <assert.h>\n-\n-#include <oqs/common.h>\n-#include <oqs/sig.h>\n-#ifdef ENABLE_SIG_PICNIC\n-#include <oqs/sig_picnic.h>\n-#endif\n-#ifdef ENABLE_SIG_QTESLA\n-#include <oqs/sig_qtesla.h>\n+#include <stdlib.h>\n+#if defined(_WIN32)\n+#define strcasecmp _stricmp\n+#else\n+#include <strings.h>\n #endif\n \n-OQS_API OQS_SIG *OQS_SIG_new(enum OQS_SIG_algid algid) {\n-\tOQS_SIG *s = malloc(sizeof(OQS_SIG));\n-\tif (s == NULL) {\n+#include <oqs/oqs.h>\n+\n+OQS_API const char *OQS_SIG_alg_identifier(size_t i) {\n+\t// EDIT-WHEN-ADDING-SIG\n+\tconst char *a[OQS_SIG_algs_length] = {\n+\t    OQS_SIG_alg_default,\n+\t    OQS_SIG_alg_qTESLA_I,\n+\t    OQS_SIG_alg_qTESLA_III_size,\n+\t    OQS_SIG_alg_qTESLA_III_speed,\n+\t    OQS_SIG_alg_picnic_L1_FS,\n+\t    OQS_SIG_alg_picnic_L1_UR,\n+\t    OQS_SIG_alg_picnic_L3_FS,\n+\t    OQS_SIG_alg_picnic_L3_UR,\n+\t    OQS_SIG_alg_picnic_L5_FS,\n+\t    OQS_SIG_alg_picnic_L5_UR};\n+\tif (i >= OQS_SIG_algs_length) {\n \t\treturn NULL;\n+\t} else {\n+\t\treturn a[i];\n \t}\n+}\n \n-\tswitch (algid) {\n-#ifdef ENABLE_SIG_PICNIC\n-\tcase OQS_SIG_picnic_L1_FS:\n-\tcase OQS_SIG_picnic_L1_UR:\n-\tcase OQS_SIG_picnic_L3_FS:\n-\tcase OQS_SIG_picnic_L3_UR:\n-\tcase OQS_SIG_picnic_L5_FS:\n-\tcase OQS_SIG_picnic_L5_UR:\n-\tcase OQS_SIG_default:\n-\t\tif (OQS_SIG_picnic_get(s, algid) != OQS_SUCCESS) {\n-\t\t\tOQS_MEM_insecure_free(s);\n-\t\t\treturn NULL;\n-\t\t}\n-\t\tbreak;\n+OQS_SIG *OQS_SIG_new(const char *method_name) {\n+\tif (0 == strcasecmp(method_name, OQS_SIG_alg_default)) {\n+\t\treturn OQS_SIG_new(OQS_SIG_DEFAULT);\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_I)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_I\n+\t\treturn OQS_SIG_qTESLA_I_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_III_size)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_III_size\n+\t\treturn OQS_SIG_qTESLA_III_size_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_III_speed)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_III_speed\n+\t\treturn OQS_SIG_qTESLA_III_speed_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L1_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L1_FS\n+\t\treturn OQS_SIG_picnic_L1_FS_new();\n+#else\n+\t\treturn NULL;\n #endif\n-#ifdef ENABLE_SIG_QTESLA\n-\tcase OQS_SIG_qTESLA_I:\n-\tcase OQS_SIG_qTESLA_III_speed:\n-\tcase OQS_SIG_qTESLA_III_size:\n-\t\tif (OQS_SIG_qTESLA_get(s, algid) != OQS_SUCCESS) {\n-\t\t\tOQS_MEM_insecure_free(s);\n-\t\t\treturn NULL;\n-\t\t}\n-\t\tbreak;\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L1_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L1_UR\n+\t\treturn OQS_SIG_picnic_L1_UR_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L3_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L3_FS\n+\t\treturn OQS_SIG_picnic_L3_FS_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L3_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L3_UR\n+\t\treturn OQS_SIG_picnic_L3_UR_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L5_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L5_FS\n+\t\treturn OQS_SIG_picnic_L5_FS_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L5_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L5_UR\n+\t\treturn OQS_SIG_picnic_L5_UR_new();\n+#else\n+\t\treturn NULL;\n #endif\n-\tdefault:\n-\t\tOQS_MEM_insecure_free(s);\n+\t\t// EDIT-WHEN-ADDING-SIG\n+\t} else {\n \t\treturn NULL;\n \t}\n-\n-\treturn s;\n }\n \n-OQS_API OQS_STATUS OQS_SIG_keygen(const OQS_SIG *s, uint8_t *priv, uint8_t *pub) {\n-\tif (s == NULL) {\n+OQS_STATUS OQS_SIG_keypair(const OQS_SIG *sig, uint8_t *public_key, uint8_t *secret_key) {\n+\tif (sig == NULL || sig->keypair(public_key, secret_key) != 0) {\n \t\treturn OQS_ERROR;\n \t} else {\n-\t\treturn s->keygen(s, priv, pub);\n+\t\treturn OQS_SUCCESS;\n \t}\n }\n \n-OQS_API OQS_STATUS OQS_SIG_sign(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len) {\n-\tif (s == NULL) {\n+OQS_STATUS OQS_SIG_sign(const OQS_SIG *sig, uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key) {\n+\tif (sig == NULL || sig->sign(signature, signature_len, message, message_len, secret_key) != 0) {\n \t\treturn OQS_ERROR;\n \t} else {\n-\t\treturn s->sign(s, priv, msg, msg_len, sig, sig_len);\n+\t\treturn OQS_SUCCESS;\n \t}\n }\n \n-OQS_API OQS_STATUS OQS_SIG_verify(const OQS_SIG *s, const uint8_t *pub, const uint8_t *msg, const size_t msg_len, const uint8_t *sig, const size_t sig_len) {\n-\tif (s == NULL) {\n+OQS_STATUS OQS_SIG_verify(const OQS_SIG *sig, uint8_t *message, size_t message_len, const uint8_t *signature, size_t signature_len, const uint8_t *public_key) {\n+\tif (sig == NULL || sig->verify(message, message_len, signature, signature_len, public_key) != 0) {","path":"src/sig/sig.c","position":157,"original_position":157,"commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"body":"Why are you comparing the output of `sig->verify` with 0 as opposed to `OQS_SUCCESS`? ","created_at":"2018-09-24T13:26:49Z","updated_at":"2018-09-24T13:35:15Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219834047","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219834047"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219834047"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T13:35:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"055168a3148f970056c3fa7c531bd45f55dec0d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T02:39:17Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T02:39:19Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T13:26:49Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8311272302","type":"PullRequestReviewCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219834548","pull_request_review_id":158099544,"id":219834548,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgzNDU0OA==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */\n+\tsize_t length_signature;","path":"src/sig/sig.h","position":118,"original_position":118,"commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"body":"I wonder if we should call this `length_signature_max` instead of `length_signature`, since it's not necessarily the length of the signature but the maximum length of the signature.","created_at":"2018-09-24T13:28:20Z","updated_at":"2018-09-24T13:35:15Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219834548","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219834548"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219834548"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T13:35:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"055168a3148f970056c3fa7c531bd45f55dec0d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T02:39:17Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T02:39:19Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T13:28:20Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8311272304","type":"PullRequestReviewCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219835120","pull_request_review_id":158099544,"id":219835120,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgzNTEyMA==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */\n+\tsize_t length_signature;\n \n-\t/**\n-\t * Opaque pointer for passing around any computation context\n-\t */\n-\tvoid *ctx;\n-\n-\t// clang-format and doxygen don't work together nicely on these three functions\n \t// clang-format off\n+\n \t/**\n-\t * Pointer to a function for public and private signature key generation.\n+\t * Keypair generation algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `public_key` and\n+\t * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param pub              The signer's public key.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[out] public_key The public key represented as a byte string.\n+\t * @param[out] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*keygen)(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+\tOQS_STATUS (*keypair)(uint8_t *public_key, uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature generation.\n+\t * Signature generation algorithm.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param msg              The message to sign.\n-\t * @param msg_len          Length of the message to sign.\n-\t * @param sig              The generated signature. Must be allocated by the caller, or NULL to learn how much space is needed, as returned in sig_len.\n-\t * @param sig_len          In: length of sig, out: length of the generated signature.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * Caller is responsible for allocating sufficient memory for `signed_message`,\n+\t * based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n+\t *\n+\t * @param[out] signature The signature on the message represented as a byte string.\n+\t * @param[out] signature_len The length of the signature.\n+\t * @param[in] message The message to sign represented as a byte string.\n+\t * @param[in] message_len The length of the message to sign.\n+\t * @param[in] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*sign)(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len);\n+\tOQS_STATUS (*sign)(uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature verification.\n+\t * Signature verification algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `message`, based","path":"src/sig/sig.h","position":176,"original_position":176,"commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"body":"This comment is no longer relevant since `message` is input-only here.","created_at":"2018-09-24T13:30:04Z","updated_at":"2018-09-24T13:35:15Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219835120","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219835120"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219835120"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T13:35:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"055168a3148f970056c3fa7c531bd45f55dec0d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T02:39:17Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T02:39:19Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T13:30:04Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8311272310","type":"PullRequestReviewCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219835331","pull_request_review_id":158099544,"id":219835331,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgzNTMzMQ==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */\n+\tsize_t length_signature;\n \n-\t/**\n-\t * Opaque pointer for passing around any computation context\n-\t */\n-\tvoid *ctx;\n-\n-\t// clang-format and doxygen don't work together nicely on these three functions\n \t// clang-format off\n+\n \t/**\n-\t * Pointer to a function for public and private signature key generation.\n+\t * Keypair generation algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `public_key` and\n+\t * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param pub              The signer's public key.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[out] public_key The public key represented as a byte string.\n+\t * @param[out] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*keygen)(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+\tOQS_STATUS (*keypair)(uint8_t *public_key, uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature generation.\n+\t * Signature generation algorithm.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param msg              The message to sign.\n-\t * @param msg_len          Length of the message to sign.\n-\t * @param sig              The generated signature. Must be allocated by the caller, or NULL to learn how much space is needed, as returned in sig_len.\n-\t * @param sig_len          In: length of sig, out: length of the generated signature.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * Caller is responsible for allocating sufficient memory for `signed_message`,\n+\t * based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n+\t *\n+\t * @param[out] signature The signature on the message represented as a byte string.\n+\t * @param[out] signature_len The length of the signature.\n+\t * @param[in] message The message to sign represented as a byte string.\n+\t * @param[in] message_len The length of the message to sign.\n+\t * @param[in] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*sign)(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len);\n+\tOQS_STATUS (*sign)(uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature verification.\n+\t * Signature verification algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `message`, based\n+\t * on the `length_*` members in this object or the per-scheme compile-time macros\n+\t * `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param pub              The signer's public key.\n-\t * @param msg              The signed message.\n-\t * @param msg_len          Length of the signed message.\n-\t * @param sig              The signature to verify.\n-\t * @param sig_len          Length of the signature to verify.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[in] message The message represented as a byte string.\n+\t * @param[in] message_len The length of the message.\n+\t * @param[in] signature The signature on the message represented as a byte string.\n+\t * @param[in] signature_len The length of the signature.\n+\t * @param[in] public_key The public key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*verify)(const OQS_SIG *s, const uint8_t *pub, const uint8_t *msg, const size_t msg_len, const uint8_t *sig, const size_t sig_len);\n+\tOQS_STATUS (*verify)(uint8_t *message, size_t message_len, const uint8_t *signature, size_t signature_len, const uint8_t *public_key);\n \t// clang-format on\n \n-\t/**\n-\t * Pointer to a function for freeing the allocated signature structure\n-\t *\n-\t * @param s                Signature structure\n-\t */\n-\tvoid (*free)(OQS_SIG *s);\n-};\n+} OQS_SIG;\n \n /**\n- * Instantiate a new signature object.\n+ * Consturcts an OQS_SIG object for a particular algorithm.","path":"src/sig/sig.h","position":209,"original_position":209,"commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"body":"Typo: constructs","created_at":"2018-09-24T13:30:45Z","updated_at":"2018-09-24T13:35:15Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219835331","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219835331"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219835331"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T13:35:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"055168a3148f970056c3fa7c531bd45f55dec0d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T02:39:17Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T02:39:19Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T13:30:45Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8311272312","type":"PullRequestReviewCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219835248","pull_request_review_id":158099544,"id":219835248,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgzNTI0OA==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */\n+\tsize_t length_signature;\n \n-\t/**\n-\t * Opaque pointer for passing around any computation context\n-\t */\n-\tvoid *ctx;\n-\n-\t// clang-format and doxygen don't work together nicely on these three functions\n \t// clang-format off\n+\n \t/**\n-\t * Pointer to a function for public and private signature key generation.\n+\t * Keypair generation algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `public_key` and\n+\t * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param pub              The signer's public key.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[out] public_key The public key represented as a byte string.\n+\t * @param[out] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*keygen)(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+\tOQS_STATUS (*keypair)(uint8_t *public_key, uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature generation.\n+\t * Signature generation algorithm.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param msg              The message to sign.\n-\t * @param msg_len          Length of the message to sign.\n-\t * @param sig              The generated signature. Must be allocated by the caller, or NULL to learn how much space is needed, as returned in sig_len.\n-\t * @param sig_len          In: length of sig, out: length of the generated signature.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * Caller is responsible for allocating sufficient memory for `signed_message`,\n+\t * based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n+\t *\n+\t * @param[out] signature The signature on the message represented as a byte string.\n+\t * @param[out] signature_len The length of the signature.\n+\t * @param[in] message The message to sign represented as a byte string.\n+\t * @param[in] message_len The length of the message to sign.\n+\t * @param[in] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*sign)(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len);\n+\tOQS_STATUS (*sign)(uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature verification.\n+\t * Signature verification algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `message`, based\n+\t * on the `length_*` members in this object or the per-scheme compile-time macros\n+\t * `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param pub              The signer's public key.\n-\t * @param msg              The signed message.\n-\t * @param msg_len          Length of the signed message.\n-\t * @param sig              The signature to verify.\n-\t * @param sig_len          Length of the signature to verify.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[in] message The message represented as a byte string.\n+\t * @param[in] message_len The length of the message.\n+\t * @param[in] signature The signature on the message represented as a byte string.\n+\t * @param[in] signature_len The length of the signature.\n+\t * @param[in] public_key The public key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*verify)(const OQS_SIG *s, const uint8_t *pub, const uint8_t *msg, const size_t msg_len, const uint8_t *sig, const size_t sig_len);\n+\tOQS_STATUS (*verify)(uint8_t *message, size_t message_len, const uint8_t *signature, size_t signature_len, const uint8_t *public_key);","path":"src/sig/sig.h","position":195,"original_position":195,"commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"body":"`message`, `message_len`, and `signature_len` should be marked as `const`.","created_at":"2018-09-24T13:30:31Z","updated_at":"2018-09-24T13:35:15Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219835248","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219835248"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219835248"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T13:35:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"055168a3148f970056c3fa7c531bd45f55dec0d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T02:39:17Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T02:39:19Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T13:30:31Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8311272316","type":"PullRequestReviewCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219834936","pull_request_review_id":158099544,"id":219834936,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgzNDkzNg==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */\n+\tsize_t length_signature;\n \n-\t/**\n-\t * Opaque pointer for passing around any computation context\n-\t */\n-\tvoid *ctx;\n-\n-\t// clang-format and doxygen don't work together nicely on these three functions\n \t// clang-format off\n+\n \t/**\n-\t * Pointer to a function for public and private signature key generation.\n+\t * Keypair generation algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `public_key` and\n+\t * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param pub              The signer's public key.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[out] public_key The public key represented as a byte string.\n+\t * @param[out] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*keygen)(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+\tOQS_STATUS (*keypair)(uint8_t *public_key, uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature generation.\n+\t * Signature generation algorithm.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param msg              The message to sign.\n-\t * @param msg_len          Length of the message to sign.\n-\t * @param sig              The generated signature. Must be allocated by the caller, or NULL to learn how much space is needed, as returned in sig_len.\n-\t * @param sig_len          In: length of sig, out: length of the generated signature.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * Caller is responsible for allocating sufficient memory for `signed_message`,","path":"src/sig/sig.h","position":158,"original_position":158,"commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"body":"Change documentation to remove `signed_message`.\r\n\r\nAlso, should we have a comment explicitly explaining that in this branch `signature` contains just the digest, whereas in nist-branch `signature` contains both the digest and the message?","created_at":"2018-09-24T13:29:30Z","updated_at":"2018-09-24T13:35:15Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219834936","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219834936"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219834936"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T13:35:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"055168a3148f970056c3fa7c531bd45f55dec0d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T02:39:17Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T02:39:19Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T13:29:30Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8311272318","type":"PullRequestReviewCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219835557","pull_request_review_id":158099544,"id":219835557,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgzNTU1Nw==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */\n+\tsize_t length_signature;\n \n-\t/**\n-\t * Opaque pointer for passing around any computation context\n-\t */\n-\tvoid *ctx;\n-\n-\t// clang-format and doxygen don't work together nicely on these three functions\n \t// clang-format off\n+\n \t/**\n-\t * Pointer to a function for public and private signature key generation.\n+\t * Keypair generation algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `public_key` and\n+\t * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param pub              The signer's public key.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[out] public_key The public key represented as a byte string.\n+\t * @param[out] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*keygen)(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+\tOQS_STATUS (*keypair)(uint8_t *public_key, uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature generation.\n+\t * Signature generation algorithm.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param msg              The message to sign.\n-\t * @param msg_len          Length of the message to sign.\n-\t * @param sig              The generated signature. Must be allocated by the caller, or NULL to learn how much space is needed, as returned in sig_len.\n-\t * @param sig_len          In: length of sig, out: length of the generated signature.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * Caller is responsible for allocating sufficient memory for `signed_message`,\n+\t * based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n+\t *\n+\t * @param[out] signature The signature on the message represented as a byte string.\n+\t * @param[out] signature_len The length of the signature.\n+\t * @param[in] message The message to sign represented as a byte string.\n+\t * @param[in] message_len The length of the message to sign.\n+\t * @param[in] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*sign)(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len);\n+\tOQS_STATUS (*sign)(uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature verification.\n+\t * Signature verification algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `message`, based\n+\t * on the `length_*` members in this object or the per-scheme compile-time macros\n+\t * `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param pub              The signer's public key.\n-\t * @param msg              The signed message.\n-\t * @param msg_len          Length of the signed message.\n-\t * @param sig              The signature to verify.\n-\t * @param sig_len          Length of the signature to verify.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[in] message The message represented as a byte string.\n+\t * @param[in] message_len The length of the message.\n+\t * @param[in] signature The signature on the message represented as a byte string.\n+\t * @param[in] signature_len The length of the signature.\n+\t * @param[in] public_key The public key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*verify)(const OQS_SIG *s, const uint8_t *pub, const uint8_t *msg, const size_t msg_len, const uint8_t *sig, const size_t sig_len);\n+\tOQS_STATUS (*verify)(uint8_t *message, size_t message_len, const uint8_t *signature, size_t signature_len, const uint8_t *public_key);\n \t// clang-format on\n \n-\t/**\n-\t * Pointer to a function for freeing the allocated signature structure\n-\t *\n-\t * @param s                Signature structure\n-\t */\n-\tvoid (*free)(OQS_SIG *s);\n-};\n+} OQS_SIG;\n \n /**\n- * Instantiate a new signature object.\n+ * Consturcts an OQS_SIG object for a particular algorithm.\n+ *\n+ * Callers should always check whether the return value is `NULL`, which indicates either than an\n+ * invalid algorithm name was provided, or that the requested algorithm was disabled at compile-time.\n  *\n- * @param algid              The id of the signature algorithm to be instantiated.\n- * @return                   A new signature object on success, or NULL on failure.\n+ * @param[in] method_name Name of the desired algorithm; one of the names in `OQS_SIG_algs`.\n+ * @return An OQS_SIG for the particular algorithm, or `NULL` if the algorithm has been disabled at compile-time.","path":"src/sig/sig.h","position":217,"original_position":217,"commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"body":"... if the algorithm has been disabled at compile-time or is not recognized.","created_at":"2018-09-24T13:31:10Z","updated_at":"2018-09-24T13:35:15Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219835557","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219835557"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219835557"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T13:35:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"055168a3148f970056c3fa7c531bd45f55dec0d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T02:39:17Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T02:39:19Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T13:31:10Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8311272323","type":"PullRequestReviewCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219836000","pull_request_review_id":158099544,"id":219836000,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgzNjAwMA==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */\n+\tsize_t length_signature;\n \n-\t/**\n-\t * Opaque pointer for passing around any computation context\n-\t */\n-\tvoid *ctx;\n-\n-\t// clang-format and doxygen don't work together nicely on these three functions\n \t// clang-format off\n+\n \t/**\n-\t * Pointer to a function for public and private signature key generation.\n+\t * Keypair generation algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `public_key` and\n+\t * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param pub              The signer's public key.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[out] public_key The public key represented as a byte string.\n+\t * @param[out] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*keygen)(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+\tOQS_STATUS (*keypair)(uint8_t *public_key, uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature generation.\n+\t * Signature generation algorithm.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param msg              The message to sign.\n-\t * @param msg_len          Length of the message to sign.\n-\t * @param sig              The generated signature. Must be allocated by the caller, or NULL to learn how much space is needed, as returned in sig_len.\n-\t * @param sig_len          In: length of sig, out: length of the generated signature.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * Caller is responsible for allocating sufficient memory for `signed_message`,\n+\t * based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n+\t *\n+\t * @param[out] signature The signature on the message represented as a byte string.\n+\t * @param[out] signature_len The length of the signature.\n+\t * @param[in] message The message to sign represented as a byte string.\n+\t * @param[in] message_len The length of the message to sign.\n+\t * @param[in] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*sign)(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len);\n+\tOQS_STATUS (*sign)(uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature verification.\n+\t * Signature verification algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `message`, based\n+\t * on the `length_*` members in this object or the per-scheme compile-time macros\n+\t * `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param pub              The signer's public key.\n-\t * @param msg              The signed message.\n-\t * @param msg_len          Length of the signed message.\n-\t * @param sig              The signature to verify.\n-\t * @param sig_len          Length of the signature to verify.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[in] message The message represented as a byte string.\n+\t * @param[in] message_len The length of the message.\n+\t * @param[in] signature The signature on the message represented as a byte string.\n+\t * @param[in] signature_len The length of the signature.\n+\t * @param[in] public_key The public key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*verify)(const OQS_SIG *s, const uint8_t *pub, const uint8_t *msg, const size_t msg_len, const uint8_t *sig, const size_t sig_len);\n+\tOQS_STATUS (*verify)(uint8_t *message, size_t message_len, const uint8_t *signature, size_t signature_len, const uint8_t *public_key);\n \t// clang-format on\n \n-\t/**\n-\t * Pointer to a function for freeing the allocated signature structure\n-\t *\n-\t * @param s                Signature structure\n-\t */\n-\tvoid (*free)(OQS_SIG *s);\n-};\n+} OQS_SIG;\n \n /**\n- * Instantiate a new signature object.\n+ * Consturcts an OQS_SIG object for a particular algorithm.\n+ *\n+ * Callers should always check whether the return value is `NULL`, which indicates either than an\n+ * invalid algorithm name was provided, or that the requested algorithm was disabled at compile-time.\n  *\n- * @param algid              The id of the signature algorithm to be instantiated.\n- * @return                   A new signature object on success, or NULL on failure.\n+ * @param[in] method_name Name of the desired algorithm; one of the names in `OQS_SIG_algs`.\n+ * @return An OQS_SIG for the particular algorithm, or `NULL` if the algorithm has been disabled at compile-time.\n  */\n-OQS_API OQS_SIG *OQS_SIG_new(enum OQS_SIG_algid algid);\n+OQS_SIG *OQS_SIG_new(const char *method_name);\n \n /**\n- * Generates a new signature key pair.\n- * @param s                  Pointer to the signature object.\n- * @param priv               Pointer where the generated private key will be stored. Caller\n- *                           must have allocated s->priv_key_len bytes.\n- * @param pub                Pointer where the generated public key will be stored. Caller\n- *                           must have allocated s->pub_key_len bytes.\n- * @return                   OQS_SUCCESS on success, or OQS_ERROR on failure\n+ * Keypair generation algorithm.\n+ *\n+ * Caller is responsible for allocating sufficient memory for `public_key` and\n+ * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+ * compile-time macros `OQS_SIG_*_length_*`.\n+ *\n+ * @param[in] sig The OQS_SIG object representing the signature scheme.\n+ * @param[out] public_key The public key represented as a byte string.\n+ * @param[out] secret_key The secret key represented as a byte string.\n+ * @return OQS_SUCCESS or OQS_ERROR\n  */\n-OQS_API OQS_STATUS OQS_SIG_keygen(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+OQS_STATUS OQS_SIG_keypair(const OQS_SIG *sig, uint8_t *public_key, uint8_t *secret_key);\n \n /**\n- * Generates a new signature.\n- * @param s         Pointer to the signature object.\n- * @param priv      Pointer to the signer's private key, of expected length `s->priv_key_len` bytes.\n- * @param msg       Pointer to the message to sign.\n- * @param msg_len   Length of the message to sign `msg`.\n- * @param sig       Pointer where the generated signature will be stored. Caller must have allocated `s->max_sig_len` bytes.\n- * @param sig_len   Pointer to the length of the generated signature.\n- * @return          OQS_SUCCESS on success, or OQS_ERROR on failure\n+ * Signature generation algorithm.\n+ *\n+ * Caller is responsible for allocating sufficient memory for `signed_message`,\n+ * based on the `length_*` members in this object or the per-scheme\n+ * compile-time macros `OQS_SIG_*_length_*`.\n+ *\n+ * @param[in] sig The OQS_SIG object representing the signature scheme.\n+ * @param[out] signature The signature on the message represented as a byte string.\n+ * @param[out] signature_len The length of the signature.\n+ * @param[in] message The message to sign represented as a byte string.\n+ * @param[in] message_len The length of the message to sign.\n+ * @param[in] secret_key The secret key represented as a byte string.\n+ * @return OQS_SUCCESS or OQS_ERROR\n  */\n-OQS_API OQS_STATUS OQS_SIG_sign(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len);\n+OQS_STATUS OQS_SIG_sign(const OQS_SIG *sig, uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key);\n \n /**\n- * Verifies a signature.\n- * @param s         Pointer to the signature object.\n- * @param pub       Pointer to the signer's public key, of expected length `s->pub_key_len` bytes.\n- * @param msg       Pointer to the signed message.\n- * @param msg_len   Length of the signed message `msg`.\n- * @param sig       Pointer to the signature.\n- * @param sig_len   Length of the signature.\n- * @return          OQS_SUCCESS on success, or OQS_ERROR on failure\n+ * Signature verification algorithm.\n+ *\n+ * @param[in] sig The OQS_SIG object representing the signature scheme.\n+ * @param[in] message The message represented as a byte string.\n+ * @param[in] message_len The length of the message.\n+ * @param[in] signature The signature on the message represented as a byte string.\n+ * @param[in] signature_len The length of the signature.\n+ * @param[in] public_key The public key represented as a byte string.\n+ * @return OQS_SUCCESS or OQS_ERROR\n  */\n-OQS_API OQS_STATUS OQS_SIG_verify(const OQS_SIG *s, const uint8_t *pub, const uint8_t *msg, const size_t msg_len, const uint8_t *sig, const size_t sig_len);\n+OQS_STATUS OQS_SIG_verify(const OQS_SIG *sig, uint8_t *message, size_t message_len, const uint8_t *signature, size_t signature_len, const uint8_t *public_key);","path":"src/sig/sig.h","position":290,"original_position":290,"commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"body":"`message, `message_len`, and `signature_len` should be marked as `const`","created_at":"2018-09-24T13:32:34Z","updated_at":"2018-09-24T13:35:15Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219836000","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219836000"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219836000"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T13:35:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"055168a3148f970056c3fa7c531bd45f55dec0d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T02:39:17Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T02:39:19Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T13:32:34Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8311272325","type":"PullRequestReviewCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219835883","pull_request_review_id":158099544,"id":219835883,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgzNTg4Mw==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */\n+\tsize_t length_signature;\n \n-\t/**\n-\t * Opaque pointer for passing around any computation context\n-\t */\n-\tvoid *ctx;\n-\n-\t// clang-format and doxygen don't work together nicely on these three functions\n \t// clang-format off\n+\n \t/**\n-\t * Pointer to a function for public and private signature key generation.\n+\t * Keypair generation algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `public_key` and\n+\t * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param pub              The signer's public key.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[out] public_key The public key represented as a byte string.\n+\t * @param[out] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*keygen)(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+\tOQS_STATUS (*keypair)(uint8_t *public_key, uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature generation.\n+\t * Signature generation algorithm.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param msg              The message to sign.\n-\t * @param msg_len          Length of the message to sign.\n-\t * @param sig              The generated signature. Must be allocated by the caller, or NULL to learn how much space is needed, as returned in sig_len.\n-\t * @param sig_len          In: length of sig, out: length of the generated signature.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * Caller is responsible for allocating sufficient memory for `signed_message`,\n+\t * based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n+\t *\n+\t * @param[out] signature The signature on the message represented as a byte string.\n+\t * @param[out] signature_len The length of the signature.\n+\t * @param[in] message The message to sign represented as a byte string.\n+\t * @param[in] message_len The length of the message to sign.\n+\t * @param[in] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*sign)(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len);\n+\tOQS_STATUS (*sign)(uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature verification.\n+\t * Signature verification algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `message`, based\n+\t * on the `length_*` members in this object or the per-scheme compile-time macros\n+\t * `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param pub              The signer's public key.\n-\t * @param msg              The signed message.\n-\t * @param msg_len          Length of the signed message.\n-\t * @param sig              The signature to verify.\n-\t * @param sig_len          Length of the signature to verify.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[in] message The message represented as a byte string.\n+\t * @param[in] message_len The length of the message.\n+\t * @param[in] signature The signature on the message represented as a byte string.\n+\t * @param[in] signature_len The length of the signature.\n+\t * @param[in] public_key The public key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*verify)(const OQS_SIG *s, const uint8_t *pub, const uint8_t *msg, const size_t msg_len, const uint8_t *sig, const size_t sig_len);\n+\tOQS_STATUS (*verify)(uint8_t *message, size_t message_len, const uint8_t *signature, size_t signature_len, const uint8_t *public_key);\n \t// clang-format on\n \n-\t/**\n-\t * Pointer to a function for freeing the allocated signature structure\n-\t *\n-\t * @param s                Signature structure\n-\t */\n-\tvoid (*free)(OQS_SIG *s);\n-};\n+} OQS_SIG;\n \n /**\n- * Instantiate a new signature object.\n+ * Consturcts an OQS_SIG object for a particular algorithm.\n+ *\n+ * Callers should always check whether the return value is `NULL`, which indicates either than an\n+ * invalid algorithm name was provided, or that the requested algorithm was disabled at compile-time.\n  *\n- * @param algid              The id of the signature algorithm to be instantiated.\n- * @return                   A new signature object on success, or NULL on failure.\n+ * @param[in] method_name Name of the desired algorithm; one of the names in `OQS_SIG_algs`.\n+ * @return An OQS_SIG for the particular algorithm, or `NULL` if the algorithm has been disabled at compile-time.\n  */\n-OQS_API OQS_SIG *OQS_SIG_new(enum OQS_SIG_algid algid);\n+OQS_SIG *OQS_SIG_new(const char *method_name);\n \n /**\n- * Generates a new signature key pair.\n- * @param s                  Pointer to the signature object.\n- * @param priv               Pointer where the generated private key will be stored. Caller\n- *                           must have allocated s->priv_key_len bytes.\n- * @param pub                Pointer where the generated public key will be stored. Caller\n- *                           must have allocated s->pub_key_len bytes.\n- * @return                   OQS_SUCCESS on success, or OQS_ERROR on failure\n+ * Keypair generation algorithm.\n+ *\n+ * Caller is responsible for allocating sufficient memory for `public_key` and\n+ * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+ * compile-time macros `OQS_SIG_*_length_*`.\n+ *\n+ * @param[in] sig The OQS_SIG object representing the signature scheme.\n+ * @param[out] public_key The public key represented as a byte string.\n+ * @param[out] secret_key The secret key represented as a byte string.\n+ * @return OQS_SUCCESS or OQS_ERROR\n  */\n-OQS_API OQS_STATUS OQS_SIG_keygen(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+OQS_STATUS OQS_SIG_keypair(const OQS_SIG *sig, uint8_t *public_key, uint8_t *secret_key);\n \n /**\n- * Generates a new signature.\n- * @param s         Pointer to the signature object.\n- * @param priv      Pointer to the signer's private key, of expected length `s->priv_key_len` bytes.\n- * @param msg       Pointer to the message to sign.\n- * @param msg_len   Length of the message to sign `msg`.\n- * @param sig       Pointer where the generated signature will be stored. Caller must have allocated `s->max_sig_len` bytes.\n- * @param sig_len   Pointer to the length of the generated signature.\n- * @return          OQS_SUCCESS on success, or OQS_ERROR on failure\n+ * Signature generation algorithm.\n+ *\n+ * Caller is responsible for allocating sufficient memory for `signed_message`,\n+ * based on the `length_*` members in this object or the per-scheme\n+ * compile-time macros `OQS_SIG_*_length_*`.\n+ *\n+ * @param[in] sig The OQS_SIG object representing the signature scheme.\n+ * @param[out] signature The signature on the message represented as a byte string.\n+ * @param[out] signature_len The length of the signature.\n+ * @param[in] message The message to sign represented as a byte string.\n+ * @param[in] message_len The length of the message to sign.\n+ * @param[in] secret_key The secret key represented as a byte string.\n+ * @return OQS_SUCCESS or OQS_ERROR\n  */\n-OQS_API OQS_STATUS OQS_SIG_sign(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len);\n+OQS_STATUS OQS_SIG_sign(const OQS_SIG *sig, uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key);","path":"src/sig/sig.h","position":268,"original_position":268,"commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"body":"`message_len` should be marked as const","created_at":"2018-09-24T13:32:14Z","updated_at":"2018-09-24T13:35:15Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219835883","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219835883"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219835883"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T13:35:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"055168a3148f970056c3fa7c531bd45f55dec0d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T02:39:17Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T02:39:19Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T13:32:14Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8311272327","type":"PullRequestReviewCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219835657","pull_request_review_id":158099544,"id":219835657,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgzNTY1Nw==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */\n+\tsize_t length_signature;\n \n-\t/**\n-\t * Opaque pointer for passing around any computation context\n-\t */\n-\tvoid *ctx;\n-\n-\t// clang-format and doxygen don't work together nicely on these three functions\n \t// clang-format off\n+\n \t/**\n-\t * Pointer to a function for public and private signature key generation.\n+\t * Keypair generation algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `public_key` and\n+\t * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param pub              The signer's public key.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[out] public_key The public key represented as a byte string.\n+\t * @param[out] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*keygen)(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+\tOQS_STATUS (*keypair)(uint8_t *public_key, uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature generation.\n+\t * Signature generation algorithm.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param msg              The message to sign.\n-\t * @param msg_len          Length of the message to sign.\n-\t * @param sig              The generated signature. Must be allocated by the caller, or NULL to learn how much space is needed, as returned in sig_len.\n-\t * @param sig_len          In: length of sig, out: length of the generated signature.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * Caller is responsible for allocating sufficient memory for `signed_message`,\n+\t * based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n+\t *\n+\t * @param[out] signature The signature on the message represented as a byte string.\n+\t * @param[out] signature_len The length of the signature.\n+\t * @param[in] message The message to sign represented as a byte string.\n+\t * @param[in] message_len The length of the message to sign.\n+\t * @param[in] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*sign)(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len);\n+\tOQS_STATUS (*sign)(uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature verification.\n+\t * Signature verification algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `message`, based\n+\t * on the `length_*` members in this object or the per-scheme compile-time macros\n+\t * `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param pub              The signer's public key.\n-\t * @param msg              The signed message.\n-\t * @param msg_len          Length of the signed message.\n-\t * @param sig              The signature to verify.\n-\t * @param sig_len          Length of the signature to verify.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[in] message The message represented as a byte string.\n+\t * @param[in] message_len The length of the message.\n+\t * @param[in] signature The signature on the message represented as a byte string.\n+\t * @param[in] signature_len The length of the signature.\n+\t * @param[in] public_key The public key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*verify)(const OQS_SIG *s, const uint8_t *pub, const uint8_t *msg, const size_t msg_len, const uint8_t *sig, const size_t sig_len);\n+\tOQS_STATUS (*verify)(uint8_t *message, size_t message_len, const uint8_t *signature, size_t signature_len, const uint8_t *public_key);\n \t// clang-format on\n \n-\t/**\n-\t * Pointer to a function for freeing the allocated signature structure\n-\t *\n-\t * @param s                Signature structure\n-\t */\n-\tvoid (*free)(OQS_SIG *s);\n-};\n+} OQS_SIG;\n \n /**\n- * Instantiate a new signature object.\n+ * Consturcts an OQS_SIG object for a particular algorithm.\n+ *\n+ * Callers should always check whether the return value is `NULL`, which indicates either than an\n+ * invalid algorithm name was provided, or that the requested algorithm was disabled at compile-time.\n  *\n- * @param algid              The id of the signature algorithm to be instantiated.\n- * @return                   A new signature object on success, or NULL on failure.\n+ * @param[in] method_name Name of the desired algorithm; one of the names in `OQS_SIG_algs`.\n+ * @return An OQS_SIG for the particular algorithm, or `NULL` if the algorithm has been disabled at compile-time.\n  */\n-OQS_API OQS_SIG *OQS_SIG_new(enum OQS_SIG_algid algid);\n+OQS_SIG *OQS_SIG_new(const char *method_name);\n \n /**\n- * Generates a new signature key pair.\n- * @param s                  Pointer to the signature object.\n- * @param priv               Pointer where the generated private key will be stored. Caller\n- *                           must have allocated s->priv_key_len bytes.\n- * @param pub                Pointer where the generated public key will be stored. Caller\n- *                           must have allocated s->pub_key_len bytes.\n- * @return                   OQS_SUCCESS on success, or OQS_ERROR on failure\n+ * Keypair generation algorithm.\n+ *\n+ * Caller is responsible for allocating sufficient memory for `public_key` and\n+ * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+ * compile-time macros `OQS_SIG_*_length_*`.\n+ *\n+ * @param[in] sig The OQS_SIG object representing the signature scheme.\n+ * @param[out] public_key The public key represented as a byte string.\n+ * @param[out] secret_key The secret key represented as a byte string.\n+ * @return OQS_SUCCESS or OQS_ERROR\n  */\n-OQS_API OQS_STATUS OQS_SIG_keygen(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+OQS_STATUS OQS_SIG_keypair(const OQS_SIG *sig, uint8_t *public_key, uint8_t *secret_key);\n \n /**\n- * Generates a new signature.\n- * @param s         Pointer to the signature object.\n- * @param priv      Pointer to the signer's private key, of expected length `s->priv_key_len` bytes.\n- * @param msg       Pointer to the message to sign.\n- * @param msg_len   Length of the message to sign `msg`.\n- * @param sig       Pointer where the generated signature will be stored. Caller must have allocated `s->max_sig_len` bytes.\n- * @param sig_len   Pointer to the length of the generated signature.\n- * @return          OQS_SUCCESS on success, or OQS_ERROR on failure\n+ * Signature generation algorithm.\n+ *\n+ * Caller is responsible for allocating sufficient memory for `signed_message`,","path":"src/sig/sig.h","position":255,"original_position":255,"commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"body":"Same comment as above.","created_at":"2018-09-24T13:31:28Z","updated_at":"2018-09-24T13:35:15Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219835657","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219835657"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219835657"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T13:35:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"055168a3148f970056c3fa7c531bd45f55dec0d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T02:39:17Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T02:39:19Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T13:31:28Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8311272330","type":"PullRequestReviewCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219836685","pull_request_review_id":158099544,"id":219836685,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgzNjY4NQ==","diff_hunk":"@@ -1,4 +1,3 @@\n-#include <stdbool.h>","path":"tests/test_kem.c","position":1,"original_position":1,"commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"body":"Out of curiosity, why did you delete this?","created_at":"2018-09-24T13:34:35Z","updated_at":"2018-09-24T13:35:15Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219836685","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219836685"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219836685"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T13:35:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"055168a3148f970056c3fa7c531bd45f55dec0d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T02:39:17Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T02:39:19Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T13:34:35Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8311272332","type":"PullRequestReviewCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219836364","pull_request_review_id":158099544,"id":219836364,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgzNjM2NA==","diff_hunk":"@@ -1,18 +1,13 @@\n AUTOMAKE_OPTIONS = foreign\n check_PROGRAMS = example_kem speed_kem test_kem \\\n                       minimal_kex_oqs test_kex \\\n-                      test_sig \\\n+                      minimal_sig_oqs test_sig \\","path":"tests/Makefile.am","position":5,"original_position":5,"commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"body":"I'd prefer to use the name `example_sig` instead of `minimal_sig_oqs`, to mirror what we've done for KEMs and as on nist-branch.","created_at":"2018-09-24T13:33:43Z","updated_at":"2018-09-24T13:35:15Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219836364","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219836364"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219836364"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T13:35:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"055168a3148f970056c3fa7c531bd45f55dec0d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T02:39:17Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T02:39:19Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T13:33:43Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8311272335","type":"PullRequestReviewCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219835806","pull_request_review_id":158099544,"id":219835806,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTgzNTgwNg==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */\n+\tsize_t length_signature;\n \n-\t/**\n-\t * Opaque pointer for passing around any computation context\n-\t */\n-\tvoid *ctx;\n-\n-\t// clang-format and doxygen don't work together nicely on these three functions\n \t// clang-format off\n+\n \t/**\n-\t * Pointer to a function for public and private signature key generation.\n+\t * Keypair generation algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `public_key` and\n+\t * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param pub              The signer's public key.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[out] public_key The public key represented as a byte string.\n+\t * @param[out] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*keygen)(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+\tOQS_STATUS (*keypair)(uint8_t *public_key, uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature generation.\n+\t * Signature generation algorithm.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param msg              The message to sign.\n-\t * @param msg_len          Length of the message to sign.\n-\t * @param sig              The generated signature. Must be allocated by the caller, or NULL to learn how much space is needed, as returned in sig_len.\n-\t * @param sig_len          In: length of sig, out: length of the generated signature.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * Caller is responsible for allocating sufficient memory for `signed_message`,\n+\t * based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n+\t *\n+\t * @param[out] signature The signature on the message represented as a byte string.\n+\t * @param[out] signature_len The length of the signature.\n+\t * @param[in] message The message to sign represented as a byte string.\n+\t * @param[in] message_len The length of the message to sign.\n+\t * @param[in] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*sign)(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len);\n+\tOQS_STATUS (*sign)(uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key);","path":"src/sig/sig.h","position":170,"original_position":170,"commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"body":"`message_len` should be marked as const","created_at":"2018-09-24T13:31:58Z","updated_at":"2018-09-24T13:35:15Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219835806","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"MEMBER","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219835806"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219835806"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T13:35:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"055168a3148f970056c3fa7c531bd45f55dec0d9","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T02:39:17Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T02:39:19Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/08366ee1b1e449f64dd1bb7354b7b835acfa1476"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T13:31:58Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313286667","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219954043","pull_request_review_id":158251561,"id":219954043,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk1NDA0Mw==","diff_hunk":"@@ -0,0 +1,90 @@\n+#ifndef __OQS_SIG_PICNIC_H\r\n+#define __OQS_SIG_PICNIC_H\r\n+\r\n+#include <oqs/oqs.h>\r\n+\r\n+#ifdef OQS_ENABLE_SIG_picnic_L1_FS\r\n+\r\n+#define OQS_SIG_picnic_L1_FS_length_public_key 33\r\n+#define OQS_SIG_picnic_L1_FS_length_secret_key 49\r\n+#define OQS_SIG_picnic_L1_FS_length_signature 34004\r\n+\r\n+OQS_SIG *OQS_SIG_picnic_L1_FS_new();\r\n+\r\n+extern OQS_STATUS OQS_SIG_picnic_L1_FS_keypair(uint8_t *public_key, uint8_t *secret_key);\r","path":"src/sig/picnic/sig_picnic.h","position":14,"original_position":14,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"This came from the nist-branch; should we remove it on both branches?","created_at":"2018-09-24T19:08:09Z","updated_at":"2018-09-24T19:08:10Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219954043","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219954043"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219954043"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219832821},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:08:10Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:07:05Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:07:06Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:08:09Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313287224","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219954076","pull_request_review_id":158251597,"id":219954076,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk1NDA3Ng==","diff_hunk":"@@ -0,0 +1,48 @@\n+#ifndef __OQS_SIG_QTESLA_H\r\n+#define __OQS_SIG_QTESLA_H\r\n+\r\n+#include <oqs/oqs.h>\r\n+\r\n+#ifdef OQS_ENABLE_SIG_qTESLA_I\r\n+\r\n+#define OQS_SIG_qTESLA_I_length_public_key 1504\r\n+#define OQS_SIG_qTESLA_I_length_secret_key 2112\r\n+#define OQS_SIG_qTESLA_I_length_signature 1376\r\n+\r\n+OQS_SIG *OQS_SIG_qTESLA_I_new();\r\n+\r\n+extern OQS_STATUS OQS_SIG_qTESLA_I_keypair(uint8_t *public_key, uint8_t *secret_key);\r","path":"src/sig/qtesla/sig_qtesla.h","position":14,"original_position":14,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"This came from the nist-branch; should we remove it on both branches?","created_at":"2018-09-24T19:08:15Z","updated_at":"2018-09-24T19:08:15Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219954076","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219954076"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219954076"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219833279},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:08:15Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:07:05Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:07:06Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:08:15Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313321783","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219955949","pull_request_review_id":158253911,"id":219955949,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk1NTk0OQ==","diff_hunk":"@@ -1,79 +1,120 @@\n #include <assert.h>\n-\n-#include <oqs/common.h>\n-#include <oqs/sig.h>\n-#ifdef ENABLE_SIG_PICNIC\n-#include <oqs/sig_picnic.h>\n-#endif\n-#ifdef ENABLE_SIG_QTESLA\n-#include <oqs/sig_qtesla.h>\n+#include <stdlib.h>\n+#if defined(_WIN32)\n+#define strcasecmp _stricmp\n+#else\n+#include <strings.h>\n #endif\n \n-OQS_API OQS_SIG *OQS_SIG_new(enum OQS_SIG_algid algid) {\n-\tOQS_SIG *s = malloc(sizeof(OQS_SIG));\n-\tif (s == NULL) {\n+#include <oqs/oqs.h>\n+\n+OQS_API const char *OQS_SIG_alg_identifier(size_t i) {\n+\t// EDIT-WHEN-ADDING-SIG\n+\tconst char *a[OQS_SIG_algs_length] = {\n+\t    OQS_SIG_alg_default,\n+\t    OQS_SIG_alg_qTESLA_I,\n+\t    OQS_SIG_alg_qTESLA_III_size,\n+\t    OQS_SIG_alg_qTESLA_III_speed,\n+\t    OQS_SIG_alg_picnic_L1_FS,\n+\t    OQS_SIG_alg_picnic_L1_UR,\n+\t    OQS_SIG_alg_picnic_L3_FS,\n+\t    OQS_SIG_alg_picnic_L3_UR,\n+\t    OQS_SIG_alg_picnic_L5_FS,\n+\t    OQS_SIG_alg_picnic_L5_UR};\n+\tif (i >= OQS_SIG_algs_length) {\n \t\treturn NULL;\n+\t} else {\n+\t\treturn a[i];\n \t}\n+}\n \n-\tswitch (algid) {\n-#ifdef ENABLE_SIG_PICNIC\n-\tcase OQS_SIG_picnic_L1_FS:\n-\tcase OQS_SIG_picnic_L1_UR:\n-\tcase OQS_SIG_picnic_L3_FS:\n-\tcase OQS_SIG_picnic_L3_UR:\n-\tcase OQS_SIG_picnic_L5_FS:\n-\tcase OQS_SIG_picnic_L5_UR:\n-\tcase OQS_SIG_default:\n-\t\tif (OQS_SIG_picnic_get(s, algid) != OQS_SUCCESS) {\n-\t\t\tOQS_MEM_insecure_free(s);\n-\t\t\treturn NULL;\n-\t\t}\n-\t\tbreak;\n+OQS_SIG *OQS_SIG_new(const char *method_name) {\n+\tif (0 == strcasecmp(method_name, OQS_SIG_alg_default)) {\n+\t\treturn OQS_SIG_new(OQS_SIG_DEFAULT);\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_I)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_I\n+\t\treturn OQS_SIG_qTESLA_I_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_III_size)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_III_size\n+\t\treturn OQS_SIG_qTESLA_III_size_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_III_speed)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_III_speed\n+\t\treturn OQS_SIG_qTESLA_III_speed_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L1_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L1_FS\n+\t\treturn OQS_SIG_picnic_L1_FS_new();\n+#else\n+\t\treturn NULL;\n #endif\n-#ifdef ENABLE_SIG_QTESLA\n-\tcase OQS_SIG_qTESLA_I:\n-\tcase OQS_SIG_qTESLA_III_speed:\n-\tcase OQS_SIG_qTESLA_III_size:\n-\t\tif (OQS_SIG_qTESLA_get(s, algid) != OQS_SUCCESS) {\n-\t\t\tOQS_MEM_insecure_free(s);\n-\t\t\treturn NULL;\n-\t\t}\n-\t\tbreak;\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L1_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L1_UR\n+\t\treturn OQS_SIG_picnic_L1_UR_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L3_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L3_FS\n+\t\treturn OQS_SIG_picnic_L3_FS_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L3_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L3_UR\n+\t\treturn OQS_SIG_picnic_L3_UR_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L5_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L5_FS\n+\t\treturn OQS_SIG_picnic_L5_FS_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L5_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L5_UR\n+\t\treturn OQS_SIG_picnic_L5_UR_new();\n+#else\n+\t\treturn NULL;\n #endif\n-\tdefault:\n-\t\tOQS_MEM_insecure_free(s);\n+\t\t// EDIT-WHEN-ADDING-SIG\n+\t} else {\n \t\treturn NULL;\n \t}\n-\n-\treturn s;\n }\n \n-OQS_API OQS_STATUS OQS_SIG_keygen(const OQS_SIG *s, uint8_t *priv, uint8_t *pub) {\n-\tif (s == NULL) {\n+OQS_STATUS OQS_SIG_keypair(const OQS_SIG *sig, uint8_t *public_key, uint8_t *secret_key) {\n+\tif (sig == NULL || sig->keypair(public_key, secret_key) != 0) {","path":"src/sig/sig.c","position":135,"original_position":135,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Copy-pasted from nist-branch; fixed here; should fix it there too...","created_at":"2018-09-24T19:14:53Z","updated_at":"2018-09-24T19:14:53Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219955949","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219955949"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219955949"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219833954},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:14:53Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:07:05Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:07:06Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:14:53Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313322614","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219956001","pull_request_review_id":158253977,"id":219956001,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk1NjAwMQ==","diff_hunk":"@@ -1,79 +1,120 @@\n #include <assert.h>\n-\n-#include <oqs/common.h>\n-#include <oqs/sig.h>\n-#ifdef ENABLE_SIG_PICNIC\n-#include <oqs/sig_picnic.h>\n-#endif\n-#ifdef ENABLE_SIG_QTESLA\n-#include <oqs/sig_qtesla.h>\n+#include <stdlib.h>\n+#if defined(_WIN32)\n+#define strcasecmp _stricmp\n+#else\n+#include <strings.h>\n #endif\n \n-OQS_API OQS_SIG *OQS_SIG_new(enum OQS_SIG_algid algid) {\n-\tOQS_SIG *s = malloc(sizeof(OQS_SIG));\n-\tif (s == NULL) {\n+#include <oqs/oqs.h>\n+\n+OQS_API const char *OQS_SIG_alg_identifier(size_t i) {\n+\t// EDIT-WHEN-ADDING-SIG\n+\tconst char *a[OQS_SIG_algs_length] = {\n+\t    OQS_SIG_alg_default,\n+\t    OQS_SIG_alg_qTESLA_I,\n+\t    OQS_SIG_alg_qTESLA_III_size,\n+\t    OQS_SIG_alg_qTESLA_III_speed,\n+\t    OQS_SIG_alg_picnic_L1_FS,\n+\t    OQS_SIG_alg_picnic_L1_UR,\n+\t    OQS_SIG_alg_picnic_L3_FS,\n+\t    OQS_SIG_alg_picnic_L3_UR,\n+\t    OQS_SIG_alg_picnic_L5_FS,\n+\t    OQS_SIG_alg_picnic_L5_UR};\n+\tif (i >= OQS_SIG_algs_length) {\n \t\treturn NULL;\n+\t} else {\n+\t\treturn a[i];\n \t}\n+}\n \n-\tswitch (algid) {\n-#ifdef ENABLE_SIG_PICNIC\n-\tcase OQS_SIG_picnic_L1_FS:\n-\tcase OQS_SIG_picnic_L1_UR:\n-\tcase OQS_SIG_picnic_L3_FS:\n-\tcase OQS_SIG_picnic_L3_UR:\n-\tcase OQS_SIG_picnic_L5_FS:\n-\tcase OQS_SIG_picnic_L5_UR:\n-\tcase OQS_SIG_default:\n-\t\tif (OQS_SIG_picnic_get(s, algid) != OQS_SUCCESS) {\n-\t\t\tOQS_MEM_insecure_free(s);\n-\t\t\treturn NULL;\n-\t\t}\n-\t\tbreak;\n+OQS_SIG *OQS_SIG_new(const char *method_name) {\n+\tif (0 == strcasecmp(method_name, OQS_SIG_alg_default)) {\n+\t\treturn OQS_SIG_new(OQS_SIG_DEFAULT);\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_I)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_I\n+\t\treturn OQS_SIG_qTESLA_I_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_III_size)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_III_size\n+\t\treturn OQS_SIG_qTESLA_III_size_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_III_speed)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_III_speed\n+\t\treturn OQS_SIG_qTESLA_III_speed_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L1_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L1_FS\n+\t\treturn OQS_SIG_picnic_L1_FS_new();\n+#else\n+\t\treturn NULL;\n #endif\n-#ifdef ENABLE_SIG_QTESLA\n-\tcase OQS_SIG_qTESLA_I:\n-\tcase OQS_SIG_qTESLA_III_speed:\n-\tcase OQS_SIG_qTESLA_III_size:\n-\t\tif (OQS_SIG_qTESLA_get(s, algid) != OQS_SUCCESS) {\n-\t\t\tOQS_MEM_insecure_free(s);\n-\t\t\treturn NULL;\n-\t\t}\n-\t\tbreak;\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L1_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L1_UR\n+\t\treturn OQS_SIG_picnic_L1_UR_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L3_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L3_FS\n+\t\treturn OQS_SIG_picnic_L3_FS_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L3_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L3_UR\n+\t\treturn OQS_SIG_picnic_L3_UR_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L5_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L5_FS\n+\t\treturn OQS_SIG_picnic_L5_FS_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L5_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L5_UR\n+\t\treturn OQS_SIG_picnic_L5_UR_new();\n+#else\n+\t\treturn NULL;\n #endif\n-\tdefault:\n-\t\tOQS_MEM_insecure_free(s);\n+\t\t// EDIT-WHEN-ADDING-SIG\n+\t} else {\n \t\treturn NULL;\n \t}\n-\n-\treturn s;\n }\n \n-OQS_API OQS_STATUS OQS_SIG_keygen(const OQS_SIG *s, uint8_t *priv, uint8_t *pub) {\n-\tif (s == NULL) {\n+OQS_STATUS OQS_SIG_keypair(const OQS_SIG *sig, uint8_t *public_key, uint8_t *secret_key) {\n+\tif (sig == NULL || sig->keypair(public_key, secret_key) != 0) {\n \t\treturn OQS_ERROR;\n \t} else {\n-\t\treturn s->keygen(s, priv, pub);\n+\t\treturn OQS_SUCCESS;\n \t}\n }\n \n-OQS_API OQS_STATUS OQS_SIG_sign(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len) {\n-\tif (s == NULL) {\n+OQS_STATUS OQS_SIG_sign(const OQS_SIG *sig, uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key) {\n+\tif (sig == NULL || sig->sign(signature, signature_len, message, message_len, secret_key) != 0) {","path":"src/sig/sig.c","position":146,"original_position":146,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Copy-pasted from nist-branch; fixed here; should fix it there too...","created_at":"2018-09-24T19:15:03Z","updated_at":"2018-09-24T19:15:03Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219956001","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219956001"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219956001"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219833977},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:15:03Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:07:05Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:07:06Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:15:03Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313324484","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219956102","pull_request_review_id":158254086,"id":219956102,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk1NjEwMg==","diff_hunk":"@@ -1,79 +1,120 @@\n #include <assert.h>\n-\n-#include <oqs/common.h>\n-#include <oqs/sig.h>\n-#ifdef ENABLE_SIG_PICNIC\n-#include <oqs/sig_picnic.h>\n-#endif\n-#ifdef ENABLE_SIG_QTESLA\n-#include <oqs/sig_qtesla.h>\n+#include <stdlib.h>\n+#if defined(_WIN32)\n+#define strcasecmp _stricmp\n+#else\n+#include <strings.h>\n #endif\n \n-OQS_API OQS_SIG *OQS_SIG_new(enum OQS_SIG_algid algid) {\n-\tOQS_SIG *s = malloc(sizeof(OQS_SIG));\n-\tif (s == NULL) {\n+#include <oqs/oqs.h>\n+\n+OQS_API const char *OQS_SIG_alg_identifier(size_t i) {\n+\t// EDIT-WHEN-ADDING-SIG\n+\tconst char *a[OQS_SIG_algs_length] = {\n+\t    OQS_SIG_alg_default,\n+\t    OQS_SIG_alg_qTESLA_I,\n+\t    OQS_SIG_alg_qTESLA_III_size,\n+\t    OQS_SIG_alg_qTESLA_III_speed,\n+\t    OQS_SIG_alg_picnic_L1_FS,\n+\t    OQS_SIG_alg_picnic_L1_UR,\n+\t    OQS_SIG_alg_picnic_L3_FS,\n+\t    OQS_SIG_alg_picnic_L3_UR,\n+\t    OQS_SIG_alg_picnic_L5_FS,\n+\t    OQS_SIG_alg_picnic_L5_UR};\n+\tif (i >= OQS_SIG_algs_length) {\n \t\treturn NULL;\n+\t} else {\n+\t\treturn a[i];\n \t}\n+}\n \n-\tswitch (algid) {\n-#ifdef ENABLE_SIG_PICNIC\n-\tcase OQS_SIG_picnic_L1_FS:\n-\tcase OQS_SIG_picnic_L1_UR:\n-\tcase OQS_SIG_picnic_L3_FS:\n-\tcase OQS_SIG_picnic_L3_UR:\n-\tcase OQS_SIG_picnic_L5_FS:\n-\tcase OQS_SIG_picnic_L5_UR:\n-\tcase OQS_SIG_default:\n-\t\tif (OQS_SIG_picnic_get(s, algid) != OQS_SUCCESS) {\n-\t\t\tOQS_MEM_insecure_free(s);\n-\t\t\treturn NULL;\n-\t\t}\n-\t\tbreak;\n+OQS_SIG *OQS_SIG_new(const char *method_name) {\n+\tif (0 == strcasecmp(method_name, OQS_SIG_alg_default)) {\n+\t\treturn OQS_SIG_new(OQS_SIG_DEFAULT);\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_I)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_I\n+\t\treturn OQS_SIG_qTESLA_I_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_III_size)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_III_size\n+\t\treturn OQS_SIG_qTESLA_III_size_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_III_speed)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_III_speed\n+\t\treturn OQS_SIG_qTESLA_III_speed_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L1_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L1_FS\n+\t\treturn OQS_SIG_picnic_L1_FS_new();\n+#else\n+\t\treturn NULL;\n #endif\n-#ifdef ENABLE_SIG_QTESLA\n-\tcase OQS_SIG_qTESLA_I:\n-\tcase OQS_SIG_qTESLA_III_speed:\n-\tcase OQS_SIG_qTESLA_III_size:\n-\t\tif (OQS_SIG_qTESLA_get(s, algid) != OQS_SUCCESS) {\n-\t\t\tOQS_MEM_insecure_free(s);\n-\t\t\treturn NULL;\n-\t\t}\n-\t\tbreak;\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L1_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L1_UR\n+\t\treturn OQS_SIG_picnic_L1_UR_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L3_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L3_FS\n+\t\treturn OQS_SIG_picnic_L3_FS_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L3_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L3_UR\n+\t\treturn OQS_SIG_picnic_L3_UR_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L5_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L5_FS\n+\t\treturn OQS_SIG_picnic_L5_FS_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L5_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L5_UR\n+\t\treturn OQS_SIG_picnic_L5_UR_new();\n+#else\n+\t\treturn NULL;\n #endif\n-\tdefault:\n-\t\tOQS_MEM_insecure_free(s);\n+\t\t// EDIT-WHEN-ADDING-SIG\n+\t} else {\n \t\treturn NULL;\n \t}\n-\n-\treturn s;\n }\n \n-OQS_API OQS_STATUS OQS_SIG_keygen(const OQS_SIG *s, uint8_t *priv, uint8_t *pub) {\n-\tif (s == NULL) {\n+OQS_STATUS OQS_SIG_keypair(const OQS_SIG *sig, uint8_t *public_key, uint8_t *secret_key) {\n+\tif (sig == NULL || sig->keypair(public_key, secret_key) != 0) {\n \t\treturn OQS_ERROR;\n \t} else {\n-\t\treturn s->keygen(s, priv, pub);\n+\t\treturn OQS_SUCCESS;\n \t}\n }\n \n-OQS_API OQS_STATUS OQS_SIG_sign(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len) {\n-\tif (s == NULL) {\n+OQS_STATUS OQS_SIG_sign(const OQS_SIG *sig, uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key) {\n+\tif (sig == NULL || sig->sign(signature, signature_len, message, message_len, secret_key) != 0) {\n \t\treturn OQS_ERROR;\n \t} else {\n-\t\treturn s->sign(s, priv, msg, msg_len, sig, sig_len);\n+\t\treturn OQS_SUCCESS;\n \t}\n }\n \n-OQS_API OQS_STATUS OQS_SIG_verify(const OQS_SIG *s, const uint8_t *pub, const uint8_t *msg, const size_t msg_len, const uint8_t *sig, const size_t sig_len) {\n-\tif (s == NULL) {\n+OQS_STATUS OQS_SIG_verify(const OQS_SIG *sig, uint8_t *message, size_t message_len, const uint8_t *signature, size_t signature_len, const uint8_t *public_key) {\n+\tif (sig == NULL || sig->verify(message, message_len, signature, signature_len, public_key) != 0) {","path":"src/sig/sig.c","position":null,"original_position":157,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Copy-pasted from nist-branch; fixed here; should fix it there too...","created_at":"2018-09-24T19:15:24Z","updated_at":"2018-09-24T19:15:24Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219956102","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219956102"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219956102"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219834047},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:15:24Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:07:05Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:07:06Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:15:24Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313332359","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219956478","pull_request_review_id":158254597,"id":219956478,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk1NjQ3OA==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */\n+\tsize_t length_signature;\n \n-\t/**\n-\t * Opaque pointer for passing around any computation context\n-\t */\n-\tvoid *ctx;\n-\n-\t// clang-format and doxygen don't work together nicely on these three functions\n \t// clang-format off\n+\n \t/**\n-\t * Pointer to a function for public and private signature key generation.\n+\t * Keypair generation algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `public_key` and\n+\t * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param pub              The signer's public key.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[out] public_key The public key represented as a byte string.\n+\t * @param[out] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*keygen)(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+\tOQS_STATUS (*keypair)(uint8_t *public_key, uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature generation.\n+\t * Signature generation algorithm.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param msg              The message to sign.\n-\t * @param msg_len          Length of the message to sign.\n-\t * @param sig              The generated signature. Must be allocated by the caller, or NULL to learn how much space is needed, as returned in sig_len.\n-\t * @param sig_len          In: length of sig, out: length of the generated signature.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * Caller is responsible for allocating sufficient memory for `signed_message`,\n+\t * based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n+\t *\n+\t * @param[out] signature The signature on the message represented as a byte string.\n+\t * @param[out] signature_len The length of the signature.\n+\t * @param[in] message The message to sign represented as a byte string.\n+\t * @param[in] message_len The length of the message to sign.\n+\t * @param[in] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*sign)(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len);\n+\tOQS_STATUS (*sign)(uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key);","path":"src/sig/sig.h","position":170,"original_position":170,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Yes; leftovers from copy-pasting from nist-branch ","created_at":"2018-09-24T19:16:56Z","updated_at":"2018-09-24T19:16:57Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219956478","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219956478"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219956478"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219835806},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:16:57Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:07:05Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:07:06Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:16:56Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313333044","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219956511","pull_request_review_id":158254636,"id":219956511,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk1NjUxMQ==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */\n+\tsize_t length_signature;\n \n-\t/**\n-\t * Opaque pointer for passing around any computation context\n-\t */\n-\tvoid *ctx;\n-\n-\t// clang-format and doxygen don't work together nicely on these three functions\n \t// clang-format off\n+\n \t/**\n-\t * Pointer to a function for public and private signature key generation.\n+\t * Keypair generation algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `public_key` and\n+\t * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param pub              The signer's public key.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[out] public_key The public key represented as a byte string.\n+\t * @param[out] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*keygen)(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+\tOQS_STATUS (*keypair)(uint8_t *public_key, uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature generation.\n+\t * Signature generation algorithm.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param msg              The message to sign.\n-\t * @param msg_len          Length of the message to sign.\n-\t * @param sig              The generated signature. Must be allocated by the caller, or NULL to learn how much space is needed, as returned in sig_len.\n-\t * @param sig_len          In: length of sig, out: length of the generated signature.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * Caller is responsible for allocating sufficient memory for `signed_message`,\n+\t * based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n+\t *\n+\t * @param[out] signature The signature on the message represented as a byte string.\n+\t * @param[out] signature_len The length of the signature.\n+\t * @param[in] message The message to sign represented as a byte string.\n+\t * @param[in] message_len The length of the message to sign.\n+\t * @param[in] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*sign)(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len);\n+\tOQS_STATUS (*sign)(uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature verification.\n+\t * Signature verification algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `message`, based\n+\t * on the `length_*` members in this object or the per-scheme compile-time macros\n+\t * `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param pub              The signer's public key.\n-\t * @param msg              The signed message.\n-\t * @param msg_len          Length of the signed message.\n-\t * @param sig              The signature to verify.\n-\t * @param sig_len          Length of the signature to verify.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[in] message The message represented as a byte string.\n+\t * @param[in] message_len The length of the message.\n+\t * @param[in] signature The signature on the message represented as a byte string.\n+\t * @param[in] signature_len The length of the signature.\n+\t * @param[in] public_key The public key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*verify)(const OQS_SIG *s, const uint8_t *pub, const uint8_t *msg, const size_t msg_len, const uint8_t *sig, const size_t sig_len);\n+\tOQS_STATUS (*verify)(uint8_t *message, size_t message_len, const uint8_t *signature, size_t signature_len, const uint8_t *public_key);\n \t// clang-format on\n \n-\t/**\n-\t * Pointer to a function for freeing the allocated signature structure\n-\t *\n-\t * @param s                Signature structure\n-\t */\n-\tvoid (*free)(OQS_SIG *s);\n-};\n+} OQS_SIG;\n \n /**\n- * Instantiate a new signature object.\n+ * Consturcts an OQS_SIG object for a particular algorithm.\n+ *\n+ * Callers should always check whether the return value is `NULL`, which indicates either than an\n+ * invalid algorithm name was provided, or that the requested algorithm was disabled at compile-time.\n  *\n- * @param algid              The id of the signature algorithm to be instantiated.\n- * @return                   A new signature object on success, or NULL on failure.\n+ * @param[in] method_name Name of the desired algorithm; one of the names in `OQS_SIG_algs`.\n+ * @return An OQS_SIG for the particular algorithm, or `NULL` if the algorithm has been disabled at compile-time.\n  */\n-OQS_API OQS_SIG *OQS_SIG_new(enum OQS_SIG_algid algid);\n+OQS_SIG *OQS_SIG_new(const char *method_name);\n \n /**\n- * Generates a new signature key pair.\n- * @param s                  Pointer to the signature object.\n- * @param priv               Pointer where the generated private key will be stored. Caller\n- *                           must have allocated s->priv_key_len bytes.\n- * @param pub                Pointer where the generated public key will be stored. Caller\n- *                           must have allocated s->pub_key_len bytes.\n- * @return                   OQS_SUCCESS on success, or OQS_ERROR on failure\n+ * Keypair generation algorithm.\n+ *\n+ * Caller is responsible for allocating sufficient memory for `public_key` and\n+ * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+ * compile-time macros `OQS_SIG_*_length_*`.\n+ *\n+ * @param[in] sig The OQS_SIG object representing the signature scheme.\n+ * @param[out] public_key The public key represented as a byte string.\n+ * @param[out] secret_key The secret key represented as a byte string.\n+ * @return OQS_SUCCESS or OQS_ERROR\n  */\n-OQS_API OQS_STATUS OQS_SIG_keygen(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+OQS_STATUS OQS_SIG_keypair(const OQS_SIG *sig, uint8_t *public_key, uint8_t *secret_key);\n \n /**\n- * Generates a new signature.\n- * @param s         Pointer to the signature object.\n- * @param priv      Pointer to the signer's private key, of expected length `s->priv_key_len` bytes.\n- * @param msg       Pointer to the message to sign.\n- * @param msg_len   Length of the message to sign `msg`.\n- * @param sig       Pointer where the generated signature will be stored. Caller must have allocated `s->max_sig_len` bytes.\n- * @param sig_len   Pointer to the length of the generated signature.\n- * @return          OQS_SUCCESS on success, or OQS_ERROR on failure\n+ * Signature generation algorithm.\n+ *\n+ * Caller is responsible for allocating sufficient memory for `signed_message`,\n+ * based on the `length_*` members in this object or the per-scheme\n+ * compile-time macros `OQS_SIG_*_length_*`.\n+ *\n+ * @param[in] sig The OQS_SIG object representing the signature scheme.\n+ * @param[out] signature The signature on the message represented as a byte string.\n+ * @param[out] signature_len The length of the signature.\n+ * @param[in] message The message to sign represented as a byte string.\n+ * @param[in] message_len The length of the message to sign.\n+ * @param[in] secret_key The secret key represented as a byte string.\n+ * @return OQS_SUCCESS or OQS_ERROR\n  */\n-OQS_API OQS_STATUS OQS_SIG_sign(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len);\n+OQS_STATUS OQS_SIG_sign(const OQS_SIG *sig, uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key);","path":"src/sig/sig.h","position":268,"original_position":268,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Yes; leftovers from copy-pasting from nist-branch ","created_at":"2018-09-24T19:17:06Z","updated_at":"2018-09-24T19:17:06Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219956511","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219956511"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219956511"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219835883},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:17:06Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:07:05Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:07:06Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:17:06Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313333949","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219956551","pull_request_review_id":158254690,"id":219956551,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk1NjU1MQ==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */\n+\tsize_t length_signature;\n \n-\t/**\n-\t * Opaque pointer for passing around any computation context\n-\t */\n-\tvoid *ctx;\n-\n-\t// clang-format and doxygen don't work together nicely on these three functions\n \t// clang-format off\n+\n \t/**\n-\t * Pointer to a function for public and private signature key generation.\n+\t * Keypair generation algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `public_key` and\n+\t * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param pub              The signer's public key.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[out] public_key The public key represented as a byte string.\n+\t * @param[out] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*keygen)(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+\tOQS_STATUS (*keypair)(uint8_t *public_key, uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature generation.\n+\t * Signature generation algorithm.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param msg              The message to sign.\n-\t * @param msg_len          Length of the message to sign.\n-\t * @param sig              The generated signature. Must be allocated by the caller, or NULL to learn how much space is needed, as returned in sig_len.\n-\t * @param sig_len          In: length of sig, out: length of the generated signature.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * Caller is responsible for allocating sufficient memory for `signed_message`,\n+\t * based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n+\t *\n+\t * @param[out] signature The signature on the message represented as a byte string.\n+\t * @param[out] signature_len The length of the signature.\n+\t * @param[in] message The message to sign represented as a byte string.\n+\t * @param[in] message_len The length of the message to sign.\n+\t * @param[in] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*sign)(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len);\n+\tOQS_STATUS (*sign)(uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature verification.\n+\t * Signature verification algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `message`, based\n+\t * on the `length_*` members in this object or the per-scheme compile-time macros\n+\t * `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param pub              The signer's public key.\n-\t * @param msg              The signed message.\n-\t * @param msg_len          Length of the signed message.\n-\t * @param sig              The signature to verify.\n-\t * @param sig_len          Length of the signature to verify.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[in] message The message represented as a byte string.\n+\t * @param[in] message_len The length of the message.\n+\t * @param[in] signature The signature on the message represented as a byte string.\n+\t * @param[in] signature_len The length of the signature.\n+\t * @param[in] public_key The public key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*verify)(const OQS_SIG *s, const uint8_t *pub, const uint8_t *msg, const size_t msg_len, const uint8_t *sig, const size_t sig_len);\n+\tOQS_STATUS (*verify)(uint8_t *message, size_t message_len, const uint8_t *signature, size_t signature_len, const uint8_t *public_key);\n \t// clang-format on\n \n-\t/**\n-\t * Pointer to a function for freeing the allocated signature structure\n-\t *\n-\t * @param s                Signature structure\n-\t */\n-\tvoid (*free)(OQS_SIG *s);\n-};\n+} OQS_SIG;\n \n /**\n- * Instantiate a new signature object.\n+ * Consturcts an OQS_SIG object for a particular algorithm.\n+ *\n+ * Callers should always check whether the return value is `NULL`, which indicates either than an\n+ * invalid algorithm name was provided, or that the requested algorithm was disabled at compile-time.\n  *\n- * @param algid              The id of the signature algorithm to be instantiated.\n- * @return                   A new signature object on success, or NULL on failure.\n+ * @param[in] method_name Name of the desired algorithm; one of the names in `OQS_SIG_algs`.\n+ * @return An OQS_SIG for the particular algorithm, or `NULL` if the algorithm has been disabled at compile-time.\n  */\n-OQS_API OQS_SIG *OQS_SIG_new(enum OQS_SIG_algid algid);\n+OQS_SIG *OQS_SIG_new(const char *method_name);\n \n /**\n- * Generates a new signature key pair.\n- * @param s                  Pointer to the signature object.\n- * @param priv               Pointer where the generated private key will be stored. Caller\n- *                           must have allocated s->priv_key_len bytes.\n- * @param pub                Pointer where the generated public key will be stored. Caller\n- *                           must have allocated s->pub_key_len bytes.\n- * @return                   OQS_SUCCESS on success, or OQS_ERROR on failure\n+ * Keypair generation algorithm.\n+ *\n+ * Caller is responsible for allocating sufficient memory for `public_key` and\n+ * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+ * compile-time macros `OQS_SIG_*_length_*`.\n+ *\n+ * @param[in] sig The OQS_SIG object representing the signature scheme.\n+ * @param[out] public_key The public key represented as a byte string.\n+ * @param[out] secret_key The secret key represented as a byte string.\n+ * @return OQS_SUCCESS or OQS_ERROR\n  */\n-OQS_API OQS_STATUS OQS_SIG_keygen(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+OQS_STATUS OQS_SIG_keypair(const OQS_SIG *sig, uint8_t *public_key, uint8_t *secret_key);\n \n /**\n- * Generates a new signature.\n- * @param s         Pointer to the signature object.\n- * @param priv      Pointer to the signer's private key, of expected length `s->priv_key_len` bytes.\n- * @param msg       Pointer to the message to sign.\n- * @param msg_len   Length of the message to sign `msg`.\n- * @param sig       Pointer where the generated signature will be stored. Caller must have allocated `s->max_sig_len` bytes.\n- * @param sig_len   Pointer to the length of the generated signature.\n- * @return          OQS_SUCCESS on success, or OQS_ERROR on failure\n+ * Signature generation algorithm.\n+ *\n+ * Caller is responsible for allocating sufficient memory for `signed_message`,\n+ * based on the `length_*` members in this object or the per-scheme\n+ * compile-time macros `OQS_SIG_*_length_*`.\n+ *\n+ * @param[in] sig The OQS_SIG object representing the signature scheme.\n+ * @param[out] signature The signature on the message represented as a byte string.\n+ * @param[out] signature_len The length of the signature.\n+ * @param[in] message The message to sign represented as a byte string.\n+ * @param[in] message_len The length of the message to sign.\n+ * @param[in] secret_key The secret key represented as a byte string.\n+ * @return OQS_SUCCESS or OQS_ERROR\n  */\n-OQS_API OQS_STATUS OQS_SIG_sign(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len);\n+OQS_STATUS OQS_SIG_sign(const OQS_SIG *sig, uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key);\n \n /**\n- * Verifies a signature.\n- * @param s         Pointer to the signature object.\n- * @param pub       Pointer to the signer's public key, of expected length `s->pub_key_len` bytes.\n- * @param msg       Pointer to the signed message.\n- * @param msg_len   Length of the signed message `msg`.\n- * @param sig       Pointer to the signature.\n- * @param sig_len   Length of the signature.\n- * @return          OQS_SUCCESS on success, or OQS_ERROR on failure\n+ * Signature verification algorithm.\n+ *\n+ * @param[in] sig The OQS_SIG object representing the signature scheme.\n+ * @param[in] message The message represented as a byte string.\n+ * @param[in] message_len The length of the message.\n+ * @param[in] signature The signature on the message represented as a byte string.\n+ * @param[in] signature_len The length of the signature.\n+ * @param[in] public_key The public key represented as a byte string.\n+ * @return OQS_SUCCESS or OQS_ERROR\n  */\n-OQS_API OQS_STATUS OQS_SIG_verify(const OQS_SIG *s, const uint8_t *pub, const uint8_t *msg, const size_t msg_len, const uint8_t *sig, const size_t sig_len);\n+OQS_STATUS OQS_SIG_verify(const OQS_SIG *sig, uint8_t *message, size_t message_len, const uint8_t *signature, size_t signature_len, const uint8_t *public_key);","path":"src/sig/sig.h","position":null,"original_position":290,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Yes; leftovers from copy-pasting from nist-branch ","created_at":"2018-09-24T19:17:16Z","updated_at":"2018-09-24T19:17:16Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219956551","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219956551"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219956551"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219836000},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:17:16Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:07:05Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:07:06Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:17:16Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313341446","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219956943","pull_request_review_id":158255192,"id":219956943,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk1Njk0Mw==","diff_hunk":"@@ -1,18 +1,13 @@\n AUTOMAKE_OPTIONS = foreign\n check_PROGRAMS = example_kem speed_kem test_kem \\\n                       minimal_kex_oqs test_kex \\\n-                      test_sig \\\n+                      minimal_sig_oqs test_sig \\","path":"tests/Makefile.am","position":5,"original_position":5,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Ah yes, I was wondering if there would be a minimal_kem_oqs to replace the kex one. I can rename that one.","created_at":"2018-09-24T19:18:42Z","updated_at":"2018-09-24T19:18:42Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219956943","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219956943"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219956943"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219836364},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:18:42Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:07:05Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:07:06Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:18:42Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313344433","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219957112","pull_request_review_id":158255376,"id":219957112,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk1NzExMg==","diff_hunk":"@@ -1,4 +1,3 @@\n-#include <stdbool.h>","path":"tests/test_kem.c","position":1,"original_position":1,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Wasn't needed in test_sig.c, so after comparing with test_kem.c, I figured it wasn't needed there either.","created_at":"2018-09-24T19:19:16Z","updated_at":"2018-09-24T19:19:16Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219957112","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219957112"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219957112"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219836685},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:19:16Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:07:05Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:07:06Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":30,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":30,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:19:16Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313482584","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219965185","pull_request_review_id":158265591,"id":219965185,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk2NTE4NQ==","diff_hunk":"@@ -1,79 +1,120 @@\n #include <assert.h>\n-\n-#include <oqs/common.h>\n-#include <oqs/sig.h>\n-#ifdef ENABLE_SIG_PICNIC\n-#include <oqs/sig_picnic.h>\n-#endif\n-#ifdef ENABLE_SIG_QTESLA\n-#include <oqs/sig_qtesla.h>\n+#include <stdlib.h>\n+#if defined(_WIN32)\n+#define strcasecmp _stricmp\n+#else\n+#include <strings.h>\n #endif\n \n-OQS_API OQS_SIG *OQS_SIG_new(enum OQS_SIG_algid algid) {\n-\tOQS_SIG *s = malloc(sizeof(OQS_SIG));\n-\tif (s == NULL) {\n+#include <oqs/oqs.h>\n+\n+OQS_API const char *OQS_SIG_alg_identifier(size_t i) {\n+\t// EDIT-WHEN-ADDING-SIG\n+\tconst char *a[OQS_SIG_algs_length] = {\n+\t    OQS_SIG_alg_default,\n+\t    OQS_SIG_alg_qTESLA_I,\n+\t    OQS_SIG_alg_qTESLA_III_size,\n+\t    OQS_SIG_alg_qTESLA_III_speed,\n+\t    OQS_SIG_alg_picnic_L1_FS,\n+\t    OQS_SIG_alg_picnic_L1_UR,\n+\t    OQS_SIG_alg_picnic_L3_FS,\n+\t    OQS_SIG_alg_picnic_L3_UR,\n+\t    OQS_SIG_alg_picnic_L5_FS,\n+\t    OQS_SIG_alg_picnic_L5_UR};\n+\tif (i >= OQS_SIG_algs_length) {\n \t\treturn NULL;\n+\t} else {\n+\t\treturn a[i];\n \t}\n+}\n \n-\tswitch (algid) {\n-#ifdef ENABLE_SIG_PICNIC\n-\tcase OQS_SIG_picnic_L1_FS:\n-\tcase OQS_SIG_picnic_L1_UR:\n-\tcase OQS_SIG_picnic_L3_FS:\n-\tcase OQS_SIG_picnic_L3_UR:\n-\tcase OQS_SIG_picnic_L5_FS:\n-\tcase OQS_SIG_picnic_L5_UR:\n-\tcase OQS_SIG_default:\n-\t\tif (OQS_SIG_picnic_get(s, algid) != OQS_SUCCESS) {\n-\t\t\tOQS_MEM_insecure_free(s);\n-\t\t\treturn NULL;\n-\t\t}\n-\t\tbreak;\n+OQS_SIG *OQS_SIG_new(const char *method_name) {\n+\tif (0 == strcasecmp(method_name, OQS_SIG_alg_default)) {\n+\t\treturn OQS_SIG_new(OQS_SIG_DEFAULT);\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_I)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_I\n+\t\treturn OQS_SIG_qTESLA_I_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_III_size)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_III_size\n+\t\treturn OQS_SIG_qTESLA_III_size_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_III_speed)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_III_speed\n+\t\treturn OQS_SIG_qTESLA_III_speed_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L1_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L1_FS\n+\t\treturn OQS_SIG_picnic_L1_FS_new();\n+#else\n+\t\treturn NULL;\n #endif\n-#ifdef ENABLE_SIG_QTESLA\n-\tcase OQS_SIG_qTESLA_I:\n-\tcase OQS_SIG_qTESLA_III_speed:\n-\tcase OQS_SIG_qTESLA_III_size:\n-\t\tif (OQS_SIG_qTESLA_get(s, algid) != OQS_SUCCESS) {\n-\t\t\tOQS_MEM_insecure_free(s);\n-\t\t\treturn NULL;\n-\t\t}\n-\t\tbreak;\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L1_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L1_UR\n+\t\treturn OQS_SIG_picnic_L1_UR_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L3_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L3_FS\n+\t\treturn OQS_SIG_picnic_L3_FS_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L3_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L3_UR\n+\t\treturn OQS_SIG_picnic_L3_UR_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L5_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L5_FS\n+\t\treturn OQS_SIG_picnic_L5_FS_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L5_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L5_UR\n+\t\treturn OQS_SIG_picnic_L5_UR_new();\n+#else\n+\t\treturn NULL;\n #endif\n-\tdefault:\n-\t\tOQS_MEM_insecure_free(s);\n+\t\t// EDIT-WHEN-ADDING-SIG\n+\t} else {\n \t\treturn NULL;\n \t}\n-\n-\treturn s;\n }\n \n-OQS_API OQS_STATUS OQS_SIG_keygen(const OQS_SIG *s, uint8_t *priv, uint8_t *pub) {\n-\tif (s == NULL) {\n+OQS_STATUS OQS_SIG_keypair(const OQS_SIG *sig, uint8_t *public_key, uint8_t *secret_key) {\n+\tif (sig == NULL || sig->keypair(public_key, secret_key) != 0) {","path":"src/sig/sig.c","position":135,"original_position":135,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Also created PR #393 on nist-branch to fix this","created_at":"2018-09-24T19:46:17Z","updated_at":"2018-09-24T19:46:17Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219965185","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219965185"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219965185"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219833954},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:46:17Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:44:08Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:44:53Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":31,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":31,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:46:17Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313483140","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219965214","pull_request_review_id":158265623,"id":219965214,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk2NTIxNA==","diff_hunk":"@@ -1,79 +1,120 @@\n #include <assert.h>\n-\n-#include <oqs/common.h>\n-#include <oqs/sig.h>\n-#ifdef ENABLE_SIG_PICNIC\n-#include <oqs/sig_picnic.h>\n-#endif\n-#ifdef ENABLE_SIG_QTESLA\n-#include <oqs/sig_qtesla.h>\n+#include <stdlib.h>\n+#if defined(_WIN32)\n+#define strcasecmp _stricmp\n+#else\n+#include <strings.h>\n #endif\n \n-OQS_API OQS_SIG *OQS_SIG_new(enum OQS_SIG_algid algid) {\n-\tOQS_SIG *s = malloc(sizeof(OQS_SIG));\n-\tif (s == NULL) {\n+#include <oqs/oqs.h>\n+\n+OQS_API const char *OQS_SIG_alg_identifier(size_t i) {\n+\t// EDIT-WHEN-ADDING-SIG\n+\tconst char *a[OQS_SIG_algs_length] = {\n+\t    OQS_SIG_alg_default,\n+\t    OQS_SIG_alg_qTESLA_I,\n+\t    OQS_SIG_alg_qTESLA_III_size,\n+\t    OQS_SIG_alg_qTESLA_III_speed,\n+\t    OQS_SIG_alg_picnic_L1_FS,\n+\t    OQS_SIG_alg_picnic_L1_UR,\n+\t    OQS_SIG_alg_picnic_L3_FS,\n+\t    OQS_SIG_alg_picnic_L3_UR,\n+\t    OQS_SIG_alg_picnic_L5_FS,\n+\t    OQS_SIG_alg_picnic_L5_UR};\n+\tif (i >= OQS_SIG_algs_length) {\n \t\treturn NULL;\n+\t} else {\n+\t\treturn a[i];\n \t}\n+}\n \n-\tswitch (algid) {\n-#ifdef ENABLE_SIG_PICNIC\n-\tcase OQS_SIG_picnic_L1_FS:\n-\tcase OQS_SIG_picnic_L1_UR:\n-\tcase OQS_SIG_picnic_L3_FS:\n-\tcase OQS_SIG_picnic_L3_UR:\n-\tcase OQS_SIG_picnic_L5_FS:\n-\tcase OQS_SIG_picnic_L5_UR:\n-\tcase OQS_SIG_default:\n-\t\tif (OQS_SIG_picnic_get(s, algid) != OQS_SUCCESS) {\n-\t\t\tOQS_MEM_insecure_free(s);\n-\t\t\treturn NULL;\n-\t\t}\n-\t\tbreak;\n+OQS_SIG *OQS_SIG_new(const char *method_name) {\n+\tif (0 == strcasecmp(method_name, OQS_SIG_alg_default)) {\n+\t\treturn OQS_SIG_new(OQS_SIG_DEFAULT);\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_I)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_I\n+\t\treturn OQS_SIG_qTESLA_I_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_III_size)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_III_size\n+\t\treturn OQS_SIG_qTESLA_III_size_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_III_speed)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_III_speed\n+\t\treturn OQS_SIG_qTESLA_III_speed_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L1_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L1_FS\n+\t\treturn OQS_SIG_picnic_L1_FS_new();\n+#else\n+\t\treturn NULL;\n #endif\n-#ifdef ENABLE_SIG_QTESLA\n-\tcase OQS_SIG_qTESLA_I:\n-\tcase OQS_SIG_qTESLA_III_speed:\n-\tcase OQS_SIG_qTESLA_III_size:\n-\t\tif (OQS_SIG_qTESLA_get(s, algid) != OQS_SUCCESS) {\n-\t\t\tOQS_MEM_insecure_free(s);\n-\t\t\treturn NULL;\n-\t\t}\n-\t\tbreak;\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L1_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L1_UR\n+\t\treturn OQS_SIG_picnic_L1_UR_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L3_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L3_FS\n+\t\treturn OQS_SIG_picnic_L3_FS_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L3_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L3_UR\n+\t\treturn OQS_SIG_picnic_L3_UR_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L5_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L5_FS\n+\t\treturn OQS_SIG_picnic_L5_FS_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L5_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L5_UR\n+\t\treturn OQS_SIG_picnic_L5_UR_new();\n+#else\n+\t\treturn NULL;\n #endif\n-\tdefault:\n-\t\tOQS_MEM_insecure_free(s);\n+\t\t// EDIT-WHEN-ADDING-SIG\n+\t} else {\n \t\treturn NULL;\n \t}\n-\n-\treturn s;\n }\n \n-OQS_API OQS_STATUS OQS_SIG_keygen(const OQS_SIG *s, uint8_t *priv, uint8_t *pub) {\n-\tif (s == NULL) {\n+OQS_STATUS OQS_SIG_keypair(const OQS_SIG *sig, uint8_t *public_key, uint8_t *secret_key) {\n+\tif (sig == NULL || sig->keypair(public_key, secret_key) != 0) {\n \t\treturn OQS_ERROR;\n \t} else {\n-\t\treturn s->keygen(s, priv, pub);\n+\t\treturn OQS_SUCCESS;\n \t}\n }\n \n-OQS_API OQS_STATUS OQS_SIG_sign(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len) {\n-\tif (s == NULL) {\n+OQS_STATUS OQS_SIG_sign(const OQS_SIG *sig, uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key) {\n+\tif (sig == NULL || sig->sign(signature, signature_len, message, message_len, secret_key) != 0) {","path":"src/sig/sig.c","position":146,"original_position":146,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Also created PR #393 on nist-branch to fix this","created_at":"2018-09-24T19:46:23Z","updated_at":"2018-09-24T19:46:23Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219965214","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219965214"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219965214"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219833977},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:46:23Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:44:08Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:44:53Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":31,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":31,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:46:23Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313483960","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219965272","pull_request_review_id":158265690,"id":219965272,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk2NTI3Mg==","diff_hunk":"@@ -1,79 +1,120 @@\n #include <assert.h>\n-\n-#include <oqs/common.h>\n-#include <oqs/sig.h>\n-#ifdef ENABLE_SIG_PICNIC\n-#include <oqs/sig_picnic.h>\n-#endif\n-#ifdef ENABLE_SIG_QTESLA\n-#include <oqs/sig_qtesla.h>\n+#include <stdlib.h>\n+#if defined(_WIN32)\n+#define strcasecmp _stricmp\n+#else\n+#include <strings.h>\n #endif\n \n-OQS_API OQS_SIG *OQS_SIG_new(enum OQS_SIG_algid algid) {\n-\tOQS_SIG *s = malloc(sizeof(OQS_SIG));\n-\tif (s == NULL) {\n+#include <oqs/oqs.h>\n+\n+OQS_API const char *OQS_SIG_alg_identifier(size_t i) {\n+\t// EDIT-WHEN-ADDING-SIG\n+\tconst char *a[OQS_SIG_algs_length] = {\n+\t    OQS_SIG_alg_default,\n+\t    OQS_SIG_alg_qTESLA_I,\n+\t    OQS_SIG_alg_qTESLA_III_size,\n+\t    OQS_SIG_alg_qTESLA_III_speed,\n+\t    OQS_SIG_alg_picnic_L1_FS,\n+\t    OQS_SIG_alg_picnic_L1_UR,\n+\t    OQS_SIG_alg_picnic_L3_FS,\n+\t    OQS_SIG_alg_picnic_L3_UR,\n+\t    OQS_SIG_alg_picnic_L5_FS,\n+\t    OQS_SIG_alg_picnic_L5_UR};\n+\tif (i >= OQS_SIG_algs_length) {\n \t\treturn NULL;\n+\t} else {\n+\t\treturn a[i];\n \t}\n+}\n \n-\tswitch (algid) {\n-#ifdef ENABLE_SIG_PICNIC\n-\tcase OQS_SIG_picnic_L1_FS:\n-\tcase OQS_SIG_picnic_L1_UR:\n-\tcase OQS_SIG_picnic_L3_FS:\n-\tcase OQS_SIG_picnic_L3_UR:\n-\tcase OQS_SIG_picnic_L5_FS:\n-\tcase OQS_SIG_picnic_L5_UR:\n-\tcase OQS_SIG_default:\n-\t\tif (OQS_SIG_picnic_get(s, algid) != OQS_SUCCESS) {\n-\t\t\tOQS_MEM_insecure_free(s);\n-\t\t\treturn NULL;\n-\t\t}\n-\t\tbreak;\n+OQS_SIG *OQS_SIG_new(const char *method_name) {\n+\tif (0 == strcasecmp(method_name, OQS_SIG_alg_default)) {\n+\t\treturn OQS_SIG_new(OQS_SIG_DEFAULT);\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_I)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_I\n+\t\treturn OQS_SIG_qTESLA_I_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_III_size)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_III_size\n+\t\treturn OQS_SIG_qTESLA_III_size_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_qTESLA_III_speed)) {\n+#ifdef OQS_ENABLE_SIG_qTESLA_III_speed\n+\t\treturn OQS_SIG_qTESLA_III_speed_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L1_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L1_FS\n+\t\treturn OQS_SIG_picnic_L1_FS_new();\n+#else\n+\t\treturn NULL;\n #endif\n-#ifdef ENABLE_SIG_QTESLA\n-\tcase OQS_SIG_qTESLA_I:\n-\tcase OQS_SIG_qTESLA_III_speed:\n-\tcase OQS_SIG_qTESLA_III_size:\n-\t\tif (OQS_SIG_qTESLA_get(s, algid) != OQS_SUCCESS) {\n-\t\t\tOQS_MEM_insecure_free(s);\n-\t\t\treturn NULL;\n-\t\t}\n-\t\tbreak;\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L1_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L1_UR\n+\t\treturn OQS_SIG_picnic_L1_UR_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L3_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L3_FS\n+\t\treturn OQS_SIG_picnic_L3_FS_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L3_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L3_UR\n+\t\treturn OQS_SIG_picnic_L3_UR_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L5_FS)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L5_FS\n+\t\treturn OQS_SIG_picnic_L5_FS_new();\n+#else\n+\t\treturn NULL;\n+#endif\n+\t} else if (0 == strcasecmp(method_name, OQS_SIG_alg_picnic_L5_UR)) {\n+#ifdef OQS_ENABLE_SIG_picnic_L5_UR\n+\t\treturn OQS_SIG_picnic_L5_UR_new();\n+#else\n+\t\treturn NULL;\n #endif\n-\tdefault:\n-\t\tOQS_MEM_insecure_free(s);\n+\t\t// EDIT-WHEN-ADDING-SIG\n+\t} else {\n \t\treturn NULL;\n \t}\n-\n-\treturn s;\n }\n \n-OQS_API OQS_STATUS OQS_SIG_keygen(const OQS_SIG *s, uint8_t *priv, uint8_t *pub) {\n-\tif (s == NULL) {\n+OQS_STATUS OQS_SIG_keypair(const OQS_SIG *sig, uint8_t *public_key, uint8_t *secret_key) {\n+\tif (sig == NULL || sig->keypair(public_key, secret_key) != 0) {\n \t\treturn OQS_ERROR;\n \t} else {\n-\t\treturn s->keygen(s, priv, pub);\n+\t\treturn OQS_SUCCESS;\n \t}\n }\n \n-OQS_API OQS_STATUS OQS_SIG_sign(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len) {\n-\tif (s == NULL) {\n+OQS_STATUS OQS_SIG_sign(const OQS_SIG *sig, uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key) {\n+\tif (sig == NULL || sig->sign(signature, signature_len, message, message_len, secret_key) != 0) {\n \t\treturn OQS_ERROR;\n \t} else {\n-\t\treturn s->sign(s, priv, msg, msg_len, sig, sig_len);\n+\t\treturn OQS_SUCCESS;\n \t}\n }\n \n-OQS_API OQS_STATUS OQS_SIG_verify(const OQS_SIG *s, const uint8_t *pub, const uint8_t *msg, const size_t msg_len, const uint8_t *sig, const size_t sig_len) {\n-\tif (s == NULL) {\n+OQS_STATUS OQS_SIG_verify(const OQS_SIG *sig, uint8_t *message, size_t message_len, const uint8_t *signature, size_t signature_len, const uint8_t *public_key) {\n+\tif (sig == NULL || sig->verify(message, message_len, signature, signature_len, public_key) != 0) {","path":"src/sig/sig.c","position":null,"original_position":157,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Also created PR #393 on nist-branch to fix this","created_at":"2018-09-24T19:46:32Z","updated_at":"2018-09-24T19:46:32Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219965272","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219965272"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219965272"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219834047},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:46:32Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:44:08Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:44:53Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":31,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":31,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:46:32Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313491635","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219965716","pull_request_review_id":158266233,"id":219965716,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk2NTcxNg==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */","path":"src/sig/sig.h","position":117,"original_position":117,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"I copied that from kem.h; we should keep or change both...","created_at":"2018-09-24T19:47:59Z","updated_at":"2018-09-24T19:47:59Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219965716","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219965716"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219965716"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219834384},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:47:59Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:44:08Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:44:53Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":31,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":31,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:47:59Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313495995","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219965950","pull_request_review_id":158266539,"id":219965950,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk2NTk1MA==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */\n+\tsize_t length_signature;","path":"src/sig/sig.h","position":118,"original_position":118,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"given that maximum was implied in the comment, and that applied to the keys as well, I didn't want to single the signature field with a special \"max\" marker in its name","created_at":"2018-09-24T19:48:52Z","updated_at":"2018-09-24T19:48:52Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219965950","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219965950"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219965950"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219834548},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:48:52Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:44:08Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:44:53Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":31,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":31,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:48:52Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313517275","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219967078","pull_request_review_id":158267983,"id":219967078,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk2NzA3OA==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */\n+\tsize_t length_signature;\n \n-\t/**\n-\t * Opaque pointer for passing around any computation context\n-\t */\n-\tvoid *ctx;\n-\n-\t// clang-format and doxygen don't work together nicely on these three functions\n \t// clang-format off\n+\n \t/**\n-\t * Pointer to a function for public and private signature key generation.\n+\t * Keypair generation algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `public_key` and\n+\t * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param pub              The signer's public key.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[out] public_key The public key represented as a byte string.\n+\t * @param[out] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*keygen)(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+\tOQS_STATUS (*keypair)(uint8_t *public_key, uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature generation.\n+\t * Signature generation algorithm.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param msg              The message to sign.\n-\t * @param msg_len          Length of the message to sign.\n-\t * @param sig              The generated signature. Must be allocated by the caller, or NULL to learn how much space is needed, as returned in sig_len.\n-\t * @param sig_len          In: length of sig, out: length of the generated signature.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * Caller is responsible for allocating sufficient memory for `signed_message`,","path":"src/sig/sig.h","position":158,"original_position":158,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Changed. We need to explain it somewhere, but I'm not sure where. For folks using the master branch for integration, it might not make sense to talk about a \"nist-branch\"; and the signature/verify paradigm used by the master branch is the classic API for signatures.","created_at":"2018-09-24T19:52:54Z","updated_at":"2018-09-24T19:52:55Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219967078","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219967078"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219967078"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219834936},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:52:55Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:44:08Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:44:53Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":31,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":31,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:52:54Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313536547","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219968121","pull_request_review_id":158269352,"id":219968121,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk2ODEyMQ==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */\n+\tsize_t length_signature;\n \n-\t/**\n-\t * Opaque pointer for passing around any computation context\n-\t */\n-\tvoid *ctx;\n-\n-\t// clang-format and doxygen don't work together nicely on these three functions\n \t// clang-format off\n+\n \t/**\n-\t * Pointer to a function for public and private signature key generation.\n+\t * Keypair generation algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `public_key` and\n+\t * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param pub              The signer's public key.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[out] public_key The public key represented as a byte string.\n+\t * @param[out] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*keygen)(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+\tOQS_STATUS (*keypair)(uint8_t *public_key, uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature generation.\n+\t * Signature generation algorithm.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param msg              The message to sign.\n-\t * @param msg_len          Length of the message to sign.\n-\t * @param sig              The generated signature. Must be allocated by the caller, or NULL to learn how much space is needed, as returned in sig_len.\n-\t * @param sig_len          In: length of sig, out: length of the generated signature.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * Caller is responsible for allocating sufficient memory for `signed_message`,\n+\t * based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n+\t *\n+\t * @param[out] signature The signature on the message represented as a byte string.\n+\t * @param[out] signature_len The length of the signature.\n+\t * @param[in] message The message to sign represented as a byte string.\n+\t * @param[in] message_len The length of the message to sign.\n+\t * @param[in] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*sign)(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len);\n+\tOQS_STATUS (*sign)(uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature verification.\n+\t * Signature verification algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `message`, based\n+\t * on the `length_*` members in this object or the per-scheme compile-time macros\n+\t * `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param pub              The signer's public key.\n-\t * @param msg              The signed message.\n-\t * @param msg_len          Length of the signed message.\n-\t * @param sig              The signature to verify.\n-\t * @param sig_len          Length of the signature to verify.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[in] message The message represented as a byte string.\n+\t * @param[in] message_len The length of the message.\n+\t * @param[in] signature The signature on the message represented as a byte string.\n+\t * @param[in] signature_len The length of the signature.\n+\t * @param[in] public_key The public key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*verify)(const OQS_SIG *s, const uint8_t *pub, const uint8_t *msg, const size_t msg_len, const uint8_t *sig, const size_t sig_len);\n+\tOQS_STATUS (*verify)(uint8_t *message, size_t message_len, const uint8_t *signature, size_t signature_len, const uint8_t *public_key);\n \t// clang-format on\n \n-\t/**\n-\t * Pointer to a function for freeing the allocated signature structure\n-\t *\n-\t * @param s                Signature structure\n-\t */\n-\tvoid (*free)(OQS_SIG *s);\n-};\n+} OQS_SIG;\n \n /**\n- * Instantiate a new signature object.\n+ * Consturcts an OQS_SIG object for a particular algorithm.","path":"src/sig/sig.h","position":209,"original_position":209,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Fixed; also fixed on nist-branch (PR #393)","created_at":"2018-09-24T19:56:30Z","updated_at":"2018-09-24T19:56:31Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219968121","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219968121"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219968121"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219835331},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:56:31Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:44:08Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:44:53Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":31,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":31,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:56:30Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313542594","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219968448","pull_request_review_id":158269778,"id":219968448,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk2ODQ0OA==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */\n+\tsize_t length_signature;\n \n-\t/**\n-\t * Opaque pointer for passing around any computation context\n-\t */\n-\tvoid *ctx;\n-\n-\t// clang-format and doxygen don't work together nicely on these three functions\n \t// clang-format off\n+\n \t/**\n-\t * Pointer to a function for public and private signature key generation.\n+\t * Keypair generation algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `public_key` and\n+\t * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param pub              The signer's public key.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[out] public_key The public key represented as a byte string.\n+\t * @param[out] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*keygen)(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+\tOQS_STATUS (*keypair)(uint8_t *public_key, uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature generation.\n+\t * Signature generation algorithm.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param msg              The message to sign.\n-\t * @param msg_len          Length of the message to sign.\n-\t * @param sig              The generated signature. Must be allocated by the caller, or NULL to learn how much space is needed, as returned in sig_len.\n-\t * @param sig_len          In: length of sig, out: length of the generated signature.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * Caller is responsible for allocating sufficient memory for `signed_message`,\n+\t * based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n+\t *\n+\t * @param[out] signature The signature on the message represented as a byte string.\n+\t * @param[out] signature_len The length of the signature.\n+\t * @param[in] message The message to sign represented as a byte string.\n+\t * @param[in] message_len The length of the message to sign.\n+\t * @param[in] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*sign)(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len);\n+\tOQS_STATUS (*sign)(uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature verification.\n+\t * Signature verification algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `message`, based","path":"src/sig/sig.h","position":176,"original_position":176,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Fixed.","created_at":"2018-09-24T19:57:39Z","updated_at":"2018-09-24T19:57:40Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219968448","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219968448"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219968448"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219835120},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:57:40Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:44:08Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:44:53Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":31,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":31,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:57:39Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8313550892","type":"PullRequestReviewCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219968885","pull_request_review_id":158270334,"id":219968885,"node_id":"MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDIxOTk2ODg4NQ==","diff_hunk":"@@ -63,108 +84,123 @@ struct OQS_SIG {\n \tsize_t length_public_key;\n \t/** The (maximum) length, in bytes, of secret keys for this signature scheme. */\n \tsize_t length_secret_key;\n-\t/** The (maximum) length, in bytes, of a signature for this signature scheme. */\n-\tsize_t max_length_signature;\n+\t/** The (maximum) length, in bytes, of signatures for this signature scheme. */\n+\tsize_t length_signature;\n \n-\t/**\n-\t * Opaque pointer for passing around any computation context\n-\t */\n-\tvoid *ctx;\n-\n-\t// clang-format and doxygen don't work together nicely on these three functions\n \t// clang-format off\n+\n \t/**\n-\t * Pointer to a function for public and private signature key generation.\n+\t * Keypair generation algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `public_key` and\n+\t * `secret_key`, based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param pub              The signer's public key.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[out] public_key The public key represented as a byte string.\n+\t * @param[out] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*keygen)(const OQS_SIG *s, uint8_t *priv, uint8_t *pub);\n+\tOQS_STATUS (*keypair)(uint8_t *public_key, uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature generation.\n+\t * Signature generation algorithm.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param priv             The signer's private key.\n-\t * @param msg              The message to sign.\n-\t * @param msg_len          Length of the message to sign.\n-\t * @param sig              The generated signature. Must be allocated by the caller, or NULL to learn how much space is needed, as returned in sig_len.\n-\t * @param sig_len          In: length of sig, out: length of the generated signature.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * Caller is responsible for allocating sufficient memory for `signed_message`,\n+\t * based on the `length_*` members in this object or the per-scheme\n+\t * compile-time macros `OQS_SIG_*_length_*`.\n+\t *\n+\t * @param[out] signature The signature on the message represented as a byte string.\n+\t * @param[out] signature_len The length of the signature.\n+\t * @param[in] message The message to sign represented as a byte string.\n+\t * @param[in] message_len The length of the message to sign.\n+\t * @param[in] secret_key The secret key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*sign)(const OQS_SIG *s, const uint8_t *priv, const uint8_t *msg, const size_t msg_len, uint8_t *sig, size_t *sig_len);\n+\tOQS_STATUS (*sign)(uint8_t *signature, size_t *signature_len, const uint8_t *message, size_t message_len, const uint8_t *secret_key);\n \n \t/**\n-\t * Pointer to a function for signature verification.\n+\t * Signature verification algorithm.\n+\t *\n+\t * Caller is responsible for allocating sufficient memory for `message`, based\n+\t * on the `length_*` members in this object or the per-scheme compile-time macros\n+\t * `OQS_SIG_*_length_*`.\n \t *\n-\t * @param s                The signature structure.\n-\t * @param pub              The signer's public key.\n-\t * @param msg              The signed message.\n-\t * @param msg_len          Length of the signed message.\n-\t * @param sig              The signature to verify.\n-\t * @param sig_len          Length of the signature to verify.\n-\t * @return                 OQS_SUCCESS on success, or OQS_ERROR on failure.\n+\t * @param[in] message The message represented as a byte string.\n+\t * @param[in] message_len The length of the message.\n+\t * @param[in] signature The signature on the message represented as a byte string.\n+\t * @param[in] signature_len The length of the signature.\n+\t * @param[in] public_key The public key represented as a byte string.\n+\t * @return OQS_SUCCESS or OQS_ERROR\n \t */\n-\tOQS_STATUS(*verify)(const OQS_SIG *s, const uint8_t *pub, const uint8_t *msg, const size_t msg_len, const uint8_t *sig, const size_t sig_len);\n+\tOQS_STATUS (*verify)(uint8_t *message, size_t message_len, const uint8_t *signature, size_t signature_len, const uint8_t *public_key);\n \t// clang-format on\n \n-\t/**\n-\t * Pointer to a function for freeing the allocated signature structure\n-\t *\n-\t * @param s                Signature structure\n-\t */\n-\tvoid (*free)(OQS_SIG *s);\n-};\n+} OQS_SIG;\n \n /**\n- * Instantiate a new signature object.\n+ * Consturcts an OQS_SIG object for a particular algorithm.\n+ *\n+ * Callers should always check whether the return value is `NULL`, which indicates either than an\n+ * invalid algorithm name was provided, or that the requested algorithm was disabled at compile-time.\n  *\n- * @param algid              The id of the signature algorithm to be instantiated.\n- * @return                   A new signature object on success, or NULL on failure.\n+ * @param[in] method_name Name of the desired algorithm; one of the names in `OQS_SIG_algs`.\n+ * @return An OQS_SIG for the particular algorithm, or `NULL` if the algorithm has been disabled at compile-time.","path":"src/sig/sig.h","position":217,"original_position":217,"commit_id":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","original_commit_id":"08366ee1b1e449f64dd1bb7354b7b835acfa1476","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"We should update kem.h as well...","created_at":"2018-09-24T19:59:11Z","updated_at":"2018-09-24T19:59:11Z","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219968885","pull_request_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","author_association":"COLLABORATOR","_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments/219968885"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391#discussion_r219968885"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"}},"in_reply_to_id":219835557},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391","id":217491452,"node_id":"MDExOlB1bGxSZXF1ZXN0MjE3NDkxNDUy","html_url":"https://github.com/open-quantum-safe/liboqs/pull/391","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/391.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/391.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391","number":391,"state":"open","locked":false,"title":"Refactored sig api following nist-branch (issue380)","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"body":"Refactored sig api following nist-branch, to harmonize with new KEM api; keeping however the sign/verify api since it's easier to use in applications (goal of the master branch). Fixes issue #380.\r\n","created_at":"2018-09-23T04:02:18Z","updated_at":"2018-09-24T19:59:11Z","closed_at":null,"merged_at":null,"merge_commit_sha":"172756f446317f1358db2478c336787e87e94f2c","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49","head":{"label":"christianpaquin:cp-issue380","ref":"cp-issue380","sha":"5aa5ca7919cdc53e404ac6c7d7be800c74165e49","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"repo":{"id":68381142,"node_id":"MDEwOlJlcG9zaXRvcnk2ODM4MTE0Mg==","name":"liboqs","full_name":"christianpaquin/liboqs","private":false,"owner":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"html_url":"https://github.com/christianpaquin/liboqs","description":"C library for quantum-safe cryptographic algorithms","fork":true,"url":"https://api.github.com/repos/christianpaquin/liboqs","forks_url":"https://api.github.com/repos/christianpaquin/liboqs/forks","keys_url":"https://api.github.com/repos/christianpaquin/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/christianpaquin/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/christianpaquin/liboqs/teams","hooks_url":"https://api.github.com/repos/christianpaquin/liboqs/hooks","issue_events_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/christianpaquin/liboqs/events","assignees_url":"https://api.github.com/repos/christianpaquin/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/christianpaquin/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/christianpaquin/liboqs/tags","blobs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/christianpaquin/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/christianpaquin/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/christianpaquin/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/christianpaquin/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/christianpaquin/liboqs/languages","stargazers_url":"https://api.github.com/repos/christianpaquin/liboqs/stargazers","contributors_url":"https://api.github.com/repos/christianpaquin/liboqs/contributors","subscribers_url":"https://api.github.com/repos/christianpaquin/liboqs/subscribers","subscription_url":"https://api.github.com/repos/christianpaquin/liboqs/subscription","commits_url":"https://api.github.com/repos/christianpaquin/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/christianpaquin/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/christianpaquin/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/christianpaquin/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/christianpaquin/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/christianpaquin/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/christianpaquin/liboqs/merges","archive_url":"https://api.github.com/repos/christianpaquin/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/christianpaquin/liboqs/downloads","issues_url":"https://api.github.com/repos/christianpaquin/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/christianpaquin/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/christianpaquin/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/christianpaquin/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/christianpaquin/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/christianpaquin/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/christianpaquin/liboqs/deployments","created_at":"2016-09-16T13:16:37Z","updated_at":"2017-09-12T05:53:11Z","pushed_at":"2018-09-24T19:44:08Z","git_url":"git://github.com/christianpaquin/liboqs.git","ssh_url":"git@github.com:christianpaquin/liboqs.git","clone_url":"https://github.com/christianpaquin/liboqs.git","svn_url":"https://github.com/christianpaquin/liboqs","homepage":"","size":37732,"stargazers_count":1,"watchers_count":1,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"open_issues_count":0,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}},"base":{"label":"open-quantum-safe:master","ref":"master","sha":"493e5ece376d7c70213271bbb54970aadd15b0e5","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":65514205,"node_id":"MDEwOlJlcG9zaXRvcnk2NTUxNDIwNQ==","name":"liboqs","full_name":"open-quantum-safe/liboqs","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars3.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/liboqs","description":"C library for quantum-resistant cryptographic algorithms.","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/liboqs","forks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/liboqs/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/liboqs/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/liboqs/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/liboqs/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/liboqs/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/liboqs/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/liboqs/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/liboqs/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/liboqs/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/liboqs/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/liboqs/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/liboqs/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/liboqs/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/liboqs/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/liboqs/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/deployments","created_at":"2016-08-12T01:46:12Z","updated_at":"2018-09-24T12:42:25Z","pushed_at":"2018-09-24T19:44:53Z","git_url":"git://github.com/open-quantum-safe/liboqs.git","ssh_url":"git@github.com:open-quantum-safe/liboqs.git","clone_url":"https://github.com/open-quantum-safe/liboqs.git","svn_url":"https://github.com/open-quantum-safe/liboqs","homepage":"https://openquantumsafe.org/","size":41727,"stargazers_count":308,"watchers_count":308,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":68,"mirror_url":null,"archived":false,"open_issues_count":31,"license":{"key":"other","name":"Other","spdx_id":null,"url":null,"node_id":"MDc6TGljZW5zZTA="},"forks":68,"open_issues":31,"watchers":308,"default_branch":"nist-branch"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391"},"html":{"href":"https://github.com/open-quantum-safe/liboqs/pull/391"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/391/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/391/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/liboqs/statuses/5aa5ca7919cdc53e404ac6c7d7be800c74165e49"}},"author_association":"COLLABORATOR"}},"public":true,"created_at":"2018-09-24T19:59:11Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
