{"id":"8563330783","type":"IssueCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/58","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/58/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/58/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/58/events","html_url":"https://github.com/open-quantum-safe/openssl/issues/58","id":378939905,"node_id":"MDU6SXNzdWUzNzg5Mzk5MDU=","number":58,"title":"Can't build Windows DLL target on 1.0.2","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"labels":[{"id":431027939,"node_id":"MDU6TGFiZWw0MzEwMjc5Mzk=","url":"https://api.github.com/repos/open-quantum-safe/openssl/labels/bug","name":"bug","color":"ee0701","default":true}],"state":"open","locked":false,"assignee":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"assignees":[{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2018-11-08T22:15:21Z","updated_at":"2018-11-09T13:43:42Z","closed_at":null,"author_association":"COLLABORATOR","body":"Running `nmake -f ms\\ntdll.mak` (instead of `nt.mak`, as described in the README.md) fails; many `unresolved external symbol OQS_KEM_*` errors. liboqs must be correctly linked in this makefile to fix this."},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/437363187","html_url":"https://github.com/open-quantum-safe/openssl/issues/58#issuecomment-437363187","issue_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/58","id":437363187,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzM2MzE4Nw==","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"created_at":"2018-11-09T13:43:42Z","updated_at":"2018-11-09T13:43:42Z","author_association":"COLLABORATOR","body":"It's highly desirable. The issue is that the Windows support code from the OpenSSL_1_0_2-stable branch has not been ported to the OQS-... branch. I should be able to address that today; if not, I'll update the README to say the DLL target isn't supported."}},"public":true,"created_at":"2018-11-09T13:43:42Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8563370459","type":"IssueCommentEvent","actor":{"id":974662,"login":"thomwiggers","display_login":"thomwiggers","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","avatar_url":"https://avatars.githubusercontent.com/u/974662?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/59","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/59/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/59/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/59/events","html_url":"https://github.com/open-quantum-safe/openssl/issues/59","id":379168343,"node_id":"MDU6SXNzdWUzNzkxNjgzNDM=","number":59,"title":"Figure out how to integrate KEMs into EVP layer","user":{"login":"thomwiggers","id":974662,"node_id":"MDQ6VXNlcjk3NDY2Mg==","avatar_url":"https://avatars1.githubusercontent.com/u/974662?v=4","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","html_url":"https://github.com/thomwiggers","followers_url":"https://api.github.com/users/thomwiggers/followers","following_url":"https://api.github.com/users/thomwiggers/following{/other_user}","gists_url":"https://api.github.com/users/thomwiggers/gists{/gist_id}","starred_url":"https://api.github.com/users/thomwiggers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomwiggers/subscriptions","organizations_url":"https://api.github.com/users/thomwiggers/orgs","repos_url":"https://api.github.com/users/thomwiggers/repos","events_url":"https://api.github.com/users/thomwiggers/events{/privacy}","received_events_url":"https://api.github.com/users/thomwiggers/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-11-09T13:47:32Z","updated_at":"2018-11-09T13:51:07Z","closed_at":null,"author_association":"NONE","body":"For much easier use, KEMs should probably be integrated in the EVP framework. I did some experiments, and I now do have a [certified Kyber 512 public key](https://gist.github.com/thomwiggers/403a42d32ca5f1d90e2a7c506f54ac09). \r\n\r\nThis should then be useful to consider OPTLS-like setups.\r\n\r\nThe challenge of course is `EVP_PKEY_derive` being almost but not quite suitable for this task. I have not tackled this problem yet, but it may be possible to slightly extend the API to obtain a ciphertext instead of the public key. That seems the main challenge, I think it should be possible to override the `derive` function such that it conditionally encapsulates or decapsulates:\r\n\r\n```\r\n\r\nstatic int pkey_oqs_derive(EVP_PKEY_CTX *ctx, unsigned char *key, size_t *keylen) {\r\n    OQS_KEY *oqs_key = (OQS_KEY*) ctx->pkey->pkey.ptr;\r\n    OQS_KEY *oqs_peer = (OQS_KEY*) ctx->peerkey->pkey.ptr;\r\n\r\n    *keylen = oqs_size(ctx->pkey);\r\n    if (key == NULL) {\r\n        return 1;\r\n    }\r\n    if (oqs_peer->ciphertext) {\r\n        if (OQS_KEM_decaps(oqs_key->k, key, oqs_peer->ciphertext, oqs_key->privkey) == OQS_SUCCESS) {\r\n            return 1;\r\n        }\r\n    } else {\r\n        oqs_peer->ciphertext = OPENSSL_malloc(*keylen);\r\n        if (OQS_KEM_encaps(oqs_key->k, key, oqs_peer->ciphertext, oqs_peer->pubkey) == OQS_SUCCESS) {\r\n            return 1;\r\n        }\r\n    }\r\n\r\n    return 0;\r\n}\r\n\r\n```\r\n\r\nObviously, that does mean that the users of the EVP API need to do some detection \"is this method a KEM\" and obtain and/or set the ciphertext if needed.\r\n\r\n"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/437365172","html_url":"https://github.com/open-quantum-safe/openssl/issues/59#issuecomment-437365172","issue_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/59","id":437365172,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzM2NTE3Mg==","user":{"login":"thomwiggers","id":974662,"node_id":"MDQ6VXNlcjk3NDY2Mg==","avatar_url":"https://avatars1.githubusercontent.com/u/974662?v=4","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","html_url":"https://github.com/thomwiggers","followers_url":"https://api.github.com/users/thomwiggers/followers","following_url":"https://api.github.com/users/thomwiggers/following{/other_user}","gists_url":"https://api.github.com/users/thomwiggers/gists{/gist_id}","starred_url":"https://api.github.com/users/thomwiggers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomwiggers/subscriptions","organizations_url":"https://api.github.com/users/thomwiggers/orgs","repos_url":"https://api.github.com/users/thomwiggers/repos","events_url":"https://api.github.com/users/thomwiggers/events{/privacy}","received_events_url":"https://api.github.com/users/thomwiggers/received_events","type":"User","site_admin":false},"created_at":"2018-11-09T13:51:07Z","updated_at":"2018-11-09T13:51:07Z","author_association":"NONE","body":"See https://github.com/thomwiggers/openssl/tree/KEM-cert by the way."}},"public":true,"created_at":"2018-11-09T13:51:07Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8563858970","type":"IssueCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/58","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/58/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/58/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/58/events","html_url":"https://github.com/open-quantum-safe/openssl/issues/58","id":378939905,"node_id":"MDU6SXNzdWUzNzg5Mzk5MDU=","number":58,"title":"Can't build Windows DLL target on 1.0.2","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"labels":[{"id":431027939,"node_id":"MDU6TGFiZWw0MzEwMjc5Mzk=","url":"https://api.github.com/repos/open-quantum-safe/openssl/labels/bug","name":"bug","color":"ee0701","default":true}],"state":"open","locked":false,"assignee":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"assignees":[{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2018-11-08T22:15:21Z","updated_at":"2018-11-09T15:13:37Z","closed_at":null,"author_association":"COLLABORATOR","body":"Running `nmake -f ms\\ntdll.mak` (instead of `nt.mak`, as described in the README.md) fails; many `unresolved external symbol OQS_KEM_*` errors. liboqs must be correctly linked in this makefile to fix this."},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/437389279","html_url":"https://github.com/open-quantum-safe/openssl/issues/58#issuecomment-437389279","issue_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/58","id":437389279,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzM4OTI3OQ==","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"created_at":"2018-11-09T15:13:37Z","updated_at":"2018-11-09T15:13:37Z","author_association":"COLLABORATOR","body":"PR #60 fixes this. 1.0.2 should be ready for RC3"}},"public":true,"created_at":"2018-11-09T15:13:37Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8564663318","type":"IssueCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/408","id":367599719,"node_id":"MDU6SXNzdWUzNjc1OTk3MTk=","number":408,"title":"Build issues on armv7l","user":{"login":"amced","id":43859672,"node_id":"MDQ6VXNlcjQzODU5Njcy","avatar_url":"https://avatars0.githubusercontent.com/u/43859672?v=4","gravatar_id":"","url":"https://api.github.com/users/amced","html_url":"https://github.com/amced","followers_url":"https://api.github.com/users/amced/followers","following_url":"https://api.github.com/users/amced/following{/other_user}","gists_url":"https://api.github.com/users/amced/gists{/gist_id}","starred_url":"https://api.github.com/users/amced/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amced/subscriptions","organizations_url":"https://api.github.com/users/amced/orgs","repos_url":"https://api.github.com/users/amced/repos","events_url":"https://api.github.com/users/amced/events{/privacy}","received_events_url":"https://api.github.com/users/amced/received_events","type":"User","site_admin":false},"labels":[{"id":935327280,"node_id":"MDU6TGFiZWw5MzUzMjcyODA=","url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels/master","name":"master","color":"c918c0","default":false}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-10-07T22:18:17Z","updated_at":"2018-11-09T17:22:45Z","closed_at":null,"author_association":"NONE","body":"### Environment\r\nPlatform: Raspberry Pi 3B\r\nOS: Raspbian Stretch 9.4 armv7l\r\nGCC 6.3.0 20170516 (Raspbian 6.3.0-18+rpi1+deb9u1)\r\nGNU Make 4.1\r\nautoconf/stable,now 2.69-10\r\nautomake/stable,now 1:1.15-6\r\ngit/stable,now 1:2.11.0-3+deb9u4\r\nlibssl-dev/stable,now 1.1.0f-3+deb9u2\r\nlibtool/stable,now 2.4.6-2\r\nopenssl/stable,now 1.1.0f-3+deb9u2\r\nzlib1g-dev/stable,now 1:1.2.8.dfsg-5\r\n\r\n### Steps to reproduce:\r\n`git clone -b master --single-branch https://github.com/open-quantum-safe/liboqs.git`\r\n`cd liboqs`\r\n`autoreconf -i`\r\n`./configure --prefix=<path-to-install-liboqs> --with-pic=yes`\r\n`make`\r\n\r\n### Issues\r\nUsing the instructions on the README, building on armv7l yields two main issues:\r\n\r\n1.  AES and SSE2 gcc flags are included\r\n`gcc: error: unrecognized command line option ‘-maes’; did you mean ‘-mapcs’?`\r\n`gcc: error: unrecognized command line option ‘-msse2’`\r\nAlmost all makefiles return this error when running make.\r\n\r\n\r\n2. The architecture is not recognized (I think), giving unsupported architecture warnings when building. (Possibly causing also 1?).\r\n`config.h:52:2: error: #error -- \"Unsupported ARCHITECTURE\"`\r\n` #error-- \"Unsupported ARCHITECTURE\"`\r\n\r\n\r\n\r\n### Quick fixes\r\n- For 1:\r\nRemoving all AES and SSE2 flags on all Makefiles:\r\n`for file in $(find . -name Makefile); do sed -i -e 's/-maes -msse2//g' $file; done`\r\n\r\n- For 2:\r\nRemoving the `#else` clause in the preprocessor, in `src/kem/frodokem/config.h`:\r\n`sed -i -z 's/#else\\n#error-- \"Unsupported ARCHITECTURE\"//g' src/kem/frodokem/config.h`\r\n\r\nApplying both quick fixes above results in a successful build. Have not tested further.\r\n\r\nAm I missing some steps or forgetting to set environment variables to properly configure the build?"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/437431728","html_url":"https://github.com/open-quantum-safe/liboqs/issues/408#issuecomment-437431728","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408","id":437431728,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzQzMTcyOA==","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"created_at":"2018-11-09T17:22:45Z","updated_at":"2018-11-09T17:22:45Z","author_association":"COLLABORATOR","body":"I got the master branch to build and tests passing using:\r\n`./configure --disable-aes-ni --disable-sig-qtesla --disable-kem-frodokem`\r\n\r\nShould we add a note about that in the README.md, perhaps in an \"Other Platforms\" section."}},"public":true,"created_at":"2018-11-09T17:22:45Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8566089069","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/58","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/58/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/58/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/58/events","html_url":"https://github.com/open-quantum-safe/openssl/issues/58","id":378939905,"node_id":"MDU6SXNzdWUzNzg5Mzk5MDU=","number":58,"title":"Can't build Windows DLL target on 1.0.2","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"labels":[{"id":431027939,"node_id":"MDU6TGFiZWw0MzEwMjc5Mzk=","url":"https://api.github.com/repos/open-quantum-safe/openssl/labels/bug","name":"bug","color":"ee0701","default":true}],"state":"closed","locked":false,"assignee":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"assignees":[{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2018-11-08T22:15:21Z","updated_at":"2018-11-09T22:17:12Z","closed_at":"2018-11-09T22:17:12Z","author_association":"COLLABORATOR","body":"Running `nmake -f ms\\ntdll.mak` (instead of `nt.mak`, as described in the README.md) fails; many `unresolved external symbol OQS_KEM_*` errors. liboqs must be correctly linked in this makefile to fix this."},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/437512210","html_url":"https://github.com/open-quantum-safe/openssl/issues/58#issuecomment-437512210","issue_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/58","id":437512210,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzUxMjIxMA==","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2018-11-09T22:17:12Z","updated_at":"2018-11-09T22:17:12Z","author_association":"MEMBER","body":"Resolved by #60 "}},"public":true,"created_at":"2018-11-09T22:17:13Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8566135572","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/408","id":367599719,"node_id":"MDU6SXNzdWUzNjc1OTk3MTk=","number":408,"title":"Build issues on armv7l","user":{"login":"amced","id":43859672,"node_id":"MDQ6VXNlcjQzODU5Njcy","avatar_url":"https://avatars0.githubusercontent.com/u/43859672?v=4","gravatar_id":"","url":"https://api.github.com/users/amced","html_url":"https://github.com/amced","followers_url":"https://api.github.com/users/amced/followers","following_url":"https://api.github.com/users/amced/following{/other_user}","gists_url":"https://api.github.com/users/amced/gists{/gist_id}","starred_url":"https://api.github.com/users/amced/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amced/subscriptions","organizations_url":"https://api.github.com/users/amced/orgs","repos_url":"https://api.github.com/users/amced/repos","events_url":"https://api.github.com/users/amced/events{/privacy}","received_events_url":"https://api.github.com/users/amced/received_events","type":"User","site_admin":false},"labels":[{"id":935327280,"node_id":"MDU6TGFiZWw5MzUzMjcyODA=","url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels/master","name":"master","color":"c918c0","default":false}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-10-07T22:18:17Z","updated_at":"2018-11-09T22:28:58Z","closed_at":null,"author_association":"NONE","body":"### Environment\r\nPlatform: Raspberry Pi 3B\r\nOS: Raspbian Stretch 9.4 armv7l\r\nGCC 6.3.0 20170516 (Raspbian 6.3.0-18+rpi1+deb9u1)\r\nGNU Make 4.1\r\nautoconf/stable,now 2.69-10\r\nautomake/stable,now 1:1.15-6\r\ngit/stable,now 1:2.11.0-3+deb9u4\r\nlibssl-dev/stable,now 1.1.0f-3+deb9u2\r\nlibtool/stable,now 2.4.6-2\r\nopenssl/stable,now 1.1.0f-3+deb9u2\r\nzlib1g-dev/stable,now 1:1.2.8.dfsg-5\r\n\r\n### Steps to reproduce:\r\n`git clone -b master --single-branch https://github.com/open-quantum-safe/liboqs.git`\r\n`cd liboqs`\r\n`autoreconf -i`\r\n`./configure --prefix=<path-to-install-liboqs> --with-pic=yes`\r\n`make`\r\n\r\n### Issues\r\nUsing the instructions on the README, building on armv7l yields two main issues:\r\n\r\n1.  AES and SSE2 gcc flags are included\r\n`gcc: error: unrecognized command line option ‘-maes’; did you mean ‘-mapcs’?`\r\n`gcc: error: unrecognized command line option ‘-msse2’`\r\nAlmost all makefiles return this error when running make.\r\n\r\n\r\n2. The architecture is not recognized (I think), giving unsupported architecture warnings when building. (Possibly causing also 1?).\r\n`config.h:52:2: error: #error -- \"Unsupported ARCHITECTURE\"`\r\n` #error-- \"Unsupported ARCHITECTURE\"`\r\n\r\n\r\n\r\n### Quick fixes\r\n- For 1:\r\nRemoving all AES and SSE2 flags on all Makefiles:\r\n`for file in $(find . -name Makefile); do sed -i -e 's/-maes -msse2//g' $file; done`\r\n\r\n- For 2:\r\nRemoving the `#else` clause in the preprocessor, in `src/kem/frodokem/config.h`:\r\n`sed -i -z 's/#else\\n#error-- \"Unsupported ARCHITECTURE\"//g' src/kem/frodokem/config.h`\r\n\r\nApplying both quick fixes above results in a successful build. Have not tested further.\r\n\r\nAm I missing some steps or forgetting to set environment variables to properly configure the build?"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/437515020","html_url":"https://github.com/open-quantum-safe/liboqs/issues/408#issuecomment-437515020","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408","id":437515020,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzUxNTAyMA==","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2018-11-09T22:28:58Z","updated_at":"2018-11-09T22:28:58Z","author_association":"MEMBER","body":"I've updated the README with your instructions, Christian.\r\n\r\nThinking about testing ARM support in Travis/continuous integration going forward, could we do it on a standard x86_64 Linux instance but with a cross-compiler toolchain?  "}},"public":true,"created_at":"2018-11-09T22:28:58Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8566247165","type":"IssueCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/408","id":367599719,"node_id":"MDU6SXNzdWUzNjc1OTk3MTk=","number":408,"title":"Build issues on armv7l","user":{"login":"amced","id":43859672,"node_id":"MDQ6VXNlcjQzODU5Njcy","avatar_url":"https://avatars0.githubusercontent.com/u/43859672?v=4","gravatar_id":"","url":"https://api.github.com/users/amced","html_url":"https://github.com/amced","followers_url":"https://api.github.com/users/amced/followers","following_url":"https://api.github.com/users/amced/following{/other_user}","gists_url":"https://api.github.com/users/amced/gists{/gist_id}","starred_url":"https://api.github.com/users/amced/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amced/subscriptions","organizations_url":"https://api.github.com/users/amced/orgs","repos_url":"https://api.github.com/users/amced/repos","events_url":"https://api.github.com/users/amced/events{/privacy}","received_events_url":"https://api.github.com/users/amced/received_events","type":"User","site_admin":false},"labels":[{"id":935327280,"node_id":"MDU6TGFiZWw5MzUzMjcyODA=","url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels/master","name":"master","color":"c918c0","default":false}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-10-07T22:18:17Z","updated_at":"2018-11-09T22:58:47Z","closed_at":null,"author_association":"NONE","body":"### Environment\r\nPlatform: Raspberry Pi 3B\r\nOS: Raspbian Stretch 9.4 armv7l\r\nGCC 6.3.0 20170516 (Raspbian 6.3.0-18+rpi1+deb9u1)\r\nGNU Make 4.1\r\nautoconf/stable,now 2.69-10\r\nautomake/stable,now 1:1.15-6\r\ngit/stable,now 1:2.11.0-3+deb9u4\r\nlibssl-dev/stable,now 1.1.0f-3+deb9u2\r\nlibtool/stable,now 2.4.6-2\r\nopenssl/stable,now 1.1.0f-3+deb9u2\r\nzlib1g-dev/stable,now 1:1.2.8.dfsg-5\r\n\r\n### Steps to reproduce:\r\n`git clone -b master --single-branch https://github.com/open-quantum-safe/liboqs.git`\r\n`cd liboqs`\r\n`autoreconf -i`\r\n`./configure --prefix=<path-to-install-liboqs> --with-pic=yes`\r\n`make`\r\n\r\n### Issues\r\nUsing the instructions on the README, building on armv7l yields two main issues:\r\n\r\n1.  AES and SSE2 gcc flags are included\r\n`gcc: error: unrecognized command line option ‘-maes’; did you mean ‘-mapcs’?`\r\n`gcc: error: unrecognized command line option ‘-msse2’`\r\nAlmost all makefiles return this error when running make.\r\n\r\n\r\n2. The architecture is not recognized (I think), giving unsupported architecture warnings when building. (Possibly causing also 1?).\r\n`config.h:52:2: error: #error -- \"Unsupported ARCHITECTURE\"`\r\n` #error-- \"Unsupported ARCHITECTURE\"`\r\n\r\n\r\n\r\n### Quick fixes\r\n- For 1:\r\nRemoving all AES and SSE2 flags on all Makefiles:\r\n`for file in $(find . -name Makefile); do sed -i -e 's/-maes -msse2//g' $file; done`\r\n\r\n- For 2:\r\nRemoving the `#else` clause in the preprocessor, in `src/kem/frodokem/config.h`:\r\n`sed -i -z 's/#else\\n#error-- \"Unsupported ARCHITECTURE\"//g' src/kem/frodokem/config.h`\r\n\r\nApplying both quick fixes above results in a successful build. Have not tested further.\r\n\r\nAm I missing some steps or forgetting to set environment variables to properly configure the build?"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/437521832","html_url":"https://github.com/open-quantum-safe/liboqs/issues/408#issuecomment-437521832","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408","id":437521832,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzUyMTgzMg==","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars0.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"created_at":"2018-11-09T22:58:47Z","updated_at":"2018-11-09T22:58:47Z","author_association":"COLLABORATOR","body":"Seems like people I've done this:\r\n* https://disconnected.systems/blog/custom-rpi-image-with-github-travis/#github-repo\r\n* https://www.tomaz.me/2013/12/02/running-travis-ci-tests-on-arm.html\r\nTo be investigated..."}},"public":true,"created_at":"2018-11-09T22:58:47Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
