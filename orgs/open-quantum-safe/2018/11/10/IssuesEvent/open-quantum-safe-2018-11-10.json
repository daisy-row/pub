{"id":"8567597243","type":"IssuesEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"opened","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/444","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/444/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/444/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/444/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/444","id":379421513,"node_id":"MDU6SXNzdWUzNzk0MjE1MTM=","number":444,"title":"Continuous integration for ARM","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"labels":[{"id":423520878,"node_id":"MDU6TGFiZWw0MjM1MjA4Nzg=","url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels/enhancement","name":"enhancement","color":"84b6eb","default":true},{"id":935327280,"node_id":"MDU6TGFiZWw5MzUzMjcyODA=","url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels/master","name":"master","color":"c918c0","default":false}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-11-10T13:16:12Z","updated_at":"2018-11-10T13:16:12Z","closed_at":null,"author_association":"MEMBER","body":"#443 added instructions for building liboqs on ARM.  But it would be good to have continuous integration tests that exercise building on ARM.  Christian wrote a few suggestions in #408."}},"public":true,"created_at":"2018-11-10T13:16:12Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"8567598722","type":"IssuesEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"closed","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/408/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/408","id":367599719,"node_id":"MDU6SXNzdWUzNjc1OTk3MTk=","number":408,"title":"Build issues on armv7l","user":{"login":"amced","id":43859672,"node_id":"MDQ6VXNlcjQzODU5Njcy","avatar_url":"https://avatars0.githubusercontent.com/u/43859672?v=4","gravatar_id":"","url":"https://api.github.com/users/amced","html_url":"https://github.com/amced","followers_url":"https://api.github.com/users/amced/followers","following_url":"https://api.github.com/users/amced/following{/other_user}","gists_url":"https://api.github.com/users/amced/gists{/gist_id}","starred_url":"https://api.github.com/users/amced/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amced/subscriptions","organizations_url":"https://api.github.com/users/amced/orgs","repos_url":"https://api.github.com/users/amced/repos","events_url":"https://api.github.com/users/amced/events{/privacy}","received_events_url":"https://api.github.com/users/amced/received_events","type":"User","site_admin":false},"labels":[{"id":935327280,"node_id":"MDU6TGFiZWw5MzUzMjcyODA=","url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels/master","name":"master","color":"c918c0","default":false}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2018-10-07T22:18:17Z","updated_at":"2018-11-10T13:17:10Z","closed_at":"2018-11-10T13:17:10Z","author_association":"NONE","body":"### Environment\r\nPlatform: Raspberry Pi 3B\r\nOS: Raspbian Stretch 9.4 armv7l\r\nGCC 6.3.0 20170516 (Raspbian 6.3.0-18+rpi1+deb9u1)\r\nGNU Make 4.1\r\nautoconf/stable,now 2.69-10\r\nautomake/stable,now 1:1.15-6\r\ngit/stable,now 1:2.11.0-3+deb9u4\r\nlibssl-dev/stable,now 1.1.0f-3+deb9u2\r\nlibtool/stable,now 2.4.6-2\r\nopenssl/stable,now 1.1.0f-3+deb9u2\r\nzlib1g-dev/stable,now 1:1.2.8.dfsg-5\r\n\r\n### Steps to reproduce:\r\n`git clone -b master --single-branch https://github.com/open-quantum-safe/liboqs.git`\r\n`cd liboqs`\r\n`autoreconf -i`\r\n`./configure --prefix=<path-to-install-liboqs> --with-pic=yes`\r\n`make`\r\n\r\n### Issues\r\nUsing the instructions on the README, building on armv7l yields two main issues:\r\n\r\n1.  AES and SSE2 gcc flags are included\r\n`gcc: error: unrecognized command line option ‘-maes’; did you mean ‘-mapcs’?`\r\n`gcc: error: unrecognized command line option ‘-msse2’`\r\nAlmost all makefiles return this error when running make.\r\n\r\n\r\n2. The architecture is not recognized (I think), giving unsupported architecture warnings when building. (Possibly causing also 1?).\r\n`config.h:52:2: error: #error -- \"Unsupported ARCHITECTURE\"`\r\n` #error-- \"Unsupported ARCHITECTURE\"`\r\n\r\n\r\n\r\n### Quick fixes\r\n- For 1:\r\nRemoving all AES and SSE2 flags on all Makefiles:\r\n`for file in $(find . -name Makefile); do sed -i -e 's/-maes -msse2//g' $file; done`\r\n\r\n- For 2:\r\nRemoving the `#else` clause in the preprocessor, in `src/kem/frodokem/config.h`:\r\n`sed -i -z 's/#else\\n#error-- \"Unsupported ARCHITECTURE\"//g' src/kem/frodokem/config.h`\r\n\r\nApplying both quick fixes above results in a successful build. Have not tested further.\r\n\r\nAm I missing some steps or forgetting to set environment variables to properly configure the build?"}},"public":true,"created_at":"2018-11-10T13:17:10Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
