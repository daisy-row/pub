{"id":"7987849577","type":"IssueCommentEvent","actor":{"id":1757585,"login":"manvari","display_login":"manvari","gravatar_id":"","url":"https://api.github.com/users/manvari","avatar_url":"https://avatars.githubusercontent.com/u/1757585?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/307","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/307/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/307/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/307/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/307","id":342061279,"node_id":"MDU6SXNzdWUzNDIwNjEyNzk=","number":307,"title":"Renaming C++ symbols appears to cause signing failure (nist-branch)","user":{"login":"manvari","id":1757585,"node_id":"MDQ6VXNlcjE3NTc1ODU=","avatar_url":"https://avatars2.githubusercontent.com/u/1757585?v=4","gravatar_id":"","url":"https://api.github.com/users/manvari","html_url":"https://github.com/manvari","followers_url":"https://api.github.com/users/manvari/followers","following_url":"https://api.github.com/users/manvari/following{/other_user}","gists_url":"https://api.github.com/users/manvari/gists{/gist_id}","starred_url":"https://api.github.com/users/manvari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manvari/subscriptions","organizations_url":"https://api.github.com/users/manvari/orgs","repos_url":"https://api.github.com/users/manvari/repos","events_url":"https://api.github.com/users/manvari/events{/privacy}","received_events_url":"https://api.github.com/users/manvari/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-07-17T19:54:07Z","updated_at":"2018-07-19T09:08:24Z","closed_at":"2018-07-19T09:08:24Z","author_association":"NONE","body":"I've been working on integrating [GeMSS](https://csrc.nist.gov/CSRC/media/Projects/Post-Quantum-Cryptography/documents/round-1/submissions/GeMSS.zip) to `nist-branch`. GeMSS' implementations contain a C++ source file `chooseRootHFE.cpp`, within which NTL is called; all other source files are written in C. The Makefile provided by the submission authors compiles all implementations with `g++`.\r\n\r\nThis requires globally renaming the following symbols:\r\n  - a C symbol to its C++ counterpart, `chooseRootHFE`, in `frobeniusMap.o`;\r\n  - a C++ symbol to its C counterpart, `frobeniusMap`, in `chooseRootHFE.o`;\r\n  - the C++ symbols for `crypto_sign(.*)` to `OQS_SIG_GeMSS_parametrization_\\1`, the latter being C symbols defined in `src/sig/gemss/sig_gemss.c`.\r\n\r\nAfter spending quite some time getting everything to compile, the KAT responses generated by `scripts/check_kats.sh` differ from those I generated with GeMSS' `PQCgenKAT_sign`. I suspect renaming symbols plays a role here. All libraries in use are being linked properly, so this is not the underlying issue.\r\n\r\nUnless #298 is merged quickly, I will submit a PR to @christianpaquin's `cp-nist-branch-add-sig` as soon as I finish writing a gf2x build script (which GeMSS uses). This will be more useful than the description above.\r\n\r\nAnyhow, submissions using C++ for NTL is something we need to deal with -- hence me opening this issue --. @dstebila @christianpaquin, I would like to have your input on this, please."},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/406209010","html_url":"https://github.com/open-quantum-safe/liboqs/issues/307#issuecomment-406209010","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/307","id":406209010,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjIwOTAxMA==","user":{"login":"manvari","id":1757585,"node_id":"MDQ6VXNlcjE3NTc1ODU=","avatar_url":"https://avatars2.githubusercontent.com/u/1757585?v=4","gravatar_id":"","url":"https://api.github.com/users/manvari","html_url":"https://github.com/manvari","followers_url":"https://api.github.com/users/manvari/followers","following_url":"https://api.github.com/users/manvari/following{/other_user}","gists_url":"https://api.github.com/users/manvari/gists{/gist_id}","starred_url":"https://api.github.com/users/manvari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manvari/subscriptions","organizations_url":"https://api.github.com/users/manvari/orgs","repos_url":"https://api.github.com/users/manvari/repos","events_url":"https://api.github.com/users/manvari/events{/privacy}","received_events_url":"https://api.github.com/users/manvari/received_events","type":"User","site_admin":false},"created_at":"2018-07-19T09:08:24Z","updated_at":"2018-07-19T09:08:24Z","author_association":"NONE","body":"Oops -- you are spot on, @dstebila.\r\n\r\nGeMSS indeed includes NIST's `rng.c` file which implements the deterministic RNG. After removing it from the compilation process and renaming the mangled C++ symbol for `randombytes` to the C symbol `randombytes`, KAT checks pass as expected."}},"public":true,"created_at":"2018-07-19T09:08:24Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"7989691329","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/307","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/307/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/307/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/307/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/307","id":342061279,"node_id":"MDU6SXNzdWUzNDIwNjEyNzk=","number":307,"title":"Renaming C++ symbols appears to cause signing failure (nist-branch)","user":{"login":"manvari","id":1757585,"node_id":"MDQ6VXNlcjE3NTc1ODU=","avatar_url":"https://avatars2.githubusercontent.com/u/1757585?v=4","gravatar_id":"","url":"https://api.github.com/users/manvari","html_url":"https://github.com/manvari","followers_url":"https://api.github.com/users/manvari/followers","following_url":"https://api.github.com/users/manvari/following{/other_user}","gists_url":"https://api.github.com/users/manvari/gists{/gist_id}","starred_url":"https://api.github.com/users/manvari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manvari/subscriptions","organizations_url":"https://api.github.com/users/manvari/orgs","repos_url":"https://api.github.com/users/manvari/repos","events_url":"https://api.github.com/users/manvari/events{/privacy}","received_events_url":"https://api.github.com/users/manvari/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-07-17T19:54:07Z","updated_at":"2018-07-19T14:51:20Z","closed_at":"2018-07-19T09:08:24Z","author_association":"NONE","body":"I've been working on integrating [GeMSS](https://csrc.nist.gov/CSRC/media/Projects/Post-Quantum-Cryptography/documents/round-1/submissions/GeMSS.zip) to `nist-branch`. GeMSS' implementations contain a C++ source file `chooseRootHFE.cpp`, within which NTL is called; all other source files are written in C. The Makefile provided by the submission authors compiles all implementations with `g++`.\r\n\r\nThis requires globally renaming the following symbols:\r\n  - a C symbol to its C++ counterpart, `chooseRootHFE`, in `frobeniusMap.o`;\r\n  - a C++ symbol to its C counterpart, `frobeniusMap`, in `chooseRootHFE.o`;\r\n  - the C++ symbols for `crypto_sign(.*)` to `OQS_SIG_GeMSS_parametrization_\\1`, the latter being C symbols defined in `src/sig/gemss/sig_gemss.c`.\r\n\r\nAfter spending quite some time getting everything to compile, the KAT responses generated by `scripts/check_kats.sh` differ from those I generated with GeMSS' `PQCgenKAT_sign`. I suspect renaming symbols plays a role here. All libraries in use are being linked properly, so this is not the underlying issue.\r\n\r\nUnless #298 is merged quickly, I will submit a PR to @christianpaquin's `cp-nist-branch-add-sig` as soon as I finish writing a gf2x build script (which GeMSS uses). This will be more useful than the description above.\r\n\r\nAnyhow, submissions using C++ for NTL is something we need to deal with -- hence me opening this issue --. @dstebila @christianpaquin, I would like to have your input on this, please."},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/406304088","html_url":"https://github.com/open-quantum-safe/liboqs/issues/307#issuecomment-406304088","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/307","id":406304088,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjMwNDA4OA==","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2018-07-19T14:51:20Z","updated_at":"2018-07-19T14:51:20Z","author_association":"MEMBER","body":"You're not the first person to have this problem.  I've added a \"Troubleshooting\" section at the end of `CONTRIBUTING.md` to highlight this information."}},"public":true,"created_at":"2018-07-19T14:51:20Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"7990054217","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":113904471,"name":"open-quantum-safe/openssh-portable","url":"https://api.github.com/repos/open-quantum-safe/openssh-portable"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssh-portable/issues/7","repository_url":"https://api.github.com/repos/open-quantum-safe/openssh-portable","labels_url":"https://api.github.com/repos/open-quantum-safe/openssh-portable/issues/7/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssh-portable/issues/7/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssh-portable/issues/7/events","html_url":"https://github.com/open-quantum-safe/openssh-portable/issues/7","id":342786958,"node_id":"MDU6SXNzdWUzNDI3ODY5NTg=","number":7,"title":"make tests fails","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2018-07-19T15:48:06Z","updated_at":"2018-07-19T15:48:18Z","closed_at":null,"author_association":"MEMBER","body":"When I run OQS-master on my Ubuntu VM, `make tests` fails.  The failure (see attached log) seems to not be connected with any of our changes.  Eric did some checking and also encountered failures during `make tests` when running various commits even before our changes.  So probably not our problem.  This issue is to record the issue, discuss, and decide if we want to do anything about it."},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssh-portable/issues/comments/406324312","html_url":"https://github.com/open-quantum-safe/openssh-portable/issues/7#issuecomment-406324312","issue_url":"https://api.github.com/repos/open-quantum-safe/openssh-portable/issues/7","id":406324312,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjMyNDMxMg==","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars0.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2018-07-19T15:48:18Z","updated_at":"2018-07-19T15:48:18Z","author_association":"MEMBER","body":"[make_tests.log](https://github.com/open-quantum-safe/openssh-portable/files/2210627/make_tests.log)\r\n"}},"public":true,"created_at":"2018-07-19T15:48:19Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
