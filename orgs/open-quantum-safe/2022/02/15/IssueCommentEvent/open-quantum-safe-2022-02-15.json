{"id":"20259468563","type":"IssueCommentEvent","actor":{"id":5675552,"login":"LeShadow","display_login":"LeShadow","gravatar_id":"","url":"https://api.github.com/users/LeShadow","avatar_url":"https://avatars.githubusercontent.com/u/5675552?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/351","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/351/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/351/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/351/events","html_url":"https://github.com/open-quantum-safe/openssl/issues/351","id":1124299120,"node_id":"I_kwDOA_fpb85DA3Fw","number":351,"title":"Integrating OpenSSL & Liboqs in Python - SSL Unexpected Message","user":{"login":"LeShadow","id":5675552,"node_id":"MDQ6VXNlcjU2NzU1NTI=","avatar_url":"https://avatars.githubusercontent.com/u/5675552?v=4","gravatar_id":"","url":"https://api.github.com/users/LeShadow","html_url":"https://github.com/LeShadow","followers_url":"https://api.github.com/users/LeShadow/followers","following_url":"https://api.github.com/users/LeShadow/following{/other_user}","gists_url":"https://api.github.com/users/LeShadow/gists{/gist_id}","starred_url":"https://api.github.com/users/LeShadow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LeShadow/subscriptions","organizations_url":"https://api.github.com/users/LeShadow/orgs","repos_url":"https://api.github.com/users/LeShadow/repos","events_url":"https://api.github.com/users/LeShadow/events{/privacy}","received_events_url":"https://api.github.com/users/LeShadow/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":25,"created_at":"2022-02-04T15:01:53Z","updated_at":"2022-02-15T05:09:44Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hey!\r\n\r\nSo for the last few days I have been trying to integrate liboqs and this version of OpenSSL in Python 3.8.11. \r\nThis is basically what I am doing:\r\n\r\n- Configure and compile liboqs with the following configure settings: `cmake -GNinja -DOQS_DIST_BUILD=ON -DBUILD_SHARED_LIBS=ON -DCMAKE_INSTALL_PREFIX=../../openssl/oqs ..`\r\n- Configure and compile openssl with the following configure settings: `./Configure shared linux-x86_64 -lm --prefix=/opt/openssl_installed --openssldir=/opt/openssl_installed`\r\n\r\nNow when I compile Python, it finds that custom openssl installation, I added the paths to my PATH as well.\r\n\r\nHowever, when I then use Python, every SSL connection (even the ones without PQC) are getting an error with SSL \"UNEXPECTED MESSAGE\".\r\n\r\nExample:\r\n ```\r\nStarting new HTTPS connection (1): pypi.org:443\r\nIncremented Retry for (url='/simple/requests/'): Retry(total=4, connect=None, read=None, redirect=None, status=None)\r\nWARNING: Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by 'SSLError(SSLError(1, '[SSL: UNEXPECTED_MESSAGE] unexpected message (_ssl.c:1131)'))': /simple/requests/\r\n```\r\n\r\nI was wondering if anyone could give me pointers, or get me on the right path, on how to fix this?\r\n\r\nThank you!","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/351/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/1039864775","html_url":"https://github.com/open-quantum-safe/openssl/issues/351#issuecomment-1039864775","issue_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/351","id":1039864775,"node_id":"IC_kwDOA_fpb849-xPH","user":{"login":"LeShadow","id":5675552,"node_id":"MDQ6VXNlcjU2NzU1NTI=","avatar_url":"https://avatars.githubusercontent.com/u/5675552?v=4","gravatar_id":"","url":"https://api.github.com/users/LeShadow","html_url":"https://github.com/LeShadow","followers_url":"https://api.github.com/users/LeShadow/followers","following_url":"https://api.github.com/users/LeShadow/following{/other_user}","gists_url":"https://api.github.com/users/LeShadow/gists{/gist_id}","starred_url":"https://api.github.com/users/LeShadow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LeShadow/subscriptions","organizations_url":"https://api.github.com/users/LeShadow/orgs","repos_url":"https://api.github.com/users/LeShadow/repos","events_url":"https://api.github.com/users/LeShadow/events{/privacy}","received_events_url":"https://api.github.com/users/LeShadow/received_events","type":"User","site_admin":false},"created_at":"2022-02-15T05:09:44Z","updated_at":"2022-02-15T05:09:44Z","author_association":"NONE","body":"@baentsch hey, my apologies, been offline for a little bit due to social obligations! \r\n\r\nThat sounds great, awesome job on #354 and #352! I am looking forward to build on your work to create the python upstream patch.\r\n\r\nWould you like me to open a new issue to track work on the patch for Python, or should I just open a PR/issue when the patch is ready? \r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/1039864775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-02-15T05:09:44Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"20260185059","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/351","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/351/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/351/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/351/events","html_url":"https://github.com/open-quantum-safe/openssl/issues/351","id":1124299120,"node_id":"I_kwDOA_fpb85DA3Fw","number":351,"title":"Integrating OpenSSL & Liboqs in Python - SSL Unexpected Message","user":{"login":"LeShadow","id":5675552,"node_id":"MDQ6VXNlcjU2NzU1NTI=","avatar_url":"https://avatars.githubusercontent.com/u/5675552?v=4","gravatar_id":"","url":"https://api.github.com/users/LeShadow","html_url":"https://github.com/LeShadow","followers_url":"https://api.github.com/users/LeShadow/followers","following_url":"https://api.github.com/users/LeShadow/following{/other_user}","gists_url":"https://api.github.com/users/LeShadow/gists{/gist_id}","starred_url":"https://api.github.com/users/LeShadow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LeShadow/subscriptions","organizations_url":"https://api.github.com/users/LeShadow/orgs","repos_url":"https://api.github.com/users/LeShadow/repos","events_url":"https://api.github.com/users/LeShadow/events{/privacy}","received_events_url":"https://api.github.com/users/LeShadow/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":26,"created_at":"2022-02-04T15:01:53Z","updated_at":"2022-02-15T06:18:05Z","closed_at":"2022-02-15T06:18:05Z","author_association":"NONE","active_lock_reason":null,"body":"Hey!\r\n\r\nSo for the last few days I have been trying to integrate liboqs and this version of OpenSSL in Python 3.8.11. \r\nThis is basically what I am doing:\r\n\r\n- Configure and compile liboqs with the following configure settings: `cmake -GNinja -DOQS_DIST_BUILD=ON -DBUILD_SHARED_LIBS=ON -DCMAKE_INSTALL_PREFIX=../../openssl/oqs ..`\r\n- Configure and compile openssl with the following configure settings: `./Configure shared linux-x86_64 -lm --prefix=/opt/openssl_installed --openssldir=/opt/openssl_installed`\r\n\r\nNow when I compile Python, it finds that custom openssl installation, I added the paths to my PATH as well.\r\n\r\nHowever, when I then use Python, every SSL connection (even the ones without PQC) are getting an error with SSL \"UNEXPECTED MESSAGE\".\r\n\r\nExample:\r\n ```\r\nStarting new HTTPS connection (1): pypi.org:443\r\nIncremented Retry for (url='/simple/requests/'): Retry(total=4, connect=None, read=None, redirect=None, status=None)\r\nWARNING: Retrying (Retry(total=4, connect=None, read=None, redirect=None, status=None)) after connection broken by 'SSLError(SSLError(1, '[SSL: UNEXPECTED_MESSAGE] unexpected message (_ssl.c:1131)'))': /simple/requests/\r\n```\r\n\r\nI was wondering if anyone could give me pointers, or get me on the right path, on how to fix this?\r\n\r\nThank you!","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/351/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/1039899132","html_url":"https://github.com/open-quantum-safe/openssl/issues/351#issuecomment-1039899132","issue_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/351","id":1039899132,"node_id":"IC_kwDOA_fpb849-5n8","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2022-02-15T06:18:05Z","updated_at":"2022-02-15T06:18:05Z","author_association":"MEMBER","body":"> I am looking forward to build on your work to create the python upstream patch.\r\n> Would you like me to open a new issue to track work on the patch for Python, or should I just open a PR/issue when the patch is ready?\r\n\r\n[It may be sensible to track this via an issue in `oqs-demos` pointing to this discussion thread so no context gets lost.](https://github.com/open-quantum-safe/oqs-demos/issues/126)","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/1039899132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-02-15T06:18:05Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"20266236461","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":218087071,"name":"open-quantum-safe/oqs-demos","url":"https://api.github.com/repos/open-quantum-safe/oqs-demos"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/127","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/127/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/127/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/127/events","html_url":"https://github.com/open-quantum-safe/oqs-demos/pull/127","id":1138390223,"node_id":"PR_kwDODP--n84y18N7","number":127,"title":"remove msquic platform patch","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-02-15T09:07:58Z","updated_at":"2022-02-15T12:20:58Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/pulls/127","html_url":"https://github.com/open-quantum-safe/oqs-demos/pull/127","diff_url":"https://github.com/open-quantum-safe/oqs-demos/pull/127.diff","patch_url":"https://github.com/open-quantum-safe/oqs-demos/pull/127.patch","merged_at":null},"body":"Update due to https://github.com/microsoft/msquic/pull/2393","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/127/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/comments/1040208020","html_url":"https://github.com/open-quantum-safe/oqs-demos/pull/127#issuecomment-1040208020","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/127","id":1040208020,"node_id":"IC_kwDODP--n84-AFCU","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2022-02-15T12:20:57Z","updated_at":"2022-02-15T12:20:57Z","author_association":"MEMBER","body":"@igorbarshteyn : Feel free to review/comment. msquic now no longer needs a real patch to work \"OQS out of the box\".","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/comments/1040208020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-02-15T12:20:58Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"20267290535","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":218087071,"name":"open-quantum-safe/oqs-demos","url":"https://api.github.com/repos/open-quantum-safe/oqs-demos"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/127","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/127/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/127/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/127/events","html_url":"https://github.com/open-quantum-safe/oqs-demos/pull/127","id":1138390223,"node_id":"PR_kwDODP--n84y18N7","number":127,"title":"remove msquic platform patch","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-02-15T09:07:58Z","updated_at":"2022-02-15T13:17:18Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/pulls/127","html_url":"https://github.com/open-quantum-safe/oqs-demos/pull/127","diff_url":"https://github.com/open-quantum-safe/oqs-demos/pull/127.diff","patch_url":"https://github.com/open-quantum-safe/oqs-demos/pull/127.patch","merged_at":null},"body":"Update due to https://github.com/microsoft/msquic/pull/2393","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/127/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/comments/1040261389","html_url":"https://github.com/open-quantum-safe/oqs-demos/pull/127#issuecomment-1040261389","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/127","id":1040261389,"node_id":"IC_kwDODP--n84-ASEN","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2022-02-15T13:17:18Z","updated_at":"2022-02-15T13:17:18Z","author_association":"MEMBER","body":"@xvzcf @dstebila This PR will resolve the [current CCI failure](https://app.circleci.com/pipelines/github/open-quantum-safe/oqs-demos/599/workflows/09f511ae-1fee-4ca6-a44d-94228b72e26f/jobs/1698) triggered by [the most recent OpenSSL merge](https://github.com/open-quantum-safe/openssl/pull/355)","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/comments/1040261389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-02-15T13:17:19Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"20274790924","type":"IssueCommentEvent","actor":{"id":5675552,"login":"LeShadow","display_login":"LeShadow","gravatar_id":"","url":"https://api.github.com/users/LeShadow","avatar_url":"https://avatars.githubusercontent.com/u/5675552?"},"repo":{"id":218087071,"name":"open-quantum-safe/oqs-demos","url":"https://api.github.com/repos/open-quantum-safe/oqs-demos"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/126","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/126/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/126/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/126/events","html_url":"https://github.com/open-quantum-safe/oqs-demos/issues/126","id":1138234141,"node_id":"I_kwDODP--n85D2BMd","number":126,"title":"Create a demo for python","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-02-15T06:17:01Z","updated_at":"2022-02-15T19:35:30Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"Completing [the discussion from here](https://github.com/open-quantum-safe/openssl/issues/351) this issue is to suggest creating\r\n- documentation how to integrate `liboqs` and `oqs-openssl` into and use this functionality easily from within python\r\n- a ready-to run docker image (with separate build and run instructions) already encoding this documentation\r\n- a patch for upstream python to enable setting TLS1.3 groups via API calls (into `SSL_CTX_set1_groups_list`)\r\n- working on bringing this patch into upstream python `ssl` module\r\n\r\n@LeShadow : As discussed, please feel free to amend and/or work on this.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/126/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/comments/1040706611","html_url":"https://github.com/open-quantum-safe/oqs-demos/issues/126#issuecomment-1040706611","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/126","id":1040706611,"node_id":"IC_kwDODP--n84-B-wz","user":{"login":"LeShadow","id":5675552,"node_id":"MDQ6VXNlcjU2NzU1NTI=","avatar_url":"https://avatars.githubusercontent.com/u/5675552?v=4","gravatar_id":"","url":"https://api.github.com/users/LeShadow","html_url":"https://github.com/LeShadow","followers_url":"https://api.github.com/users/LeShadow/followers","following_url":"https://api.github.com/users/LeShadow/following{/other_user}","gists_url":"https://api.github.com/users/LeShadow/gists{/gist_id}","starred_url":"https://api.github.com/users/LeShadow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LeShadow/subscriptions","organizations_url":"https://api.github.com/users/LeShadow/orgs","repos_url":"https://api.github.com/users/LeShadow/repos","events_url":"https://api.github.com/users/LeShadow/events{/privacy}","received_events_url":"https://api.github.com/users/LeShadow/received_events","type":"User","site_admin":false},"created_at":"2022-02-15T19:35:30Z","updated_at":"2022-02-15T19:35:30Z","author_association":"NONE","body":"@baentsch I can say I have a patch that works! I will upload the patch here later today and start amending the docker container file as well.\r\n\r\nThis is my current test code:\r\n\r\n```\r\nimport json\r\nimport sys\r\nimport urllib.request\r\nimport ssl\r\nimport os\r\n\r\n\r\nsslSettings= ssl.SSLContext(ssl.PROTOCOL_TLS_CLIENT)\r\nsslSettings.verify_mode = ssl.CERT_REQUIRED\r\n\r\n\r\n# Trust LetsEncrypt Root CA to get required files:\r\n#sslSettings.load_verify_locations(cafile=\"isrgrootx1.pem\")\r\n\r\n\r\nwith urllib.request.urlopen('https://test.openquantumsafe.org/assignments.json', context=sslSettings) as json_file:\r\n    algos = json.load(json_file)\r\n\r\n\r\nwith urllib.request.urlopen('https://test.openquantumsafe.org/CA.crt', context=sslSettings) as ca_file:\r\n    data = ca_file.read().decode()\r\n\r\n\r\nwith open(\"CA.crt\", \"w+\") as ca_file:\r\n    ca_file.write(data)\r\n\r\n\r\n# now switch root CA:\r\nsslSettings.load_verify_locations(cafile=\"CA.crt\")\r\n\r\n\r\nfor sig, kexalgos in algos.items():\r\n    print(\"Testing Signature Algorithm: \" + sig)\r\n    for kexalgo, port in kexalgos.items():\r\n        try:\r\n            if kexalgo == \"*\": continue\r\n            sslContext.set_tls13_groups_list(kexalgo)\r\n            with urllib.request.urlopen('https://test.openquantumsafe.org:' + str(port), context=sslSettings) as response:\r\n                if response.getcode() == 200:\r\n                    print(\"Test successful for: \" + kexalgo)\r\n                else:\r\n                    print(\"Test failed with code \" + str(response.getcode()) + \" for algo: \" + kexalgo)\r\n        except urllib.error.URLError as e:\r\n            print(\"Test failed with code \" + str(response.getcode()) + \" for algo: \" + kexalgo)\r\n            print(e)\r\n        except Exception as e:\r\n            print(\"Test failed with code \" + str(response.getcode()) + \" for algo: \" + kexalgo)\r\n            print(e)\r\n```\r\n\r\nIf you look at this line: `            sslContext.set_tls13_groups_list(kexalgo)`\r\nIs this the way you think is best for the function-naming? (As discussed [here](https://github.com/open-quantum-safe/openssl/issues/351))\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/comments/1040706611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-02-15T19:35:30Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
