{"id":"20019040449","type":"IssueCommentEvent","actor":{"id":6541356,"login":"Martyrshot","display_login":"Martyrshot","gravatar_id":"","url":"https://api.github.com/users/Martyrshot","avatar_url":"https://avatars.githubusercontent.com/u/6541356?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1164","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1164/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1164/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1164/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1164","id":1086142726,"node_id":"I_kwDOA-eq3c5AvTkG","number":1164,"title":"Build failures with gcc on Apple M1","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"labels":[{"id":423520874,"node_id":"MDU6TGFiZWw0MjM1MjA4NzQ=","url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels/bug","name":"bug","color":"ee0701","default":true,"description":"Something isn't working"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones/19","html_url":"https://github.com/open-quantum-safe/liboqs/milestone/19","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones/19/labels","id":7503904,"node_id":"MI_kwDOA-eq3c4AcoAg","number":19,"title":"0.7.2","description":"","creator":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"open_issues":1,"closed_issues":4,"state":"open","created_at":"2021-12-20T15:58:32Z","updated_at":"2022-01-25T14:48:06Z","due_on":null,"closed_at":null},"comments":12,"created_at":"2021-12-21T19:07:36Z","updated_at":"2022-02-01T14:49:58Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"Building liboqs with gcc-11 on an Apple M1 Mac yields build failures related to Kyber and Saber NTT code.\r\n\r\nReproduce by checking out 0.7.1, and then running `cmake -GNinja -DCMAKE_C_COMPILER=gcc-11 ..`.  (Note that there are other build failures on HEAD when building with gcc-11 on macOS which are independent of this which I'll create a separate issue for.)\r\n\r\n```\r\n[667/1230] Building ASM object src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_base_mul.S.o\r\nFAILED: src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_base_mul.S.o \r\n/opt/homebrew/bin/gcc-11  -I/Users/dstebila/Dev/OQS/liboqs/build/include -I/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64 -I/Users/dstebila/Dev/OQS/liboqs/src/common/pqclean_shims -arch arm64 -fPIC -mcpu=native -Werror -Wall -Wextra -Wpedantic -Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -O3 -fomit-frame-pointer -fdata-sections -ffunction-sections -Wl,-dead_strip -MD -MT src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_base_mul.S.o -MF src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_base_mul.S.o.d -o src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_base_mul.S.o -c /Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_base_mul.S\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_base_mul.S:10:3: error: unknown directive\r\n  .type PQCLEAN_KYBER1024_AARCH64_asm_point_mul_extended, %function\r\n  ^\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_base_mul.S:77:1: error: unknown directive\r\n.type PQCLEAN_KYBER1024_AARCH64_asm_asymmetric_mul, %function\r\n^\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_base_mul.S:232:1: error: unknown directive\r\n.type PQCLEAN_KYBER1024_AARCH64_asm_asymmetric_mul_montgomery, %function\r\n^\r\n[668/1230] Building ASM object src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_iNTT.S.o\r\nFAILED: src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_iNTT.S.o \r\n/opt/homebrew/bin/gcc-11  -I/Users/dstebila/Dev/OQS/liboqs/build/include -I/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64 -I/Users/dstebila/Dev/OQS/liboqs/src/common/pqclean_shims -arch arm64 -fPIC -mcpu=native -Werror -Wall -Wextra -Wpedantic -Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -O3 -fomit-frame-pointer -fdata-sections -ffunction-sections -Wl,-dead_strip -MD -MT src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_iNTT.S.o -MF src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_iNTT.S.o.d -o src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_iNTT.S.o -c /Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_iNTT.S\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_iNTT.S:8:1: error: unknown directive\r\n.type PQCLEAN_KYBER1024_AARCH64_asm_intt_SIMD_bot, %function\r\n^\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_iNTT.S:94:1: error: unknown directive\r\n.type PQCLEAN_KYBER1024_AARCH64_asm_intt_SIMD_top, %function\r\n^\r\n[669/1230] Building ASM object src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_NTT.S.o\r\nFAILED: src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_NTT.S.o \r\n/opt/homebrew/bin/gcc-11  -I/Users/dstebila/Dev/OQS/liboqs/build/include -I/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64 -I/Users/dstebila/Dev/OQS/liboqs/src/common/pqclean_shims -arch arm64 -fPIC -mcpu=native -Werror -Wall -Wextra -Wpedantic -Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -O3 -fomit-frame-pointer -fdata-sections -ffunction-sections -Wl,-dead_strip -MD -MT src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_NTT.S.o -MF src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_NTT.S.o.d -o src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_NTT.S.o -c /Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_NTT.S\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_NTT.S:8:1: error: unknown directive\r\n.type PQCLEAN_KYBER1024_AARCH64_asm_ntt_SIMD_top, %function\r\n^\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_NTT.S:177:1: error: unknown directive\r\n.type PQCLEAN_KYBER1024_AARCH64_asm_ntt_SIMD_bot, %function\r\n^\r\n[671/1230] Building ASM object src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_poly.S.o\r\nFAILED: src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_poly.S.o \r\n/opt/homebrew/bin/gcc-11  -I/Users/dstebila/Dev/OQS/liboqs/build/include -I/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64 -I/Users/dstebila/Dev/OQS/liboqs/src/common/pqclean_shims -arch arm64 -fPIC -mcpu=native -Werror -Wall -Wextra -Wpedantic -Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -O3 -fomit-frame-pointer -fdata-sections -ffunction-sections -Wl,-dead_strip -MD -MT src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_poly.S.o -MF src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_poly.S.o.d -o src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_poly.S.o -c /Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_poly.S\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_poly.S:8:1: error: unknown directive\r\n.type PQCLEAN_KYBER1024_AARCH64_asm_add_reduce, %function\r\n^\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_poly.S:72:1: error: unknown directive\r\n.type PQCLEAN_KYBER1024_AARCH64_asm_sub_reduce, %function\r\n^\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_poly.S:136:1: error: unknown directive\r\n.type PQCLEAN_KYBER1024_AARCH64_asm_add_add_reduce, %function\r\n^\r\n[676/1230] Building C object src/kem/classic_mceliece/CMakeFiles/classic_mceliece_6960119f_vec.dir/pqclean_mceliece6960119f_vec/controlbits.c.o\r\nninja: build stopped: subcommand failed.\r\n```","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1164/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1026924296","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1164#issuecomment-1026924296","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1164","id":1026924296,"node_id":"IC_kwDOA-eq3c49NZ8I","user":{"login":"Martyrshot","id":6541356,"node_id":"MDQ6VXNlcjY1NDEzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/6541356?v=4","gravatar_id":"","url":"https://api.github.com/users/Martyrshot","html_url":"https://github.com/Martyrshot","followers_url":"https://api.github.com/users/Martyrshot/followers","following_url":"https://api.github.com/users/Martyrshot/following{/other_user}","gists_url":"https://api.github.com/users/Martyrshot/gists{/gist_id}","starred_url":"https://api.github.com/users/Martyrshot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Martyrshot/subscriptions","organizations_url":"https://api.github.com/users/Martyrshot/orgs","repos_url":"https://api.github.com/users/Martyrshot/repos","events_url":"https://api.github.com/users/Martyrshot/events{/privacy}","received_events_url":"https://api.github.com/users/Martyrshot/received_events","type":"User","site_admin":false},"created_at":"2022-02-01T14:49:58Z","updated_at":"2022-02-01T14:49:58Z","author_association":"COLLABORATOR","body":"After running `speed_common` it looks like the results between armv8-a and armv8.5-a are basically the same. I am only specifying the architecture for the sha2 native instructions compile unit so as long as these are similar enough then we shouldn't see performance degradation elsewhere. \r\n\r\nHere is the output from `speed_common` for the two arm versions:\r\n\r\n`armv8-a` (Oldest armv8)\r\nSpeed test\r\n==========\r\nStarted at 2022-02-01 09:36:00\r\nOperation                      | Iterations | Total time (s) | Time (us): mean | pop. stdev | High-prec time (ns): mean | pop. stdev\r\n------------------------------ | ----------:| --------------:| ---------------:| ----------:| -------------------------:| ----------:\r\nOQS_AES128_ECB_load+free_sch   |    1861200 |          1.000 |           0.537 |      0.515 |                      2815 |    3147686\r\nOQS_AES128_ECB_enc_sch         |    3056813 |          1.000 |           0.327 |      0.475 |                       298 |        465\r\nOQS_AES128_ECB_enc             |    1203167 |          1.000 |           0.831 |      0.404 |                       802 |        429\r\nOQS_AES256_ECB_load+free_sch   |    1442334 |          1.000 |           0.693 |      0.484 |                       664 |        497\r\nOQS_AES256_ECB_enc_sch         |    2294261 |          1.000 |           0.436 |      0.512 |                       406 |        509\r\nOQS_AES256_ECB_enc             |     898795 |          1.000 |           1.113 |      0.356 |                      1083 |        328\r\nOQS_SHA2_sha256                |    7564246 |          1.000 |           0.132 |      0.346 |                      1806 |    2703650\r\nOQS_SHA2_sha384                |    2702287 |          1.000 |           0.370 |      0.690 |                       341 |        684\r\nOQS_SHA2_sha512                |    2733980 |          1.000 |           0.366 |      0.500 |                       336 |        492\r\nOQS_SHA3_sha3_256              |    2521594 |          1.000 | 7315509187327.638 | 11616680775110636.000 |                       367 |        506\r\nOQS_SHA3_sha3_384              |    2514829 |          1.000 |           0.398 |      0.508 |                       368 |        502\r\nOQS_SHA3_sha3_512              |    2589494 |          1.000 |           0.386 |      0.499 |                      3674 |    3774511\r\nOQS_SHA3_shake128              |    2590370 |          1.000 |           0.386 |      0.497 |                       357 |        491\r\nOQS_SHA3_shake256              |    2585989 |          1.000 |           0.387 |      0.494 |                       357 |        487\r\n\r\n\r\n`armv8.5-a` (Version apple m1 uses)\r\nSpeed test\r\n==========\r\nStarted at 2022-02-01 09:38:57\r\nOperation                      | Iterations | Total time (s) | Time (us): mean | pop. stdev | High-prec time (ns): mean | pop. stdev\r\n------------------------------ | ----------:| --------------:| ---------------:| ----------:| -------------------------:| ----------:\r\nOQS_AES128_ECB_load+free_sch   |    1908159 |          1.000 |           0.524 |      0.513 |                       495 |        516\r\nOQS_AES128_ECB_enc_sch         |    3165989 |          1.000 |           0.316 |      0.468 |                       288 |        458\r\nOQS_AES128_ECB_enc             |    1232912 |          1.000 |           0.811 |      0.421 |                       783 |        445\r\nOQS_AES256_ECB_load+free_sch   |    1497969 |          1.000 |           0.668 |      0.485 |                       639 |        497\r\nOQS_AES256_ECB_enc_sch         |    2383210 |          1.000 |           0.420 |      0.506 |                       391 |        501\r\nOQS_AES256_ECB_enc             |     935588 |          1.000 |           1.069 |      0.329 |                      1040 |        295\r\nOQS_SHA2_sha256                |    7804267 |          1.000 |           0.128 |      0.341 |                       100 |        307\r\nOQS_SHA2_sha384                |    2799614 |          1.000 |           0.357 |      0.496 |                       329 |        487\r\nOQS_SHA2_sha512                |    2821947 |          1.000 |           0.354 |      0.494 |                       326 |        485\r\nOQS_SHA3_sha3_256              |    2580407 |          1.000 |           0.388 |      0.525 |                      2023 |    2673031\r\nOQS_SHA3_sha3_384              |    2574009 |          1.000 |           0.388 |      0.524 |                       359 |        515\r\nOQS_SHA3_sha3_512              |    2518129 |          1.000 |           0.397 |      6.006 |                       365 |       5289\r\nOQS_SHA3_shake128              |    2584426 |          1.000 |           0.387 |      0.568 |                       357 |        556\r\nOQS_SHA3_shake256              |    2553368 |          1.000 |           0.392 |      0.629 |                       362 |        618\r\n\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1026924296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-02-01T14:49:58Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"20019487760","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1164","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1164/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1164/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1164/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1164","id":1086142726,"node_id":"I_kwDOA-eq3c5AvTkG","number":1164,"title":"Build failures with gcc on Apple M1","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"labels":[{"id":423520874,"node_id":"MDU6TGFiZWw0MjM1MjA4NzQ=","url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels/bug","name":"bug","color":"ee0701","default":true,"description":"Something isn't working"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones/19","html_url":"https://github.com/open-quantum-safe/liboqs/milestone/19","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones/19/labels","id":7503904,"node_id":"MI_kwDOA-eq3c4AcoAg","number":19,"title":"0.7.2","description":"","creator":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"open_issues":1,"closed_issues":4,"state":"open","created_at":"2021-12-20T15:58:32Z","updated_at":"2022-01-25T14:48:06Z","due_on":null,"closed_at":null},"comments":13,"created_at":"2021-12-21T19:07:36Z","updated_at":"2022-02-01T15:10:37Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"Building liboqs with gcc-11 on an Apple M1 Mac yields build failures related to Kyber and Saber NTT code.\r\n\r\nReproduce by checking out 0.7.1, and then running `cmake -GNinja -DCMAKE_C_COMPILER=gcc-11 ..`.  (Note that there are other build failures on HEAD when building with gcc-11 on macOS which are independent of this which I'll create a separate issue for.)\r\n\r\n```\r\n[667/1230] Building ASM object src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_base_mul.S.o\r\nFAILED: src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_base_mul.S.o \r\n/opt/homebrew/bin/gcc-11  -I/Users/dstebila/Dev/OQS/liboqs/build/include -I/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64 -I/Users/dstebila/Dev/OQS/liboqs/src/common/pqclean_shims -arch arm64 -fPIC -mcpu=native -Werror -Wall -Wextra -Wpedantic -Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -O3 -fomit-frame-pointer -fdata-sections -ffunction-sections -Wl,-dead_strip -MD -MT src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_base_mul.S.o -MF src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_base_mul.S.o.d -o src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_base_mul.S.o -c /Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_base_mul.S\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_base_mul.S:10:3: error: unknown directive\r\n  .type PQCLEAN_KYBER1024_AARCH64_asm_point_mul_extended, %function\r\n  ^\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_base_mul.S:77:1: error: unknown directive\r\n.type PQCLEAN_KYBER1024_AARCH64_asm_asymmetric_mul, %function\r\n^\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_base_mul.S:232:1: error: unknown directive\r\n.type PQCLEAN_KYBER1024_AARCH64_asm_asymmetric_mul_montgomery, %function\r\n^\r\n[668/1230] Building ASM object src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_iNTT.S.o\r\nFAILED: src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_iNTT.S.o \r\n/opt/homebrew/bin/gcc-11  -I/Users/dstebila/Dev/OQS/liboqs/build/include -I/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64 -I/Users/dstebila/Dev/OQS/liboqs/src/common/pqclean_shims -arch arm64 -fPIC -mcpu=native -Werror -Wall -Wextra -Wpedantic -Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -O3 -fomit-frame-pointer -fdata-sections -ffunction-sections -Wl,-dead_strip -MD -MT src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_iNTT.S.o -MF src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_iNTT.S.o.d -o src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_iNTT.S.o -c /Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_iNTT.S\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_iNTT.S:8:1: error: unknown directive\r\n.type PQCLEAN_KYBER1024_AARCH64_asm_intt_SIMD_bot, %function\r\n^\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_iNTT.S:94:1: error: unknown directive\r\n.type PQCLEAN_KYBER1024_AARCH64_asm_intt_SIMD_top, %function\r\n^\r\n[669/1230] Building ASM object src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_NTT.S.o\r\nFAILED: src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_NTT.S.o \r\n/opt/homebrew/bin/gcc-11  -I/Users/dstebila/Dev/OQS/liboqs/build/include -I/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64 -I/Users/dstebila/Dev/OQS/liboqs/src/common/pqclean_shims -arch arm64 -fPIC -mcpu=native -Werror -Wall -Wextra -Wpedantic -Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -O3 -fomit-frame-pointer -fdata-sections -ffunction-sections -Wl,-dead_strip -MD -MT src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_NTT.S.o -MF src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_NTT.S.o.d -o src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_NTT.S.o -c /Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_NTT.S\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_NTT.S:8:1: error: unknown directive\r\n.type PQCLEAN_KYBER1024_AARCH64_asm_ntt_SIMD_top, %function\r\n^\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_NTT.S:177:1: error: unknown directive\r\n.type PQCLEAN_KYBER1024_AARCH64_asm_ntt_SIMD_bot, %function\r\n^\r\n[671/1230] Building ASM object src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_poly.S.o\r\nFAILED: src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_poly.S.o \r\n/opt/homebrew/bin/gcc-11  -I/Users/dstebila/Dev/OQS/liboqs/build/include -I/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64 -I/Users/dstebila/Dev/OQS/liboqs/src/common/pqclean_shims -arch arm64 -fPIC -mcpu=native -Werror -Wall -Wextra -Wpedantic -Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -O3 -fomit-frame-pointer -fdata-sections -ffunction-sections -Wl,-dead_strip -MD -MT src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_poly.S.o -MF src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_poly.S.o.d -o src/kem/kyber/CMakeFiles/kyber_1024_aarch64.dir/pqclean_kyber1024_aarch64/__asm_poly.S.o -c /Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_poly.S\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_poly.S:8:1: error: unknown directive\r\n.type PQCLEAN_KYBER1024_AARCH64_asm_add_reduce, %function\r\n^\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_poly.S:72:1: error: unknown directive\r\n.type PQCLEAN_KYBER1024_AARCH64_asm_sub_reduce, %function\r\n^\r\n/Users/dstebila/Dev/OQS/liboqs/src/kem/kyber/pqclean_kyber1024_aarch64/__asm_poly.S:136:1: error: unknown directive\r\n.type PQCLEAN_KYBER1024_AARCH64_asm_add_add_reduce, %function\r\n^\r\n[676/1230] Building C object src/kem/classic_mceliece/CMakeFiles/classic_mceliece_6960119f_vec.dir/pqclean_mceliece6960119f_vec/controlbits.c.o\r\nninja: build stopped: subcommand failed.\r\n```","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1164/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1026947764","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1164#issuecomment-1026947764","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1164","id":1026947764,"node_id":"IC_kwDOA-eq3c49Nfq0","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2022-02-01T15:10:37Z","updated_at":"2022-02-01T15:10:37Z","author_association":"MEMBER","body":"Thanks for the test (and results), @Martyrshot. So code specifically built for M1 is 2.5-4% faster on all operations except SHA_shake. This indeed is not really a lot, but IMO a bit too consistent to not be mentioned somewhere; what about adding a notice (pointing to these results) for interested folks, e.g., in a (new) \"Performance optimization\" section in the [how-to-configure-liboqs Wiki](https://github.com/open-quantum-safe/liboqs/wiki/Customizing-liboqs), stating we opted for a more \"generic\" ARM level as default build option?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1026947764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-02-01T15:10:37Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"20019884463","type":"IssueCommentEvent","actor":{"id":6541356,"login":"Martyrshot","display_login":"Martyrshot","gravatar_id":"","url":"https://api.github.com/users/Martyrshot","avatar_url":"https://avatars.githubusercontent.com/u/6541356?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1184","id":1120790570,"node_id":"PR_kwDOA-eq3c4x6H_K","number":1184,"title":"Resolves an issue when building sha2 using arm crypto extensions with gcc11","user":{"login":"Martyrshot","id":6541356,"node_id":"MDQ6VXNlcjY1NDEzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/6541356?v=4","gravatar_id":"","url":"https://api.github.com/users/Martyrshot","html_url":"https://github.com/Martyrshot","followers_url":"https://api.github.com/users/Martyrshot/followers","following_url":"https://api.github.com/users/Martyrshot/following{/other_user}","gists_url":"https://api.github.com/users/Martyrshot/gists{/gist_id}","starred_url":"https://api.github.com/users/Martyrshot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Martyrshot/subscriptions","organizations_url":"https://api.github.com/users/Martyrshot/orgs","repos_url":"https://api.github.com/users/Martyrshot/repos","events_url":"https://api.github.com/users/Martyrshot/events{/privacy}","received_events_url":"https://api.github.com/users/Martyrshot/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-02-01T14:56:18Z","updated_at":"2022-02-01T15:29:21Z","closed_at":null,"author_association":"COLLABORATOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/1184","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1184","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/1184.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/1184.patch","merged_at":null},"body":"This PR resolves a build issue when using gcc11 on Darwin.\r\n\r\nThe issue is resolved by specifying the architecture version and explicitly enabling crypto extensions. After running `speed_common`, it appeared that there were no significant performance differences between armv8-a and armv8.5-a, so armv8-a was used to maximize compatibility.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1026970500","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1184#issuecomment-1026970500","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184","id":1026970500,"node_id":"IC_kwDOA-eq3c49NlOE","user":{"login":"Martyrshot","id":6541356,"node_id":"MDQ6VXNlcjY1NDEzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/6541356?v=4","gravatar_id":"","url":"https://api.github.com/users/Martyrshot","html_url":"https://github.com/Martyrshot","followers_url":"https://api.github.com/users/Martyrshot/followers","following_url":"https://api.github.com/users/Martyrshot/following{/other_user}","gists_url":"https://api.github.com/users/Martyrshot/gists{/gist_id}","starred_url":"https://api.github.com/users/Martyrshot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Martyrshot/subscriptions","organizations_url":"https://api.github.com/users/Martyrshot/orgs","repos_url":"https://api.github.com/users/Martyrshot/repos","events_url":"https://api.github.com/users/Martyrshot/events{/privacy}","received_events_url":"https://api.github.com/users/Martyrshot/received_events","type":"User","site_admin":false},"created_at":"2022-02-01T15:29:20Z","updated_at":"2022-02-01T15:29:20Z","author_association":"COLLABORATOR","body":"I guess my thought was that we would be able to support older A series (iphone ipad) chips, but as those are mobile processors and it's likely that there won't be people running Darwin on them it probably doesn't make sense to support anything older than what the M1 is built on?\r\n\r\niOS and iPadOS are both based on Darwin, but I'm not sure how practical it is for an individual to build a c library and ship it with their app.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1026970500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-02-01T15:29:21Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"20020140937","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1184","id":1120790570,"node_id":"PR_kwDOA-eq3c4x6H_K","number":1184,"title":"Resolves an issue when building sha2 using arm crypto extensions with gcc11","user":{"login":"Martyrshot","id":6541356,"node_id":"MDQ6VXNlcjY1NDEzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/6541356?v=4","gravatar_id":"","url":"https://api.github.com/users/Martyrshot","html_url":"https://github.com/Martyrshot","followers_url":"https://api.github.com/users/Martyrshot/followers","following_url":"https://api.github.com/users/Martyrshot/following{/other_user}","gists_url":"https://api.github.com/users/Martyrshot/gists{/gist_id}","starred_url":"https://api.github.com/users/Martyrshot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Martyrshot/subscriptions","organizations_url":"https://api.github.com/users/Martyrshot/orgs","repos_url":"https://api.github.com/users/Martyrshot/repos","events_url":"https://api.github.com/users/Martyrshot/events{/privacy}","received_events_url":"https://api.github.com/users/Martyrshot/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-02-01T14:56:18Z","updated_at":"2022-02-01T15:42:01Z","closed_at":null,"author_association":"COLLABORATOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/1184","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1184","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/1184.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/1184.patch","merged_at":null},"body":"This PR resolves a build issue when using gcc11 on Darwin.\r\n\r\nThe issue is resolved by specifying the architecture version and explicitly enabling crypto extensions. After running `speed_common`, it appeared that there were no significant performance differences between armv8-a and armv8.5-a, so armv8-a was used to maximize compatibility.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1026984458","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1184#issuecomment-1026984458","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184","id":1026984458,"node_id":"IC_kwDOA-eq3c49NooK","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2022-02-01T15:42:01Z","updated_at":"2022-02-01T15:42:01Z","author_association":"MEMBER","body":"> older A series (iphone ipad) chips,\r\n\r\nI stand corrected. I never thought about those platforms. Then I'm fine leaving this PR as-is -- just in case someone wants `liboqs` on such platform. The suggestion to point out how to (slightly) speed up things on M1 in the build-Wiki remains valid, though.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1026984458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-02-01T15:42:01Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"20020223854","type":"IssueCommentEvent","actor":{"id":6541356,"login":"Martyrshot","display_login":"Martyrshot","gravatar_id":"","url":"https://api.github.com/users/Martyrshot","avatar_url":"https://avatars.githubusercontent.com/u/6541356?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1184","id":1120790570,"node_id":"PR_kwDOA-eq3c4x6H_K","number":1184,"title":"Resolves an issue when building sha2 using arm crypto extensions with gcc11","user":{"login":"Martyrshot","id":6541356,"node_id":"MDQ6VXNlcjY1NDEzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/6541356?v=4","gravatar_id":"","url":"https://api.github.com/users/Martyrshot","html_url":"https://github.com/Martyrshot","followers_url":"https://api.github.com/users/Martyrshot/followers","following_url":"https://api.github.com/users/Martyrshot/following{/other_user}","gists_url":"https://api.github.com/users/Martyrshot/gists{/gist_id}","starred_url":"https://api.github.com/users/Martyrshot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Martyrshot/subscriptions","organizations_url":"https://api.github.com/users/Martyrshot/orgs","repos_url":"https://api.github.com/users/Martyrshot/repos","events_url":"https://api.github.com/users/Martyrshot/events{/privacy}","received_events_url":"https://api.github.com/users/Martyrshot/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-02-01T14:56:18Z","updated_at":"2022-02-01T15:46:08Z","closed_at":null,"author_association":"COLLABORATOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/1184","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1184","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/1184.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/1184.patch","merged_at":null},"body":"This PR resolves a build issue when using gcc11 on Darwin.\r\n\r\nThe issue is resolved by specifying the architecture version and explicitly enabling crypto extensions. After running `speed_common`, it appeared that there were no significant performance differences between armv8-a and armv8.5-a, so armv8-a was used to maximize compatibility.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1026988491","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1184#issuecomment-1026988491","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184","id":1026988491,"node_id":"IC_kwDOA-eq3c49NpnL","user":{"login":"Martyrshot","id":6541356,"node_id":"MDQ6VXNlcjY1NDEzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/6541356?v=4","gravatar_id":"","url":"https://api.github.com/users/Martyrshot","html_url":"https://github.com/Martyrshot","followers_url":"https://api.github.com/users/Martyrshot/followers","following_url":"https://api.github.com/users/Martyrshot/following{/other_user}","gists_url":"https://api.github.com/users/Martyrshot/gists{/gist_id}","starred_url":"https://api.github.com/users/Martyrshot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Martyrshot/subscriptions","organizations_url":"https://api.github.com/users/Martyrshot/orgs","repos_url":"https://api.github.com/users/Martyrshot/repos","events_url":"https://api.github.com/users/Martyrshot/events{/privacy}","received_events_url":"https://api.github.com/users/Martyrshot/received_events","type":"User","site_admin":false},"created_at":"2022-02-01T15:46:08Z","updated_at":"2022-02-01T15:46:08Z","author_association":"COLLABORATOR","body":"Since there are so many version of the arm instruction set, it might be worth building in the ability to specify which version to build for rather than the compiler picking by itself. It would kind of be a pseudo-cross-compilation I guess? Just instead of cross compiling for architecture, it would be instruction set versions. I'm not sure if it's worth it or not.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1026988491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-02-01T15:46:09Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"20020298200","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1184","id":1120790570,"node_id":"PR_kwDOA-eq3c4x6H_K","number":1184,"title":"Resolves an issue when building sha2 using arm crypto extensions with gcc11","user":{"login":"Martyrshot","id":6541356,"node_id":"MDQ6VXNlcjY1NDEzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/6541356?v=4","gravatar_id":"","url":"https://api.github.com/users/Martyrshot","html_url":"https://github.com/Martyrshot","followers_url":"https://api.github.com/users/Martyrshot/followers","following_url":"https://api.github.com/users/Martyrshot/following{/other_user}","gists_url":"https://api.github.com/users/Martyrshot/gists{/gist_id}","starred_url":"https://api.github.com/users/Martyrshot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Martyrshot/subscriptions","organizations_url":"https://api.github.com/users/Martyrshot/orgs","repos_url":"https://api.github.com/users/Martyrshot/repos","events_url":"https://api.github.com/users/Martyrshot/events{/privacy}","received_events_url":"https://api.github.com/users/Martyrshot/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-02-01T14:56:18Z","updated_at":"2022-02-01T15:49:50Z","closed_at":null,"author_association":"COLLABORATOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/1184","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1184","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/1184.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/1184.patch","merged_at":null},"body":"This PR resolves a build issue when using gcc11 on Darwin.\r\n\r\nThe issue is resolved by specifying the architecture version and explicitly enabling crypto extensions. After running `speed_common`, it appeared that there were no significant performance differences between armv8-a and armv8.5-a, so armv8-a was used to maximize compatibility.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1026992214","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1184#issuecomment-1026992214","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1184","id":1026992214,"node_id":"IC_kwDOA-eq3c49NqhW","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2022-02-01T15:49:49Z","updated_at":"2022-02-01T15:49:49Z","author_association":"MEMBER","body":"> I'm not sure if it's worth it or not.\r\n\r\nMe neither. Maybe do an issue for this and see whether someone takes it on?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1026992214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-02-01T15:49:50Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"20024176486","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":113904471,"name":"open-quantum-safe/openssh","url":"https://api.github.com/repos/open-quantum-safe/openssh"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/118","repository_url":"https://api.github.com/repos/open-quantum-safe/openssh","labels_url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/118/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/118/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/118/events","html_url":"https://github.com/open-quantum-safe/openssh/issues/118","id":1120998489,"node_id":"I_kwDOBsoLV85C0RRZ","number":118,"title":"Unable to compile under Debian 11","user":{"login":"z-ph0ria","id":56416896,"node_id":"MDQ6VXNlcjU2NDE2ODk2","avatar_url":"https://avatars.githubusercontent.com/u/56416896?v=4","gravatar_id":"","url":"https://api.github.com/users/z-ph0ria","html_url":"https://github.com/z-ph0ria","followers_url":"https://api.github.com/users/z-ph0ria/followers","following_url":"https://api.github.com/users/z-ph0ria/following{/other_user}","gists_url":"https://api.github.com/users/z-ph0ria/gists{/gist_id}","starred_url":"https://api.github.com/users/z-ph0ria/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/z-ph0ria/subscriptions","organizations_url":"https://api.github.com/users/z-ph0ria/orgs","repos_url":"https://api.github.com/users/z-ph0ria/repos","events_url":"https://api.github.com/users/z-ph0ria/events{/privacy}","received_events_url":"https://api.github.com/users/z-ph0ria/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-02-01T17:27:45Z","updated_at":"2022-02-01T19:23:00Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I get errors such as these, thou i've got OpenSSL 1.1.1m (your fork) and libqos installed.\r\nSee attached screenshot;\r\n[Screenshot of error while compiling](https://delafil.se/858f978605ea4ec8/Screenshot_20220201-182113704.jpg) \r\n\r\nThx f any help!\r\n/z","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/118/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/comments/1027203178","html_url":"https://github.com/open-quantum-safe/openssh/issues/118#issuecomment-1027203178","issue_url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/118","id":1027203178,"node_id":"IC_kwDOBsoLV849OeBq","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2022-02-01T19:22:59Z","updated_at":"2022-02-01T19:22:59Z","author_association":"MEMBER","body":"I fail to see in this screenshot what _caused_ the compiler terminations shown: There must have been an initial error leading to the termination of the compiler runs as shown in the screenshot. Please paste the logfile: Much better to review than a screenshot...","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/comments/1027203178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-02-01T19:23:00Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
