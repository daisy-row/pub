{"id":"21569259717","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1199","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1199/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1199/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1199/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1199","id":1194869331,"node_id":"I_kwDOA-eq3c5HOEJT","number":1199,"title":"WASM compatibillity","user":{"login":"tpbraun96","id":93542359,"node_id":"U_kgDOBZNX1w","avatar_url":"https://avatars.githubusercontent.com/u/93542359?v=4","gravatar_id":"","url":"https://api.github.com/users/tpbraun96","html_url":"https://github.com/tpbraun96","followers_url":"https://api.github.com/users/tpbraun96/followers","following_url":"https://api.github.com/users/tpbraun96/following{/other_user}","gists_url":"https://api.github.com/users/tpbraun96/gists{/gist_id}","starred_url":"https://api.github.com/users/tpbraun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tpbraun96/subscriptions","organizations_url":"https://api.github.com/users/tpbraun96/orgs","repos_url":"https://api.github.com/users/tpbraun96/repos","events_url":"https://api.github.com/users/tpbraun96/events{/privacy}","received_events_url":"https://api.github.com/users/tpbraun96/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":23,"created_at":"2022-04-06T16:51:35Z","updated_at":"2022-05-02T05:39:34Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Ideally, this project should be compilable via emscripten to WASM. Adding compatibility and documentation to make this possible should exist.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1199/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1114514836","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1199#issuecomment-1114514836","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1199","id":1114514836,"node_id":"IC_kwDOA-eq3c5CbiWU","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2022-05-02T05:39:34Z","updated_at":"2022-05-02T05:39:34Z","author_association":"MEMBER","body":"> openssl speed is excruciatingly slow\r\n\r\nNo question, if it runs through all algorithms. What I meant to ask is: What is the relative WASM performance of functionally comparable algorithms, say for signatures, i.e., `openssl speed -seconds 5 rsa` compared to `openssl speed -seconds 5 dilithium3`?\r\n\r\n> openssl uses assembly language too. After it is disabled, that presumably makes the system very slow\r\n\r\nIf you use the commands above, it should allow you to compare non-assembly crypto implementations (classic vs. QS) with the same testing overhead in both cases.\r\n\r\n> The openssl benchmark program speed itself may contain bugs.\r\n\r\nIt might -- but this is highly improbable as this is pretty \"seasoned\" code as you also point out. It surely has not been written with WASM in mind -- but so did none of the QS algorithms.\r\n\r\n> As you can see, the WASM run is actually much faster.\r\n\r\nAgreed -- but then again this sample basically runs two, probably differently optimized library functions against each other, not real, external code as the two commands suggested above would do.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1114514836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-05-02T05:39:34Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"21570844710","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":288761656,"name":"open-quantum-safe/profiling","url":"https://api.github.com/repos/open-quantum-safe/profiling"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/72","repository_url":"https://api.github.com/repos/open-quantum-safe/profiling","labels_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/72/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/72/comments","events_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/72/events","html_url":"https://github.com/open-quantum-safe/profiling/issues/72","id":1117469933,"node_id":"I_kwDOETYnOM5Cmzzt","number":72,"title":"Add M1","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-01-28T14:29:09Z","updated_at":"2022-05-02T08:01:04Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"Run profiling on Apple M1 machine.\r\n\r\nIssues known: \r\n- Valgrind not supported on recent (M1) OSX:\r\n\r\n```\r\nchecking for the kernel version... unsupported (21.3.0)\r\nconfigure: error: Valgrind works on Darwin 10.x-20.x (Mac OS X 10.6-10.11 and macOS 10.12-11.0)\r\n```\r\n\r\n--> Memory tests cannot be run\r\n\r\n- [Reference code cannot be triggered](https://github.com/open-quantum-safe/liboqs/issues/1201) \r\n\r\n--> Arguably pointless to run more than baseline (OQS_DIST_BUILD=OFF) tests\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/72/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/72/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/comments/1114594284","html_url":"https://github.com/open-quantum-safe/profiling/issues/72#issuecomment-1114594284","issue_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/72","id":1114594284,"node_id":"IC_kwDOETYnOM5Cb1vs","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2022-05-02T08:01:04Z","updated_at":"2022-05-02T08:01:04Z","author_association":"MEMBER","body":"Valgrind working OK in Docker image. Suggest to close via #73 ","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/comments/1114594284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-05-02T08:01:05Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"21577072428","type":"IssueCommentEvent","actor":{"id":7863838,"login":"tedeaton","display_login":"tedeaton","gravatar_id":"","url":"https://api.github.com/users/tedeaton","avatar_url":"https://avatars.githubusercontent.com/u/7863838?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1206","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1206/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1206/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1206/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1206","id":1217903263,"node_id":"I_kwDOA-eq3c5Il7qf","number":1206,"title":"Adding a DeriveKeyPair functionality","user":{"login":"tedeaton","id":7863838,"node_id":"MDQ6VXNlcjc4NjM4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/7863838?v=4","gravatar_id":"","url":"https://api.github.com/users/tedeaton","html_url":"https://github.com/tedeaton","followers_url":"https://api.github.com/users/tedeaton/followers","following_url":"https://api.github.com/users/tedeaton/following{/other_user}","gists_url":"https://api.github.com/users/tedeaton/gists{/gist_id}","starred_url":"https://api.github.com/users/tedeaton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tedeaton/subscriptions","organizations_url":"https://api.github.com/users/tedeaton/orgs","repos_url":"https://api.github.com/users/tedeaton/repos","events_url":"https://api.github.com/users/tedeaton/events{/privacy}","received_events_url":"https://api.github.com/users/tedeaton/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-04-27T21:30:19Z","updated_at":"2022-05-02T14:45:26Z","closed_at":null,"author_association":"COLLABORATOR","active_lock_reason":null,"body":"When a KEM keypair is derived in liboqs, it relies on randomness using [rand.h](https://github.com/open-quantum-safe/liboqs/blob/main/src/common/rand/rand.h). In some situations, it's useful to generate keypairs deterministically from a seed. When [RFC9180](https://www.rfc-editor.org/rfc/rfc9180#name-cryptographic-dependencies) defines a KEM, they include a `DeriveKeyPair` option to generate keypairs deterministically from a seed. As an example use case, [Messaging Layer Security](https://messaginglayersecurity.rocks/mls-protocol/draft-ietf-mls-protocol.html) makes extensive use of functionality to share multiple keypairs by communicating seeds. I think it would be nice to match RFC9180 and add a functionality to deterministically derive a keypair from a seed.\r\n\r\nThis is kind of possible in liboqs currently. You can set the randomness to use `OQS_RAND_alg_nist_kat`, and derive all the randomness used from a seed, but this is a somewhat imperfect solution for a few reasons:\r\n\r\n- The seed must be exactly 48 bytes\r\n- It references a global variable, resulting in concurrency issues\r\n- Modifying the randomness used is (to my knowledge) not available with any of the liboqs language wrappers\r\n\r\nI'm curious if others think this is a functionality worth adding and if so, what the proper way to tackle it might be. Some schemes, like Kyber, are already constructed in such a way that everything is derived from a seed, but liboqs provides limited ability to set that seed. I suspect the situation for other schemes is much more complex.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1206/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1114984016","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1206#issuecomment-1114984016","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1206","id":1114984016,"node_id":"IC_kwDOA-eq3c5CdU5Q","user":{"login":"tedeaton","id":7863838,"node_id":"MDQ6VXNlcjc4NjM4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/7863838?v=4","gravatar_id":"","url":"https://api.github.com/users/tedeaton","html_url":"https://github.com/tedeaton","followers_url":"https://api.github.com/users/tedeaton/followers","following_url":"https://api.github.com/users/tedeaton/following{/other_user}","gists_url":"https://api.github.com/users/tedeaton/gists{/gist_id}","starred_url":"https://api.github.com/users/tedeaton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tedeaton/subscriptions","organizations_url":"https://api.github.com/users/tedeaton/orgs","repos_url":"https://api.github.com/users/tedeaton/repos","events_url":"https://api.github.com/users/tedeaton/events{/privacy}","received_events_url":"https://api.github.com/users/tedeaton/received_events","type":"User","site_admin":false},"created_at":"2022-05-02T14:45:26Z","updated_at":"2022-05-02T14:45:26Z","author_association":"COLLABORATOR","body":"I guess the question is to what extent new / custom randombytes algorithms can fix concurrency issues. The current algorithm (and its state) is globally defined. Not having a lot of concurrency experience, would we need something complex, like a randomness algorithm that keeps track of the current 'state' of the randomness for each thread?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1114984016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-05-02T14:45:26Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"21577580850","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1206","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1206/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1206/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1206/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1206","id":1217903263,"node_id":"I_kwDOA-eq3c5Il7qf","number":1206,"title":"Adding a DeriveKeyPair functionality","user":{"login":"tedeaton","id":7863838,"node_id":"MDQ6VXNlcjc4NjM4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/7863838?v=4","gravatar_id":"","url":"https://api.github.com/users/tedeaton","html_url":"https://github.com/tedeaton","followers_url":"https://api.github.com/users/tedeaton/followers","following_url":"https://api.github.com/users/tedeaton/following{/other_user}","gists_url":"https://api.github.com/users/tedeaton/gists{/gist_id}","starred_url":"https://api.github.com/users/tedeaton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tedeaton/subscriptions","organizations_url":"https://api.github.com/users/tedeaton/orgs","repos_url":"https://api.github.com/users/tedeaton/repos","events_url":"https://api.github.com/users/tedeaton/events{/privacy}","received_events_url":"https://api.github.com/users/tedeaton/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-04-27T21:30:19Z","updated_at":"2022-05-02T15:13:01Z","closed_at":null,"author_association":"COLLABORATOR","active_lock_reason":null,"body":"When a KEM keypair is derived in liboqs, it relies on randomness using [rand.h](https://github.com/open-quantum-safe/liboqs/blob/main/src/common/rand/rand.h). In some situations, it's useful to generate keypairs deterministically from a seed. When [RFC9180](https://www.rfc-editor.org/rfc/rfc9180#name-cryptographic-dependencies) defines a KEM, they include a `DeriveKeyPair` option to generate keypairs deterministically from a seed. As an example use case, [Messaging Layer Security](https://messaginglayersecurity.rocks/mls-protocol/draft-ietf-mls-protocol.html) makes extensive use of functionality to share multiple keypairs by communicating seeds. I think it would be nice to match RFC9180 and add a functionality to deterministically derive a keypair from a seed.\r\n\r\nThis is kind of possible in liboqs currently. You can set the randomness to use `OQS_RAND_alg_nist_kat`, and derive all the randomness used from a seed, but this is a somewhat imperfect solution for a few reasons:\r\n\r\n- The seed must be exactly 48 bytes\r\n- It references a global variable, resulting in concurrency issues\r\n- Modifying the randomness used is (to my knowledge) not available with any of the liboqs language wrappers\r\n\r\nI'm curious if others think this is a functionality worth adding and if so, what the proper way to tackle it might be. Some schemes, like Kyber, are already constructed in such a way that everything is derived from a seed, but liboqs provides limited ability to set that seed. I suspect the situation for other schemes is much more complex.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1206/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1115019625","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1206#issuecomment-1115019625","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1206","id":1115019625,"node_id":"IC_kwDOA-eq3c5Cddlp","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2022-05-02T15:13:01Z","updated_at":"2022-05-02T15:13:01Z","author_association":"MEMBER","body":"> would we need something complex, like a randomness algorithm that keeps track of the current 'state' of the randomness for each thread?\r\n\r\nWell, the question is what degree of reproducibility is desired. But even if something simple (e.g., using thread-ID as seed) were not sufficient, ensuring proper synchronization of different threads on a global mutex shouldn't be overly complex. See e.g. [different platform synchronization primitives implemented in openssl](https://github.com/openssl/openssl/blob/master/crypto/threads_pthread.c).","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1115019625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-05-02T15:13:01Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
