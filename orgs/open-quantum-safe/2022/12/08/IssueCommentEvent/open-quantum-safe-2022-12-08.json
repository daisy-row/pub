{"id":"25759339962","type":"IssueCommentEvent","actor":{"id":32741828,"login":"xShuusui","display_login":"xShuusui","gravatar_id":"","url":"https://api.github.com/users/xShuusui","avatar_url":"https://avatars.githubusercontent.com/u/32741828?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/92","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/92/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/92/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/92/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/92","id":1482974347,"node_id":"I_kwDOE_A9l85YZGSL","number":92,"title":"Memory leaks during key creation and signing","user":{"login":"xShuusui","id":32741828,"node_id":"MDQ6VXNlcjMyNzQxODI4","avatar_url":"https://avatars.githubusercontent.com/u/32741828?v=4","gravatar_id":"","url":"https://api.github.com/users/xShuusui","html_url":"https://github.com/xShuusui","followers_url":"https://api.github.com/users/xShuusui/followers","following_url":"https://api.github.com/users/xShuusui/following{/other_user}","gists_url":"https://api.github.com/users/xShuusui/gists{/gist_id}","starred_url":"https://api.github.com/users/xShuusui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xShuusui/subscriptions","organizations_url":"https://api.github.com/users/xShuusui/orgs","repos_url":"https://api.github.com/users/xShuusui/repos","events_url":"https://api.github.com/users/xShuusui/events{/privacy}","received_events_url":"https://api.github.com/users/xShuusui/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-12-07T22:17:50Z","updated_at":"2022-12-08T19:03:08Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hi, \r\nwe are currently developing a crypto api and found some memory leaks with valgrind during key creation with pqc algorithms.\r\n\r\nThe leaks we found:\r\n- During `EVP_PKEY_keygen_init` in  **oqs_kmgmt.c**, line 422 \r\n`gctx->oqs_name = OPENSSL_strdup(oqs_name);`\r\n- During `EVP_PKEY_generate` in **oqsprov_keys.c**, line 618\r\n`ret->tls_name = OPENSSL_strdup(tls_name);`\r\n- During `EVP_DigestSignInit` from `ASN1_item_i2d` in **oqs_sig.c**\r\nNot able to fix it, but we assume its coming from line 156: `ctx->aid_len = get_aid(&(ctx->aid), ctx->sig->tls_name);`, from a not correctly freed `aid`.\r\n\r\n\r\nWe started with version *0.4.0* of the oqs-provider, when we saw that there are memory leaks fixed on [commit](https://github.com/levitte/tmp-oqsprov/commit/3d573cc2862c66d513edde21d447692d85678d60), we switched to the current [main](https://github.com/levitte/tmp-oqsprov/commit/277b3719686c16e60c24ad8b4e82f18ec3778a1e) version. The leaks listed above also occurred there.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/92/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/92/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1343195808","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/92#issuecomment-1343195808","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/92","id":1343195808,"node_id":"IC_kwDOE_A9l85QD4qg","user":{"login":"xShuusui","id":32741828,"node_id":"MDQ6VXNlcjMyNzQxODI4","avatar_url":"https://avatars.githubusercontent.com/u/32741828?v=4","gravatar_id":"","url":"https://api.github.com/users/xShuusui","html_url":"https://github.com/xShuusui","followers_url":"https://api.github.com/users/xShuusui/followers","following_url":"https://api.github.com/users/xShuusui/following{/other_user}","gists_url":"https://api.github.com/users/xShuusui/gists{/gist_id}","starred_url":"https://api.github.com/users/xShuusui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xShuusui/subscriptions","organizations_url":"https://api.github.com/users/xShuusui/orgs","repos_url":"https://api.github.com/users/xShuusui/repos","events_url":"https://api.github.com/users/xShuusui/events{/privacy}","received_events_url":"https://api.github.com/users/xShuusui/received_events","type":"User","site_admin":false},"created_at":"2022-12-08T19:03:07Z","updated_at":"2022-12-08T19:03:07Z","author_association":"NONE","body":"Yes, no problem, I will try to fix the last leak and open a pull request.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1343195808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-12-08T19:03:08Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"25762578219","type":"IssueCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":179335992,"name":"open-quantum-safe/boringssl","url":"https://api.github.com/repos/open-quantum-safe/boringssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/91","repository_url":"https://api.github.com/repos/open-quantum-safe/boringssl","labels_url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/91/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/91/comments","events_url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/91/events","html_url":"https://github.com/open-quantum-safe/boringssl/pull/91","id":1472033225,"node_id":"PR_kwDOCrBzOM5EGST3","number":91,"title":"Update to upstream 5511fa8","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2022-12-01T22:17:47Z","updated_at":"2022-12-08T21:55:56Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/boringssl/pulls/91","html_url":"https://github.com/open-quantum-safe/boringssl/pull/91","diff_url":"https://github.com/open-quantum-safe/boringssl/pull/91.diff","patch_url":"https://github.com/open-quantum-safe/boringssl/pull/91.patch","merged_at":null},"body":"Update to upstream commit [5511fa8](https://github.com/google/boringssl/commit/5511fa833c96c8caa9b51c13367f057c74d850eb).\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/91/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/91/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/comments/1343423438","html_url":"https://github.com/open-quantum-safe/boringssl/pull/91#issuecomment-1343423438","issue_url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/91","id":1343423438,"node_id":"IC_kwDOCrBzOM5QEwPO","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"created_at":"2022-12-08T21:55:56Z","updated_at":"2022-12-08T21:55:56Z","author_association":"NONE","body":"> Have you tried testing this with the current Chromium tag we use @christianpaquin? Or a more recent one?\r\n\r\nJust tested with our [documented](https://github.com/open-quantum-safe/oqs-demos/tree/main/chromium) Chromium tag; works.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/comments/1343423438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-12-08T21:55:57Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"25762592855","type":"IssueCommentEvent","actor":{"id":16247285,"login":"christianpaquin","display_login":"christianpaquin","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","avatar_url":"https://avatars.githubusercontent.com/u/16247285?"},"repo":{"id":179335992,"name":"open-quantum-safe/boringssl","url":"https://api.github.com/repos/open-quantum-safe/boringssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/91","repository_url":"https://api.github.com/repos/open-quantum-safe/boringssl","labels_url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/91/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/91/comments","events_url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/91/events","html_url":"https://github.com/open-quantum-safe/boringssl/pull/91","id":1472033225,"node_id":"PR_kwDOCrBzOM5EGST3","number":91,"title":"Update to upstream 5511fa8","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2022-12-01T22:17:47Z","updated_at":"2022-12-08T21:56:50Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/boringssl/pulls/91","html_url":"https://github.com/open-quantum-safe/boringssl/pull/91","diff_url":"https://github.com/open-quantum-safe/boringssl/pull/91.diff","patch_url":"https://github.com/open-quantum-safe/boringssl/pull/91.patch","merged_at":null},"body":"Update to upstream commit [5511fa8](https://github.com/google/boringssl/commit/5511fa833c96c8caa9b51c13367f057c74d850eb).\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/91/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/91/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/comments/1343424182","html_url":"https://github.com/open-quantum-safe/boringssl/pull/91#issuecomment-1343424182","issue_url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/91","id":1343424182,"node_id":"IC_kwDOCrBzOM5QEwa2","user":{"login":"christianpaquin","id":16247285,"node_id":"MDQ6VXNlcjE2MjQ3Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/16247285?v=4","gravatar_id":"","url":"https://api.github.com/users/christianpaquin","html_url":"https://github.com/christianpaquin","followers_url":"https://api.github.com/users/christianpaquin/followers","following_url":"https://api.github.com/users/christianpaquin/following{/other_user}","gists_url":"https://api.github.com/users/christianpaquin/gists{/gist_id}","starred_url":"https://api.github.com/users/christianpaquin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/christianpaquin/subscriptions","organizations_url":"https://api.github.com/users/christianpaquin/orgs","repos_url":"https://api.github.com/users/christianpaquin/repos","events_url":"https://api.github.com/users/christianpaquin/events{/privacy}","received_events_url":"https://api.github.com/users/christianpaquin/received_events","type":"User","site_admin":false},"created_at":"2022-12-08T21:56:50Z","updated_at":"2022-12-08T21:56:50Z","author_association":"NONE","body":"Tested in Chromium; merging.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/comments/1343424182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-12-08T21:56:50Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
