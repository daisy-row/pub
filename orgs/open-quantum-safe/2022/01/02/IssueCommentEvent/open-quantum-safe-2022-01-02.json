{"id":"19548169625","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1173","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1173/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1173/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1173/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1173","id":1091865847,"node_id":"PR_kwDOA-eq3c4wb4ak","number":1173,"title":"Update XKCP and avoid assembler .ifdef directives","user":{"login":"jschanck","id":25615540,"node_id":"MDQ6VXNlcjI1NjE1NTQw","avatar_url":"https://avatars.githubusercontent.com/u/25615540?v=4","gravatar_id":"","url":"https://api.github.com/users/jschanck","html_url":"https://github.com/jschanck","followers_url":"https://api.github.com/users/jschanck/followers","following_url":"https://api.github.com/users/jschanck/following{/other_user}","gists_url":"https://api.github.com/users/jschanck/gists{/gist_id}","starred_url":"https://api.github.com/users/jschanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jschanck/subscriptions","organizations_url":"https://api.github.com/users/jschanck/orgs","repos_url":"https://api.github.com/users/jschanck/repos","events_url":"https://api.github.com/users/jschanck/events{/privacy}","received_events_url":"https://api.github.com/users/jschanck/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-01-01T18:17:53Z","updated_at":"2022-01-02T08:48:19Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/1173","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1173","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/1173.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/1173.patch","merged_at":null},"body":"This is an attempt to fix Issue #1166. I don't have a machine to reproduce the issue on, so I'll need someone else to test the fix. The first pair of commits updates XKCP to the latest version. This alone won't fix the issue. The second pair of commits switches some `.ifdef` and `.ifndef` assembler directives to C preprocessor `#ifdef` and `#ifndef`, so we don't have to pass the `defsym` arguments which seem to be the problem in #1166.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1173/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1003682499","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1173#issuecomment-1003682499","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1173","id":1003682499,"node_id":"IC_kwDOA-eq3c470vrD","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2022-01-02T08:48:19Z","updated_at":"2022-01-02T08:48:19Z","author_association":"MEMBER","body":"Thanks for this fix. I just tried to push an update to add gcc-11 to OSX-CI to your repo but got a `permission denied`, so here's the diff if you'd want to give it a try:\r\n\r\n```\r\ngit diff issue.1166\r\ndiff --git a/.circleci/config.yml b/.circleci/config.yml\r\nindex c0715647..6cb911a4 100644\r\n--- a/.circleci/config.yml\r\n+++ b/.circleci/config.yml\r\n@@ -180,7 +180,7 @@ jobs:\r\n       - checkout # change this from \"checkout\" to \"*localCheckout\" when running CircleCI locally\r\n       - run:\r\n           name: Install dependencies\r\n-          command: env HOMEBREW_NO_AUTO_UPDATE=1 brew install cmake ninja && pip3 install pytest pytest-xdist pyyaml\r\n+          command: env HOMEBREW_NO_AUTO_UPDATE=1 brew install cmake ninja gcc@11 && pip3 install pytest pytest-xdist pyyaml\r\n       - run:\r\n           name: Get system information\r\n           command: sysctl -a | grep machdep.cpu\r\n@@ -349,6 +349,10 @@ workflows:\r\n           name: arm64\r\n           PYTEST_ARGS: --numprocesses=auto --maxprocesses=10\r\n           CMAKE_ARGS: -DOQS_DIST_BUILD=ON\r\n+      - macOS:\r\n+          <<: *require_buildcheck\r\n+          name: macOS-gcc11\r\n+          CMAKE_ARGS: -DCMAKE_C_COMPILER=gcc-11\r\n       - macOS:\r\n           <<: *require_buildcheck\r\n           name: macOS-noopenssl\r\n```","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1003682499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-01-02T08:48:19Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"19551026154","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1173","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1173/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1173/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1173/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1173","id":1091865847,"node_id":"PR_kwDOA-eq3c4wb4ak","number":1173,"title":"Update XKCP and avoid assembler .ifdef directives","user":{"login":"jschanck","id":25615540,"node_id":"MDQ6VXNlcjI1NjE1NTQw","avatar_url":"https://avatars.githubusercontent.com/u/25615540?v=4","gravatar_id":"","url":"https://api.github.com/users/jschanck","html_url":"https://github.com/jschanck","followers_url":"https://api.github.com/users/jschanck/followers","following_url":"https://api.github.com/users/jschanck/following{/other_user}","gists_url":"https://api.github.com/users/jschanck/gists{/gist_id}","starred_url":"https://api.github.com/users/jschanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jschanck/subscriptions","organizations_url":"https://api.github.com/users/jschanck/orgs","repos_url":"https://api.github.com/users/jschanck/repos","events_url":"https://api.github.com/users/jschanck/events{/privacy}","received_events_url":"https://api.github.com/users/jschanck/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-01-01T18:17:53Z","updated_at":"2022-01-02T19:15:06Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/1173","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1173","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/1173.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/1173.patch","merged_at":null},"body":"This is an attempt to fix Issue #1166. I don't have a machine to reproduce the issue on, so I'll need someone else to test the fix. The first pair of commits updates XKCP to the latest version. This alone won't fix the issue. The second pair of commits switches some `.ifdef` and `.ifndef` assembler directives to C preprocessor `#ifdef` and `#ifndef`, so we don't have to pass the `defsym` arguments which seem to be the problem in #1166.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1173/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1003761848","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1173#issuecomment-1003761848","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1173","id":1003761848,"node_id":"IC_kwDOA-eq3c471DC4","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2022-01-02T19:15:06Z","updated_at":"2022-01-02T19:15:06Z","author_association":"MEMBER","body":"It works for me, thanks John!  I've pushed a commit with the new gcc-11 macOS CI job that Michael wanted to add, and assuming that passes then we'll merge it in.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1003761848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-01-02T19:15:06Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"19551043723","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1161","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1161/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1161/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1161/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1161","id":1084944026,"node_id":"PR_kwDOA-eq3c4wFmBY","number":1161,"title":"Mark stack non-executable when compiling with clang or gcc","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"assignees":[{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones/19","html_url":"https://github.com/open-quantum-safe/liboqs/milestone/19","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones/19/labels","id":7503904,"node_id":"MI_kwDOA-eq3c4AcoAg","number":19,"title":"0.7.2","description":"","creator":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"open_issues":3,"closed_issues":2,"state":"open","created_at":"2021-12-20T15:58:32Z","updated_at":"2021-12-23T23:03:26Z","due_on":null,"closed_at":null},"comments":13,"created_at":"2021-12-20T15:52:59Z","updated_at":"2022-01-02T19:18:52Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"draft":true,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/1161","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1161","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/1161.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/1161.patch","merged_at":null},"body":"Fixes #1159\r\n\r\n<!-- Please give a brief explanation of the purpose of this pull request. -->\r\n\r\n<!-- Does this PR resolve any issue?  If so, please reference it using automatic-closing keywords like \"Fixes #123.\" -->\r\n\r\n<!-- Please answer the following questions to help manage version and changes across projects. -->\r\n\r\n* [No] Does this PR change the input/output behaviour of a cryptographic algorithm (i.e., does it change known answer test values)?  (If so, a version bump will be required from *x.y.z* to *x.(y+1).0*.)\r\n* [No] Does this PR change the the list of algorithms available -- either adding, removing, or renaming?  (If so, PRs in OQS-OpenSSL, OQS-BoringSSL, and OQS-OpenSSH will also be required by the time this is merged.)\r\n\r\n<!-- Once your pull request is ready for review and passing continuous integration tests, please convert from a draft PR to a normal PR, and request a review from one of the OQS core team members. -->\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1161/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1003762312","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1161#issuecomment-1003762312","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1161","id":1003762312,"node_id":"IC_kwDOA-eq3c471DKI","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2022-01-02T19:18:52Z","updated_at":"2022-01-02T19:18:52Z","author_association":"MEMBER","body":"> Thanks, Perhaps, manual run of this command with `-v` would show why gcc runs clang. It maybe possible that there is non GNU `as` is used.\r\n\r\nAs discussed in https://github.com/open-quantum-safe/liboqs/issues/1166#issuecomment-1002843644, it is the case that a non-GNU `as` is being used on macOS, even when compiling with gcc-11.  So if it doesn't cause problems elsewhere, then I would go with the second option (`add_link_options(-Wl,-z,noexecstack)`).  The other macOS gcc-11 build problem observed in #1166 is soon to be fixed by #1173; once that lands, my plan is to rebase this PR and use the second option here.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1003762312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-01-02T19:18:53Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"19551839307","type":"IssueCommentEvent","actor":{"id":36664211,"login":"vt-alt","display_login":"vt-alt","gravatar_id":"","url":"https://api.github.com/users/vt-alt","avatar_url":"https://avatars.githubusercontent.com/u/36664211?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1166","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1166/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1166/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1166/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1166","id":1086153181,"node_id":"I_kwDOA-eq3c5AvWHd","number":1166,"title":"Keccak build failures on macOS Intel with gcc-11","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2021-12-21T19:16:55Z","updated_at":"2022-01-02T22:29:56Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"Building liboqs with gcc-11 on an Apple Intel Mac yields build failures related to the Keccak xkcp_low code.\r\n\r\nReproduce by checking out main, and then running `cmake -GNinja -DCMAKE_C_COMPILER=gcc-11 ..`.\r\n\r\n```\r\n[1354/2353] Building ASM object src/common/sha3/xkcp_low/CMakeFiles/xkcp_low_keccakp_1600_avx2.dir/KeccakP-1600/avx2/KeccakP-1600-AVX2.S.\r\nFAILED: src/common/sha3/xkcp_low/CMakeFiles/xkcp_low_keccakp_1600_avx2.dir/KeccakP-1600/avx2/KeccakP-1600-AVX2.S.o \r\n/usr/local/bin/gcc-11  -I/Users/dstebila/Dev/OQS/liboqs/build/include -fPIC -march=native -Werror -Wall -Wextra -Wpedantic -Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -O3 -fomit-frame-pointer -fdata-sections -ffunction-sections -Wl,-dead_strip -Wbad-function-cast -Wa,-defsym,macOS=1 -MD -MT src/common/sha3/xkcp_low/CMakeFiles/xkcp_low_keccakp_1600_avx2.dir/KeccakP-1600/avx2/KeccakP-1600-AVX2.S.o -MF src/common/sha3/xkcp_low/CMakeFiles/xkcp_low_keccakp_1600_avx2.dir/KeccakP-1600/avx2/KeccakP-1600-AVX2.S.o.d -o src/common/sha3/xkcp_low/CMakeFiles/xkcp_low_keccakp_1600_avx2.dir/KeccakP-1600/avx2/KeccakP-1600-AVX2.S.o -c /Users/dstebila/Dev/OQS/liboqs/src/common/sha3/xkcp_low/KeccakP-1600/avx2/KeccakP-1600-AVX2.S\r\nclang: error: no such file or directory: 'macOS=1'\r\n[1367/2353] Building C object src/common/sha3/xkcp_low/CMakeFiles/x...s4_avx2.dir/KeccakP-1600times4/avx2/KeccakP-1600-times4-SIMD256.c.o\r\nninja: build stopped: subcommand failed.\r\n```","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1166/timeline","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1003785443","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1166#issuecomment-1003785443","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1166","id":1003785443,"node_id":"IC_kwDOA-eq3c471Izj","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"created_at":"2022-01-02T22:29:56Z","updated_at":"2022-01-02T22:29:56Z","author_association":"CONTRIBUTOR","body":"Btw, GNU assembler also could be named `as` and it's usually in `binutils` package.\r\n```\r\nlinux$ as --version\r\nGNU assembler (GNU Binutils) 2.37.20210908\r\nCopyright (C) 2021 Free Software Foundation, Inc.\r\nThis program is free software; you may redistribute it under the terms of\r\nthe GNU General Public License version 3 or later.\r\nThis program has absolutely no warranty.\r\nThis assembler was configured for a target of `x86_64-alt-linux'.\r\n```\r\nIf it's not present sometimes `gcc` itself could be used as assembler `AS=gcc`.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1003785443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-01-02T22:29:56Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
