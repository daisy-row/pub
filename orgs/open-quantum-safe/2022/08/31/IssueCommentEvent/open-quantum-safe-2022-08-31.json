{"id":"23735333558","type":"IssueCommentEvent","actor":{"id":114613,"login":"sebastinas","display_login":"sebastinas","gravatar_id":"","url":"https://api.github.com/users/sebastinas","avatar_url":"https://avatars.githubusercontent.com/u/114613?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1296","id":1349254894,"node_id":"I_kwDOA-eq3c5Qa_7u","number":1296,"title":"Error when building liboqs on ARM (armeabi-v7a, Android 11, root)","user":{"login":"ilovevkapi","id":107703095,"node_id":"U_kgDOBmtrNw","avatar_url":"https://avatars.githubusercontent.com/u/107703095?v=4","gravatar_id":"","url":"https://api.github.com/users/ilovevkapi","html_url":"https://github.com/ilovevkapi","followers_url":"https://api.github.com/users/ilovevkapi/followers","following_url":"https://api.github.com/users/ilovevkapi/following{/other_user}","gists_url":"https://api.github.com/users/ilovevkapi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilovevkapi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilovevkapi/subscriptions","organizations_url":"https://api.github.com/users/ilovevkapi/orgs","repos_url":"https://api.github.com/users/ilovevkapi/repos","events_url":"https://api.github.com/users/ilovevkapi/events{/privacy}","received_events_url":"https://api.github.com/users/ilovevkapi/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2022-08-24T10:57:53Z","updated_at":"2022-08-31T07:35:21Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello. I need to build liboqs on Android to develop a command-line HTTPS client with post-quantum cryptography support. I followed all instructions for building on Linux (because Android is actually Linux distributive). But got a compiling error at `ninja` step.\r\nHere is what i did, and what I saw in terminal:\r\n\r\n0. I have used [Termux](https://github.com/termux/termux-app?) as Linux-environment for Android.\r\n1. I have ran `apt install astyle cmake gcc ninja-build libssl-dev python3-pytest python3-pytest-xdist unzip xsltproc doxygen graphviz python3-yaml valgrind`, output was: \r\n```\r\nChecking availability of current mirror: ok\r\n...\r\nE:  Unable to locate package astyle\r\nE:  Package gcc has no installation candidate, use libllvm instead\r\nE:  Package ninja-build has no installation candidate, use ninja instead\r\nE:  Package libssl-dev has no installation candidate, use openssl instead\r\nE:  Package python3-pytest has no installation candidate, use 'pip install pytest' instead\r\nE:  Package python3-pytest-xdist has no installation candidate, use 'pip install pytest-xdist' instead\r\nE:  Package python3-yaml has no installation candidate, use 'pip install pyYAML' instead\r\n```\r\nFinally, I have installed all these packages manually, except for `astyle, graphviz`. (I haven't found any ARM-versions of them).\r\nThis is what happened after:\r\n\r\n2. Did `git clone https://github.com/open-quantum-safe/liboqs.git`. Output was OK.\r\n3. Did `cd liboqs && mkdir build && cd build`. OK too.\r\n4. Did `cmake -GNinja ..` Output was:\r\n```\r\n-- The C compiler identification is Clang 14.0.6\r\n-- The ASM compiler identification is Clang with GNU-like command-line\r\n-- Found assembler: /data/data/com.termux/files/usr/bin/cc\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Check for working C compiler: /data/data/com.termux/files/usr/bin/cc - skipped\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\nCMake Warning at .CMake/compiler_opts.cmake:44 (message):\r\n  Setting OQS_OPT_TARGET=AUTO may not produce optimized code on this system.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:111 (include)\r\n\r\n\r\n-- Looking for pthread.h\r\n-- Looking for pthread.h - found\r\n-- Performing Test CMAKE_HAVE_LIBC_PTHREAD\r\n-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Failed\r\n-- Check if compiler accepts -pthread\r\n-- Check if compiler accepts -pthread - yes\r\n-- Found Threads: TRUE\r\n-- Found OpenSSL: /data/data/com.termux/files/usr/lib/libcrypto.so (found suitable version \"3.0.3\", minimum required is \"1.1.1\")\r\n-- Found Doxygen: /data/data/com.termux/files/usr/bin/doxygen (found version \"1.9.4\") found components: doxygen missing components: dot\r\n-- Configuring done\r\n-- Generating done\r\n-- Build files have been written to: /data/data/com.termux/files/home/sys/liboqs/build\r\n```\r\nI think its okay, like previous.\r\n\r\n5. Bulding with `ninja`, error is here, while processing \"common.c.o\" by `ninja`. Of course, full output:\r\n```\r\n~/sys/liboqs/build $ sudo ninja\r\n[1/1067] Building C object src/common/CMakeFiles/common.dir/common.c.o\r\nFAILED: src/common/CMakeFiles/common.dir/common.c.o\r\n/data/data/com.termux/files/usr/bin/cc -I/data/data/com.termux/files/home/sys/liboqs/build/include -O2 -g -DNDEBUG -fPIC -fvisibility=hidden -Werror -Wall -Wextra -Wpedantic -Wno-unused-command-line-argument -g3 -fno-omit-frame-pointer -Wbad-function-cast -Wcast-qual -Wnarrowing -Wconversion -std=gnu11 -MD -MT src/common/CMakeFiles/common.dir/common.c.o -MF src/common/CMakeFiles/common.dir/common.c.o.d -o src/common/CMakeFiles/common.dir/common.c.o -c /data/data/com.termux/files/home/sys/liboqs/src/common/common.c\r\n/data/data/com.termux/files/home/sys/liboqs/src/common/common.c:251:9: error: implicitly declaring library function 'aligned_alloc' with type 'void *(unsigned int, unsigned int)' [-Werror,-Wimplicit-function-declaration]\r\n        return aligned_alloc(alignment, size);\r\n               ^\r\n/data/data/com.termux/files/home/sys/liboqs/src/common/common.c:251:9: note: include the header <stdlib.h> or explicitly provide a declaration for 'aligned_alloc'\r\n1 error generated.\r\n[10/1067] Building C object src/co...eFiles/common.dir/aes/aes_ossl.c.\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\nPlease help me to properly compile the library, if you understand where is the problem and how to do it.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1232572653","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1296#issuecomment-1232572653","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296","id":1232572653,"node_id":"IC_kwDOA-eq3c5Jd5Dt","user":{"login":"sebastinas","id":114613,"node_id":"MDQ6VXNlcjExNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/114613?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastinas","html_url":"https://github.com/sebastinas","followers_url":"https://api.github.com/users/sebastinas/followers","following_url":"https://api.github.com/users/sebastinas/following{/other_user}","gists_url":"https://api.github.com/users/sebastinas/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastinas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastinas/subscriptions","organizations_url":"https://api.github.com/users/sebastinas/orgs","repos_url":"https://api.github.com/users/sebastinas/repos","events_url":"https://api.github.com/users/sebastinas/events{/privacy}","received_events_url":"https://api.github.com/users/sebastinas/received_events","type":"User","site_admin":false},"created_at":"2022-08-31T07:35:20Z","updated_at":"2022-08-31T07:35:20Z","author_association":"CONTRIBUTOR","body":"> > Thanks, I have edited common.c file, replaced function aligned_alloc() with memalign().\r\n> \r\n> Good to hear: Looks like a #define for aligned_malloc to `memalign` may be a general solution if `__ANDROID__` is defined.\r\n\r\nIn Picnic we have already done that work. See https://github.com/IAIK/Picnic/blob/master/compat.c#L42. The availability of the functions can easily checked with cmake: https://github.com/IAIK/Picnic/blob/master/CMakeLists.txt#L70\r\n\r\nIf there is interest in that, I can port it to liboqs.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1232572653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-08-31T07:35:21Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"23735440386","type":"IssueCommentEvent","actor":{"id":114613,"login":"sebastinas","display_login":"sebastinas","gravatar_id":"","url":"https://api.github.com/users/sebastinas","avatar_url":"https://avatars.githubusercontent.com/u/114613?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1296","id":1349254894,"node_id":"I_kwDOA-eq3c5Qa_7u","number":1296,"title":"Error when building liboqs on ARM (armeabi-v7a, Android 11, root)","user":{"login":"ilovevkapi","id":107703095,"node_id":"U_kgDOBmtrNw","avatar_url":"https://avatars.githubusercontent.com/u/107703095?v=4","gravatar_id":"","url":"https://api.github.com/users/ilovevkapi","html_url":"https://github.com/ilovevkapi","followers_url":"https://api.github.com/users/ilovevkapi/followers","following_url":"https://api.github.com/users/ilovevkapi/following{/other_user}","gists_url":"https://api.github.com/users/ilovevkapi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilovevkapi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilovevkapi/subscriptions","organizations_url":"https://api.github.com/users/ilovevkapi/orgs","repos_url":"https://api.github.com/users/ilovevkapi/repos","events_url":"https://api.github.com/users/ilovevkapi/events{/privacy}","received_events_url":"https://api.github.com/users/ilovevkapi/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2022-08-24T10:57:53Z","updated_at":"2022-08-31T07:41:11Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello. I need to build liboqs on Android to develop a command-line HTTPS client with post-quantum cryptography support. I followed all instructions for building on Linux (because Android is actually Linux distributive). But got a compiling error at `ninja` step.\r\nHere is what i did, and what I saw in terminal:\r\n\r\n0. I have used [Termux](https://github.com/termux/termux-app?) as Linux-environment for Android.\r\n1. I have ran `apt install astyle cmake gcc ninja-build libssl-dev python3-pytest python3-pytest-xdist unzip xsltproc doxygen graphviz python3-yaml valgrind`, output was: \r\n```\r\nChecking availability of current mirror: ok\r\n...\r\nE:  Unable to locate package astyle\r\nE:  Package gcc has no installation candidate, use libllvm instead\r\nE:  Package ninja-build has no installation candidate, use ninja instead\r\nE:  Package libssl-dev has no installation candidate, use openssl instead\r\nE:  Package python3-pytest has no installation candidate, use 'pip install pytest' instead\r\nE:  Package python3-pytest-xdist has no installation candidate, use 'pip install pytest-xdist' instead\r\nE:  Package python3-yaml has no installation candidate, use 'pip install pyYAML' instead\r\n```\r\nFinally, I have installed all these packages manually, except for `astyle, graphviz`. (I haven't found any ARM-versions of them).\r\nThis is what happened after:\r\n\r\n2. Did `git clone https://github.com/open-quantum-safe/liboqs.git`. Output was OK.\r\n3. Did `cd liboqs && mkdir build && cd build`. OK too.\r\n4. Did `cmake -GNinja ..` Output was:\r\n```\r\n-- The C compiler identification is Clang 14.0.6\r\n-- The ASM compiler identification is Clang with GNU-like command-line\r\n-- Found assembler: /data/data/com.termux/files/usr/bin/cc\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Check for working C compiler: /data/data/com.termux/files/usr/bin/cc - skipped\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\nCMake Warning at .CMake/compiler_opts.cmake:44 (message):\r\n  Setting OQS_OPT_TARGET=AUTO may not produce optimized code on this system.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:111 (include)\r\n\r\n\r\n-- Looking for pthread.h\r\n-- Looking for pthread.h - found\r\n-- Performing Test CMAKE_HAVE_LIBC_PTHREAD\r\n-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Failed\r\n-- Check if compiler accepts -pthread\r\n-- Check if compiler accepts -pthread - yes\r\n-- Found Threads: TRUE\r\n-- Found OpenSSL: /data/data/com.termux/files/usr/lib/libcrypto.so (found suitable version \"3.0.3\", minimum required is \"1.1.1\")\r\n-- Found Doxygen: /data/data/com.termux/files/usr/bin/doxygen (found version \"1.9.4\") found components: doxygen missing components: dot\r\n-- Configuring done\r\n-- Generating done\r\n-- Build files have been written to: /data/data/com.termux/files/home/sys/liboqs/build\r\n```\r\nI think its okay, like previous.\r\n\r\n5. Bulding with `ninja`, error is here, while processing \"common.c.o\" by `ninja`. Of course, full output:\r\n```\r\n~/sys/liboqs/build $ sudo ninja\r\n[1/1067] Building C object src/common/CMakeFiles/common.dir/common.c.o\r\nFAILED: src/common/CMakeFiles/common.dir/common.c.o\r\n/data/data/com.termux/files/usr/bin/cc -I/data/data/com.termux/files/home/sys/liboqs/build/include -O2 -g -DNDEBUG -fPIC -fvisibility=hidden -Werror -Wall -Wextra -Wpedantic -Wno-unused-command-line-argument -g3 -fno-omit-frame-pointer -Wbad-function-cast -Wcast-qual -Wnarrowing -Wconversion -std=gnu11 -MD -MT src/common/CMakeFiles/common.dir/common.c.o -MF src/common/CMakeFiles/common.dir/common.c.o.d -o src/common/CMakeFiles/common.dir/common.c.o -c /data/data/com.termux/files/home/sys/liboqs/src/common/common.c\r\n/data/data/com.termux/files/home/sys/liboqs/src/common/common.c:251:9: error: implicitly declaring library function 'aligned_alloc' with type 'void *(unsigned int, unsigned int)' [-Werror,-Wimplicit-function-declaration]\r\n        return aligned_alloc(alignment, size);\r\n               ^\r\n/data/data/com.termux/files/home/sys/liboqs/src/common/common.c:251:9: note: include the header <stdlib.h> or explicitly provide a declaration for 'aligned_alloc'\r\n1 error generated.\r\n[10/1067] Building C object src/co...eFiles/common.dir/aes/aes_ossl.c.\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\nPlease help me to properly compile the library, if you understand where is the problem and how to do it.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1232578938","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1296#issuecomment-1232578938","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296","id":1232578938,"node_id":"IC_kwDOA-eq3c5Jd6l6","user":{"login":"sebastinas","id":114613,"node_id":"MDQ6VXNlcjExNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/114613?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastinas","html_url":"https://github.com/sebastinas","followers_url":"https://api.github.com/users/sebastinas/followers","following_url":"https://api.github.com/users/sebastinas/following{/other_user}","gists_url":"https://api.github.com/users/sebastinas/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastinas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastinas/subscriptions","organizations_url":"https://api.github.com/users/sebastinas/orgs","repos_url":"https://api.github.com/users/sebastinas/repos","events_url":"https://api.github.com/users/sebastinas/events{/privacy}","received_events_url":"https://api.github.com/users/sebastinas/received_events","type":"User","site_admin":false},"created_at":"2022-08-31T07:41:11Z","updated_at":"2022-08-31T07:41:11Z","author_association":"CONTRIBUTOR","body":"The issue with CPU_SUPPORTS_NEON is a typo in the OQS clue code of Picnic. PR is coming up.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1232578938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-08-31T07:41:11Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"23735516949","type":"IssueCommentEvent","actor":{"id":10404021,"login":"merkys","display_login":"merkys","gravatar_id":"","url":"https://api.github.com/users/merkys","avatar_url":"https://avatars.githubusercontent.com/u/10404021?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1285","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1285/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1285/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1285/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1285","id":1332777722,"node_id":"I_kwDOA-eq3c5PcJL6","number":1285,"title":"`test_non_executable_stack` fails on mips* and hppa architectures","user":{"login":"merkys","id":10404021,"node_id":"MDQ6VXNlcjEwNDA0MDIx","avatar_url":"https://avatars.githubusercontent.com/u/10404021?v=4","gravatar_id":"","url":"https://api.github.com/users/merkys","html_url":"https://github.com/merkys","followers_url":"https://api.github.com/users/merkys/followers","following_url":"https://api.github.com/users/merkys/following{/other_user}","gists_url":"https://api.github.com/users/merkys/gists{/gist_id}","starred_url":"https://api.github.com/users/merkys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merkys/subscriptions","organizations_url":"https://api.github.com/users/merkys/orgs","repos_url":"https://api.github.com/users/merkys/repos","events_url":"https://api.github.com/users/merkys/events{/privacy}","received_events_url":"https://api.github.com/users/merkys/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2022-08-09T06:30:17Z","updated_at":"2022-08-31T07:45:21Z","closed_at":"2022-08-31T04:41:30Z","author_association":"NONE","active_lock_reason":null,"body":"I attempted building liboqs 0.7.2~rc1-1 on Debian unstable as part of Debian packaging effort. Test `test_non_executable_stack` is failing on Debian mips64el, mipsel and hppa architectures (full matrix [here](https://buildd.debian.org/status/package.php?p=liboqs)). Failures look like this:\r\n```\r\n=================================== FAILURES ===================================\r\n__________________________ test_non_executable_stack ___________________________\r\n\r\n    @helpers.filtered_test\r\n    @pytest.mark.skipif(not(sys.platform.startswith(\"linux\")), reason=\"Only supported on Linux\")\r\n    @pytest.mark.skipif(not(os.path.exists(helpers.get_current_build_dir_name()+'/lib/liboqs.so')), reason=\"Only supported on builds with a shared library\")\r\n    def test_non_executable_stack():\r\n        liboqs = helpers.get_current_build_dir_name()+'/lib/liboqs.so'\r\n        out = helpers.run_subprocess(\r\n            ['readelf', '--wide', '--segments', liboqs]\r\n        )\r\n        lines = out.strip().split(\"\\n\")\r\n        for line in lines:\r\n            if \"GNU_STACK\" in line:\r\n                chunks = line.strip().split()\r\n                flags = chunks[6]\r\n>               assert(flags == 'RW')\r\nE               AssertionError: assert 'RWE' == 'RW'\r\nE                 - RW\r\nE                 + RWE\r\nE                 ?   +\r\n```","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1285/timeline","performed_via_github_app":null,"state_reason":"completed"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1232582939","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1285#issuecomment-1232582939","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1285","id":1232582939,"node_id":"IC_kwDOA-eq3c5Jd7kb","user":{"login":"merkys","id":10404021,"node_id":"MDQ6VXNlcjEwNDA0MDIx","avatar_url":"https://avatars.githubusercontent.com/u/10404021?v=4","gravatar_id":"","url":"https://api.github.com/users/merkys","html_url":"https://github.com/merkys","followers_url":"https://api.github.com/users/merkys/followers","following_url":"https://api.github.com/users/merkys/following{/other_user}","gists_url":"https://api.github.com/users/merkys/gists{/gist_id}","starred_url":"https://api.github.com/users/merkys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/merkys/subscriptions","organizations_url":"https://api.github.com/users/merkys/orgs","repos_url":"https://api.github.com/users/merkys/repos","events_url":"https://api.github.com/users/merkys/events{/privacy}","received_events_url":"https://api.github.com/users/merkys/received_events","type":"User","site_admin":false},"created_at":"2022-08-31T07:45:21Z","updated_at":"2022-08-31T07:45:21Z","author_association":"NONE","body":"I confirm that https://github.com/open-quantum-safe/liboqs/commit/9ee96d803ef8fb822a7d9b32572276b47d9575f4 fixes the issue.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1232582939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-08-31T07:45:21Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"23735640889","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1296","id":1349254894,"node_id":"I_kwDOA-eq3c5Qa_7u","number":1296,"title":"Error when building liboqs on ARM (armeabi-v7a, Android 11, root)","user":{"login":"ilovevkapi","id":107703095,"node_id":"U_kgDOBmtrNw","avatar_url":"https://avatars.githubusercontent.com/u/107703095?v=4","gravatar_id":"","url":"https://api.github.com/users/ilovevkapi","html_url":"https://github.com/ilovevkapi","followers_url":"https://api.github.com/users/ilovevkapi/followers","following_url":"https://api.github.com/users/ilovevkapi/following{/other_user}","gists_url":"https://api.github.com/users/ilovevkapi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilovevkapi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilovevkapi/subscriptions","organizations_url":"https://api.github.com/users/ilovevkapi/orgs","repos_url":"https://api.github.com/users/ilovevkapi/repos","events_url":"https://api.github.com/users/ilovevkapi/events{/privacy}","received_events_url":"https://api.github.com/users/ilovevkapi/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":16,"created_at":"2022-08-24T10:57:53Z","updated_at":"2022-08-31T07:52:02Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello. I need to build liboqs on Android to develop a command-line HTTPS client with post-quantum cryptography support. I followed all instructions for building on Linux (because Android is actually Linux distributive). But got a compiling error at `ninja` step.\r\nHere is what i did, and what I saw in terminal:\r\n\r\n0. I have used [Termux](https://github.com/termux/termux-app?) as Linux-environment for Android.\r\n1. I have ran `apt install astyle cmake gcc ninja-build libssl-dev python3-pytest python3-pytest-xdist unzip xsltproc doxygen graphviz python3-yaml valgrind`, output was: \r\n```\r\nChecking availability of current mirror: ok\r\n...\r\nE:  Unable to locate package astyle\r\nE:  Package gcc has no installation candidate, use libllvm instead\r\nE:  Package ninja-build has no installation candidate, use ninja instead\r\nE:  Package libssl-dev has no installation candidate, use openssl instead\r\nE:  Package python3-pytest has no installation candidate, use 'pip install pytest' instead\r\nE:  Package python3-pytest-xdist has no installation candidate, use 'pip install pytest-xdist' instead\r\nE:  Package python3-yaml has no installation candidate, use 'pip install pyYAML' instead\r\n```\r\nFinally, I have installed all these packages manually, except for `astyle, graphviz`. (I haven't found any ARM-versions of them).\r\nThis is what happened after:\r\n\r\n2. Did `git clone https://github.com/open-quantum-safe/liboqs.git`. Output was OK.\r\n3. Did `cd liboqs && mkdir build && cd build`. OK too.\r\n4. Did `cmake -GNinja ..` Output was:\r\n```\r\n-- The C compiler identification is Clang 14.0.6\r\n-- The ASM compiler identification is Clang with GNU-like command-line\r\n-- Found assembler: /data/data/com.termux/files/usr/bin/cc\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Check for working C compiler: /data/data/com.termux/files/usr/bin/cc - skipped\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\nCMake Warning at .CMake/compiler_opts.cmake:44 (message):\r\n  Setting OQS_OPT_TARGET=AUTO may not produce optimized code on this system.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:111 (include)\r\n\r\n\r\n-- Looking for pthread.h\r\n-- Looking for pthread.h - found\r\n-- Performing Test CMAKE_HAVE_LIBC_PTHREAD\r\n-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Failed\r\n-- Check if compiler accepts -pthread\r\n-- Check if compiler accepts -pthread - yes\r\n-- Found Threads: TRUE\r\n-- Found OpenSSL: /data/data/com.termux/files/usr/lib/libcrypto.so (found suitable version \"3.0.3\", minimum required is \"1.1.1\")\r\n-- Found Doxygen: /data/data/com.termux/files/usr/bin/doxygen (found version \"1.9.4\") found components: doxygen missing components: dot\r\n-- Configuring done\r\n-- Generating done\r\n-- Build files have been written to: /data/data/com.termux/files/home/sys/liboqs/build\r\n```\r\nI think its okay, like previous.\r\n\r\n5. Bulding with `ninja`, error is here, while processing \"common.c.o\" by `ninja`. Of course, full output:\r\n```\r\n~/sys/liboqs/build $ sudo ninja\r\n[1/1067] Building C object src/common/CMakeFiles/common.dir/common.c.o\r\nFAILED: src/common/CMakeFiles/common.dir/common.c.o\r\n/data/data/com.termux/files/usr/bin/cc -I/data/data/com.termux/files/home/sys/liboqs/build/include -O2 -g -DNDEBUG -fPIC -fvisibility=hidden -Werror -Wall -Wextra -Wpedantic -Wno-unused-command-line-argument -g3 -fno-omit-frame-pointer -Wbad-function-cast -Wcast-qual -Wnarrowing -Wconversion -std=gnu11 -MD -MT src/common/CMakeFiles/common.dir/common.c.o -MF src/common/CMakeFiles/common.dir/common.c.o.d -o src/common/CMakeFiles/common.dir/common.c.o -c /data/data/com.termux/files/home/sys/liboqs/src/common/common.c\r\n/data/data/com.termux/files/home/sys/liboqs/src/common/common.c:251:9: error: implicitly declaring library function 'aligned_alloc' with type 'void *(unsigned int, unsigned int)' [-Werror,-Wimplicit-function-declaration]\r\n        return aligned_alloc(alignment, size);\r\n               ^\r\n/data/data/com.termux/files/home/sys/liboqs/src/common/common.c:251:9: note: include the header <stdlib.h> or explicitly provide a declaration for 'aligned_alloc'\r\n1 error generated.\r\n[10/1067] Building C object src/co...eFiles/common.dir/aes/aes_ossl.c.\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\nPlease help me to properly compile the library, if you understand where is the problem and how to do it.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1232589195","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1296#issuecomment-1232589195","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296","id":1232589195,"node_id":"IC_kwDOA-eq3c5Jd9GL","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2022-08-31T07:52:02Z","updated_at":"2022-08-31T07:52:02Z","author_association":"MEMBER","body":"> If there is interest in that, I can port it to liboqs.\r\n\r\nIf it's not too much of an effort, it'd be very nice to have.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1232589195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-08-31T07:52:02Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"23745942078","type":"IssueCommentEvent","actor":{"id":114613,"login":"sebastinas","display_login":"sebastinas","gravatar_id":"","url":"https://api.github.com/users/sebastinas","avatar_url":"https://avatars.githubusercontent.com/u/114613?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1296","id":1349254894,"node_id":"I_kwDOA-eq3c5Qa_7u","number":1296,"title":"Error when building liboqs on ARM (armeabi-v7a, Android 11, root)","user":{"login":"ilovevkapi","id":107703095,"node_id":"U_kgDOBmtrNw","avatar_url":"https://avatars.githubusercontent.com/u/107703095?v=4","gravatar_id":"","url":"https://api.github.com/users/ilovevkapi","html_url":"https://github.com/ilovevkapi","followers_url":"https://api.github.com/users/ilovevkapi/followers","following_url":"https://api.github.com/users/ilovevkapi/following{/other_user}","gists_url":"https://api.github.com/users/ilovevkapi/gists{/gist_id}","starred_url":"https://api.github.com/users/ilovevkapi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilovevkapi/subscriptions","organizations_url":"https://api.github.com/users/ilovevkapi/orgs","repos_url":"https://api.github.com/users/ilovevkapi/repos","events_url":"https://api.github.com/users/ilovevkapi/events{/privacy}","received_events_url":"https://api.github.com/users/ilovevkapi/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":17,"created_at":"2022-08-24T10:57:53Z","updated_at":"2022-08-31T15:57:39Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello. I need to build liboqs on Android to develop a command-line HTTPS client with post-quantum cryptography support. I followed all instructions for building on Linux (because Android is actually Linux distributive). But got a compiling error at `ninja` step.\r\nHere is what i did, and what I saw in terminal:\r\n\r\n0. I have used [Termux](https://github.com/termux/termux-app?) as Linux-environment for Android.\r\n1. I have ran `apt install astyle cmake gcc ninja-build libssl-dev python3-pytest python3-pytest-xdist unzip xsltproc doxygen graphviz python3-yaml valgrind`, output was: \r\n```\r\nChecking availability of current mirror: ok\r\n...\r\nE:  Unable to locate package astyle\r\nE:  Package gcc has no installation candidate, use libllvm instead\r\nE:  Package ninja-build has no installation candidate, use ninja instead\r\nE:  Package libssl-dev has no installation candidate, use openssl instead\r\nE:  Package python3-pytest has no installation candidate, use 'pip install pytest' instead\r\nE:  Package python3-pytest-xdist has no installation candidate, use 'pip install pytest-xdist' instead\r\nE:  Package python3-yaml has no installation candidate, use 'pip install pyYAML' instead\r\n```\r\nFinally, I have installed all these packages manually, except for `astyle, graphviz`. (I haven't found any ARM-versions of them).\r\nThis is what happened after:\r\n\r\n2. Did `git clone https://github.com/open-quantum-safe/liboqs.git`. Output was OK.\r\n3. Did `cd liboqs && mkdir build && cd build`. OK too.\r\n4. Did `cmake -GNinja ..` Output was:\r\n```\r\n-- The C compiler identification is Clang 14.0.6\r\n-- The ASM compiler identification is Clang with GNU-like command-line\r\n-- Found assembler: /data/data/com.termux/files/usr/bin/cc\r\n-- Detecting C compiler ABI info\r\n-- Detecting C compiler ABI info - done\r\n-- Check for working C compiler: /data/data/com.termux/files/usr/bin/cc - skipped\r\n-- Detecting C compile features\r\n-- Detecting C compile features - done\r\nCMake Warning at .CMake/compiler_opts.cmake:44 (message):\r\n  Setting OQS_OPT_TARGET=AUTO may not produce optimized code on this system.\r\nCall Stack (most recent call first):\r\n  CMakeLists.txt:111 (include)\r\n\r\n\r\n-- Looking for pthread.h\r\n-- Looking for pthread.h - found\r\n-- Performing Test CMAKE_HAVE_LIBC_PTHREAD\r\n-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Failed\r\n-- Check if compiler accepts -pthread\r\n-- Check if compiler accepts -pthread - yes\r\n-- Found Threads: TRUE\r\n-- Found OpenSSL: /data/data/com.termux/files/usr/lib/libcrypto.so (found suitable version \"3.0.3\", minimum required is \"1.1.1\")\r\n-- Found Doxygen: /data/data/com.termux/files/usr/bin/doxygen (found version \"1.9.4\") found components: doxygen missing components: dot\r\n-- Configuring done\r\n-- Generating done\r\n-- Build files have been written to: /data/data/com.termux/files/home/sys/liboqs/build\r\n```\r\nI think its okay, like previous.\r\n\r\n5. Bulding with `ninja`, error is here, while processing \"common.c.o\" by `ninja`. Of course, full output:\r\n```\r\n~/sys/liboqs/build $ sudo ninja\r\n[1/1067] Building C object src/common/CMakeFiles/common.dir/common.c.o\r\nFAILED: src/common/CMakeFiles/common.dir/common.c.o\r\n/data/data/com.termux/files/usr/bin/cc -I/data/data/com.termux/files/home/sys/liboqs/build/include -O2 -g -DNDEBUG -fPIC -fvisibility=hidden -Werror -Wall -Wextra -Wpedantic -Wno-unused-command-line-argument -g3 -fno-omit-frame-pointer -Wbad-function-cast -Wcast-qual -Wnarrowing -Wconversion -std=gnu11 -MD -MT src/common/CMakeFiles/common.dir/common.c.o -MF src/common/CMakeFiles/common.dir/common.c.o.d -o src/common/CMakeFiles/common.dir/common.c.o -c /data/data/com.termux/files/home/sys/liboqs/src/common/common.c\r\n/data/data/com.termux/files/home/sys/liboqs/src/common/common.c:251:9: error: implicitly declaring library function 'aligned_alloc' with type 'void *(unsigned int, unsigned int)' [-Werror,-Wimplicit-function-declaration]\r\n        return aligned_alloc(alignment, size);\r\n               ^\r\n/data/data/com.termux/files/home/sys/liboqs/src/common/common.c:251:9: note: include the header <stdlib.h> or explicitly provide a declaration for 'aligned_alloc'\r\n1 error generated.\r\n[10/1067] Building C object src/co...eFiles/common.dir/aes/aes_ossl.c.\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\nPlease help me to properly compile the library, if you understand where is the problem and how to do it.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1233126116","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1296#issuecomment-1233126116","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1296","id":1233126116,"node_id":"IC_kwDOA-eq3c5JgALk","user":{"login":"sebastinas","id":114613,"node_id":"MDQ6VXNlcjExNDYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/114613?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastinas","html_url":"https://github.com/sebastinas","followers_url":"https://api.github.com/users/sebastinas/followers","following_url":"https://api.github.com/users/sebastinas/following{/other_user}","gists_url":"https://api.github.com/users/sebastinas/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastinas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastinas/subscriptions","organizations_url":"https://api.github.com/users/sebastinas/orgs","repos_url":"https://api.github.com/users/sebastinas/repos","events_url":"https://api.github.com/users/sebastinas/events{/privacy}","received_events_url":"https://api.github.com/users/sebastinas/received_events","type":"User","site_admin":false},"created_at":"2022-08-31T15:57:38Z","updated_at":"2022-08-31T15:57:38Z","author_association":"CONTRIBUTOR","body":"Done in #1300.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1233126116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-08-31T15:57:39Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
