{"id":"23037409300","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/379","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/379/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/379/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/379/events","html_url":"https://github.com/open-quantum-safe/openssl/issues/379","id":1314687842,"node_id":"I_kwDOA_fpb85OXIti","number":379,"title":"Why the \"4 bytes encoding the size of the classical artefact\"","user":{"login":"mcarrickscott","id":2735246,"node_id":"MDQ6VXNlcjI3MzUyNDY=","avatar_url":"https://avatars.githubusercontent.com/u/2735246?v=4","gravatar_id":"","url":"https://api.github.com/users/mcarrickscott","html_url":"https://github.com/mcarrickscott","followers_url":"https://api.github.com/users/mcarrickscott/followers","following_url":"https://api.github.com/users/mcarrickscott/following{/other_user}","gists_url":"https://api.github.com/users/mcarrickscott/gists{/gist_id}","starred_url":"https://api.github.com/users/mcarrickscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcarrickscott/subscriptions","organizations_url":"https://api.github.com/users/mcarrickscott/orgs","repos_url":"https://api.github.com/users/mcarrickscott/repos","events_url":"https://api.github.com/users/mcarrickscott/events{/privacy}","received_events_url":"https://api.github.com/users/mcarrickscott/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-07-22T08:50:23Z","updated_at":"2022-07-22T20:35:27Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"In the hybrid case signatures and keys are prefixed with a 4-byte length field, being the length of the \"classical artifact\". So for a p256-dilithium2 hybrid the classical artifact would be p256. However given that we know the overall length, and the fixed length for dilithium2, the encoding length for p256 can already be determined. So the 4-byte field is redundant. Also in the simple non-hybrid case for p256 such a length field was never required, so why is it needed here?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/379/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/1192916463","html_url":"https://github.com/open-quantum-safe/openssl/issues/379#issuecomment-1192916463","issue_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/379","id":1192916463,"node_id":"IC_kwDOA_fpb85HGnXv","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2022-07-22T20:35:27Z","updated_at":"2022-07-22T20:35:27Z","author_association":"MEMBER","body":"We'd want to use the same encoding across all hybrid combinations.  If I'm not mistaken, there are algorithms which have variable length signatures and keys both on the pre-quantum (RSA) and post-quantum (Falcon) side, so it is not always possible to infer lengths. \r\n\r\n> Also in the simple non-hybrid case for p256 such a length field was never required, so why is it needed here?\r\n\r\nThe length field is actually present: in the `CertificateVerify` message, for example, the signature is `opaque signature<0..2^16-1>` which would be encoded with a 2-byte length prefix.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/1192916463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-07-22T20:35:27Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"23037436467","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/380","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/380/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/380/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/380/events","html_url":"https://github.com/open-quantum-safe/openssl/issues/380","id":1314768288,"node_id":"I_kwDOA_fpb85OXcWg","number":380,"title":"p256-Dilithium2 hash function","user":{"login":"mcarrickscott","id":2735246,"node_id":"MDQ6VXNlcjI3MzUyNDY=","avatar_url":"https://avatars.githubusercontent.com/u/2735246?v=4","gravatar_id":"","url":"https://api.github.com/users/mcarrickscott","html_url":"https://github.com/mcarrickscott","followers_url":"https://api.github.com/users/mcarrickscott/followers","following_url":"https://api.github.com/users/mcarrickscott/following{/other_user}","gists_url":"https://api.github.com/users/mcarrickscott/gists{/gist_id}","starred_url":"https://api.github.com/users/mcarrickscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcarrickscott/subscriptions","organizations_url":"https://api.github.com/users/mcarrickscott/orgs","repos_url":"https://api.github.com/users/mcarrickscott/repos","events_url":"https://api.github.com/users/mcarrickscott/events{/privacy}","received_events_url":"https://api.github.com/users/mcarrickscott/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-07-22T09:33:13Z","updated_at":"2022-07-22T20:37:41Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"From the documentation* this hybrid should be using SHA2-256 to hash the data before it is signed by p256, but in fact it uses SHA2-384. This may have something to do with the issue around labelling Dilithium2 as level 1 rather than level 2? Personally I would have thought it was level 1, but am happy to be corrected.\r\n\r\n*   In addition to post-quantum (PQ) signatures; we also support classical/PQ hybrids. In that case, a classical and a PQ signature\r\n   are generated on the same data, and the resulting signatures are concatenated; the classical and PQ keys are also concatenated\r\n   when serialized. The signed data is first hashed using the SHA-2 hash function matching the security level of the OQS scheme\r\n   (SHA256 for L1, SHA384 for L2/L3, SHA512 for L4/L5) before being signed by the classical algorithm (which can't support\r\n   arbitrarily long messages), and is passed directly to the OQS signature API.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/380/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/1192917774","html_url":"https://github.com/open-quantum-safe/openssl/issues/380#issuecomment-1192917774","issue_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/380","id":1192917774,"node_id":"IC_kwDOA_fpb85HGnsO","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2022-07-22T20:37:41Z","updated_at":"2022-07-22T20:37:41Z","author_association":"MEMBER","body":"Dilithium2 is claimed level 2 as per the Dilithium submission. \r\n\r\nWe do have some inconsistencies around this in our documentation (see e.g. https://github.com/open-quantum-safe/openssl/issues/378) that need to be fixed.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/1192917774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-07-22T20:37:41Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"23038453132","type":"IssueCommentEvent","actor":{"id":2735246,"login":"mcarrickscott","display_login":"mcarrickscott","gravatar_id":"","url":"https://api.github.com/users/mcarrickscott","avatar_url":"https://avatars.githubusercontent.com/u/2735246?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/379","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/379/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/379/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/379/events","html_url":"https://github.com/open-quantum-safe/openssl/issues/379","id":1314687842,"node_id":"I_kwDOA_fpb85OXIti","number":379,"title":"Why the \"4 bytes encoding the size of the classical artefact\"","user":{"login":"mcarrickscott","id":2735246,"node_id":"MDQ6VXNlcjI3MzUyNDY=","avatar_url":"https://avatars.githubusercontent.com/u/2735246?v=4","gravatar_id":"","url":"https://api.github.com/users/mcarrickscott","html_url":"https://github.com/mcarrickscott","followers_url":"https://api.github.com/users/mcarrickscott/followers","following_url":"https://api.github.com/users/mcarrickscott/following{/other_user}","gists_url":"https://api.github.com/users/mcarrickscott/gists{/gist_id}","starred_url":"https://api.github.com/users/mcarrickscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcarrickscott/subscriptions","organizations_url":"https://api.github.com/users/mcarrickscott/orgs","repos_url":"https://api.github.com/users/mcarrickscott/repos","events_url":"https://api.github.com/users/mcarrickscott/events{/privacy}","received_events_url":"https://api.github.com/users/mcarrickscott/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-07-22T08:50:23Z","updated_at":"2022-07-22T22:10:26Z","closed_at":"2022-07-22T22:10:26Z","author_association":"NONE","active_lock_reason":null,"body":"In the hybrid case signatures and keys are prefixed with a 4-byte length field, being the length of the \"classical artifact\". So for a p256-dilithium2 hybrid the classical artifact would be p256. However given that we know the overall length, and the fixed length for dilithium2, the encoding length for p256 can already be determined. So the 4-byte field is redundant. Also in the simple non-hybrid case for p256 such a length field was never required, so why is it needed here?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/379/timeline","performed_via_github_app":null,"state_reason":"completed"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/1192972119","html_url":"https://github.com/open-quantum-safe/openssl/issues/379#issuecomment-1192972119","issue_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/379","id":1192972119,"node_id":"IC_kwDOA_fpb85HG09X","user":{"login":"mcarrickscott","id":2735246,"node_id":"MDQ6VXNlcjI3MzUyNDY=","avatar_url":"https://avatars.githubusercontent.com/u/2735246?v=4","gravatar_id":"","url":"https://api.github.com/users/mcarrickscott","html_url":"https://github.com/mcarrickscott","followers_url":"https://api.github.com/users/mcarrickscott/followers","following_url":"https://api.github.com/users/mcarrickscott/following{/other_user}","gists_url":"https://api.github.com/users/mcarrickscott/gists{/gist_id}","starred_url":"https://api.github.com/users/mcarrickscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcarrickscott/subscriptions","organizations_url":"https://api.github.com/users/mcarrickscott/orgs","repos_url":"https://api.github.com/users/mcarrickscott/repos","events_url":"https://api.github.com/users/mcarrickscott/events{/privacy}","received_events_url":"https://api.github.com/users/mcarrickscott/received_events","type":"User","site_admin":false},"created_at":"2022-07-22T22:10:26Z","updated_at":"2022-07-22T22:10:26Z","author_association":"NONE","body":"Makes sense. Thanks.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/1192972119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-07-22T22:10:26Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"23038482681","type":"IssueCommentEvent","actor":{"id":2735246,"login":"mcarrickscott","display_login":"mcarrickscott","gravatar_id":"","url":"https://api.github.com/users/mcarrickscott","avatar_url":"https://avatars.githubusercontent.com/u/2735246?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/380","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/380/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/380/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/380/events","html_url":"https://github.com/open-quantum-safe/openssl/issues/380","id":1314768288,"node_id":"I_kwDOA_fpb85OXcWg","number":380,"title":"p256-Dilithium2 hash function","user":{"login":"mcarrickscott","id":2735246,"node_id":"MDQ6VXNlcjI3MzUyNDY=","avatar_url":"https://avatars.githubusercontent.com/u/2735246?v=4","gravatar_id":"","url":"https://api.github.com/users/mcarrickscott","html_url":"https://github.com/mcarrickscott","followers_url":"https://api.github.com/users/mcarrickscott/followers","following_url":"https://api.github.com/users/mcarrickscott/following{/other_user}","gists_url":"https://api.github.com/users/mcarrickscott/gists{/gist_id}","starred_url":"https://api.github.com/users/mcarrickscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcarrickscott/subscriptions","organizations_url":"https://api.github.com/users/mcarrickscott/orgs","repos_url":"https://api.github.com/users/mcarrickscott/repos","events_url":"https://api.github.com/users/mcarrickscott/events{/privacy}","received_events_url":"https://api.github.com/users/mcarrickscott/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-07-22T09:33:13Z","updated_at":"2022-07-22T22:13:24Z","closed_at":"2022-07-22T22:13:24Z","author_association":"NONE","active_lock_reason":null,"body":"From the documentation* this hybrid should be using SHA2-256 to hash the data before it is signed by p256, but in fact it uses SHA2-384. This may have something to do with the issue around labelling Dilithium2 as level 1 rather than level 2? Personally I would have thought it was level 1, but am happy to be corrected.\r\n\r\n*   In addition to post-quantum (PQ) signatures; we also support classical/PQ hybrids. In that case, a classical and a PQ signature\r\n   are generated on the same data, and the resulting signatures are concatenated; the classical and PQ keys are also concatenated\r\n   when serialized. The signed data is first hashed using the SHA-2 hash function matching the security level of the OQS scheme\r\n   (SHA256 for L1, SHA384 for L2/L3, SHA512 for L4/L5) before being signed by the classical algorithm (which can't support\r\n   arbitrarily long messages), and is passed directly to the OQS signature API.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/380/timeline","performed_via_github_app":null,"state_reason":"completed"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/1192973312","html_url":"https://github.com/open-quantum-safe/openssl/issues/380#issuecomment-1192973312","issue_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/380","id":1192973312,"node_id":"IC_kwDOA_fpb85HG1QA","user":{"login":"mcarrickscott","id":2735246,"node_id":"MDQ6VXNlcjI3MzUyNDY=","avatar_url":"https://avatars.githubusercontent.com/u/2735246?v=4","gravatar_id":"","url":"https://api.github.com/users/mcarrickscott","html_url":"https://github.com/mcarrickscott","followers_url":"https://api.github.com/users/mcarrickscott/followers","following_url":"https://api.github.com/users/mcarrickscott/following{/other_user}","gists_url":"https://api.github.com/users/mcarrickscott/gists{/gist_id}","starred_url":"https://api.github.com/users/mcarrickscott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcarrickscott/subscriptions","organizations_url":"https://api.github.com/users/mcarrickscott/orgs","repos_url":"https://api.github.com/users/mcarrickscott/repos","events_url":"https://api.github.com/users/mcarrickscott/events{/privacy}","received_events_url":"https://api.github.com/users/mcarrickscott/received_events","type":"User","site_admin":false},"created_at":"2022-07-22T22:13:24Z","updated_at":"2022-07-22T22:13:24Z","author_association":"NONE","body":"P256 with SHA2-384 is not a standard scheme in TLS1.3. But I guess adherence to existing standards is not really necessary in this context.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/1192973312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-07-22T22:13:24Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
