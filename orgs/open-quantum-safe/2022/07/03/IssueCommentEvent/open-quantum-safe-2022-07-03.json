{"id":"22667066390","type":"IssueCommentEvent","actor":{"id":5923577,"login":"mouse07410","display_login":"mouse07410","gravatar_id":"","url":"https://api.github.com/users/mouse07410","avatar_url":"https://avatars.githubusercontent.com/u/5923577?"},"repo":{"id":252143304,"name":"open-quantum-safe/liboqs-rust","url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/142","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/142/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/142/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/142/events","html_url":"https://github.com/open-quantum-safe/liboqs-rust/issues/142","id":1271623409,"node_id":"I_kwDODwdmyM5Ly27x","number":142,"title":"Stack overflow on some tests","user":{"login":"mouse07410","id":5923577,"node_id":"MDQ6VXNlcjU5MjM1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5923577?v=4","gravatar_id":"","url":"https://api.github.com/users/mouse07410","html_url":"https://github.com/mouse07410","followers_url":"https://api.github.com/users/mouse07410/followers","following_url":"https://api.github.com/users/mouse07410/following{/other_user}","gists_url":"https://api.github.com/users/mouse07410/gists{/gist_id}","starred_url":"https://api.github.com/users/mouse07410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mouse07410/subscriptions","organizations_url":"https://api.github.com/users/mouse07410/orgs","repos_url":"https://api.github.com/users/mouse07410/repos","events_url":"https://api.github.com/users/mouse07410/events{/privacy}","received_events_url":"https://api.github.com/users/mouse07410/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2022-06-15T03:35:42Z","updated_at":"2022-07-03T03:25:19Z","closed_at":"2022-07-01T08:04:07Z","author_association":"NONE","active_lock_reason":null,"body":"MacOS Monterey 12.4, Xcode-13.4.1.\r\n\r\n```\r\n$ rustc -V --verbose\r\nrustc 1.61.0\r\nbinary: rustc\r\ncommit-hash: unknown\r\ncommit-date: unknown\r\nhost: x86_64-apple-darwin\r\nrelease: 1.61.0\r\nLLVM version: 14.0.0\r\n$\r\n$ cargo test\r\n   Compiling oqs-sys v0.7.1 (/Users/ur20980/src/liboqs-rust/oqs-sys)\r\n   Compiling oqs v0.7.1 (/Users/ur20980/src/liboqs-rust/oqs)\r\n    Finished test [unoptimized + debuginfo] target(s) in 2.91s\r\n     Running unittests src/lib.rs (target/debug/deps/oqs-efd60abe37588300)\r\n\r\nrunning 614 tests\r\ntest kem::BikeL3::test_get_algorithm_back ... ok\r\ntest kem::BikeL1::test_get_algorithm_back ... ok\r\ntest kem::BikeL3::test_enabled ... ok\r\ntest kem::BikeL1::test_version ... ok\r\ntest kem::BikeL3::test_name ... ok\r\ntest kem::BikeL1::test_name ... ok\r\ntest kem::BikeL1::test_enabled ... ok\r\ntest kem::BikeL3::test_version ... ok\r\ntest kem::ClassicMcEliece348864::test_enabled ... ok\r\ntest kem::ClassicMcEliece348864::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece348864::test_version ... ok\r\ntest kem::ClassicMcEliece348864::test_name ... ok\r\ntest kem::ClassicMcEliece348864f::test_enabled ... ok\r\ntest kem::ClassicMcEliece348864f::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece348864f::test_version ... ok\r\ntest kem::ClassicMcEliece348864f::test_name ... ok\r\ntest kem::ClassicMcEliece460896::test_enabled ... ok\r\ntest kem::ClassicMcEliece460896::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece460896::test_name ... ok\r\ntest kem::ClassicMcEliece460896::test_version ... ok\r\ntest kem::ClassicMcEliece460896f::test_enabled ... ok\r\ntest kem::ClassicMcEliece460896f::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece460896f::test_name ... ok\r\ntest kem::ClassicMcEliece460896f::test_version ... ok\r\ntest kem::ClassicMcEliece6688128::test_enabled ... ok\r\ntest kem::ClassicMcEliece6688128::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece6688128::test_name ... ok\r\ntest kem::ClassicMcEliece6688128::test_version ... ok\r\ntest kem::ClassicMcEliece6688128f::test_enabled ... ok\r\ntest kem::ClassicMcEliece6688128f::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece6688128f::test_name ... ok\r\ntest kem::ClassicMcEliece6688128f::test_version ... ok\r\ntest kem::ClassicMcEliece6960119::test_enabled ... ok\r\ntest kem::ClassicMcEliece6960119::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece6960119::test_name ... ok\r\ntest kem::ClassicMcEliece6960119::test_version ... ok\r\ntest kem::ClassicMcEliece6960119f::test_enabled ... ok\r\ntest kem::ClassicMcEliece6960119f::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece6960119f::test_name ... ok\r\ntest kem::ClassicMcEliece6960119f::test_version ... ok\r\ntest kem::ClassicMcEliece8192128::test_enabled ... ok\r\ntest kem::ClassicMcEliece8192128::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece8192128::test_name ... ok\r\ntest kem::ClassicMcEliece8192128::test_version ... ok\r\ntest kem::ClassicMcEliece8192128f::test_enabled ... ok\r\ntest kem::ClassicMcEliece8192128f::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece8192128f::test_name ... ok\r\ntest kem::ClassicMcEliece8192128f::test_version ... ok\r\ntest kem::Firesaber::test_enabled ... ok\r\ntest kem::Firesaber::test_get_algorithm_back ... ok\r\ntest kem::Firesaber::test_name ... ok\r\n.  .  .  .  .\r\ntest kem::SidhP751::test_version ... ok\r\ntest kem::SidhP751Compressed::test_enabled ... ok\r\n\r\nthread 'kem::ClassicMcEliece8192128::test_encaps_decaps' has overflowed its stack\r\nfatal runtime error: stack overflow\r\nerror: test failed, to rerun pass '-p oqs --lib'\r\n\r\nCaused by:\r\n  process didn't exit successfully: `/Users/ur20980/src/liboqs-rust/target/debug/deps/oqs-efd60abe37588300` (signal: 6, SIGABRT: process abort signal)\r\n```\r\n\r\nAlso, if I already have `liboqs` built and installed - is there any way to use it, instead of rebuilding liboqs within this package?\r\n```","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/142/timeline","performed_via_github_app":null,"state_reason":"completed"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/comments/1173004026","html_url":"https://github.com/open-quantum-safe/liboqs-rust/issues/142#issuecomment-1173004026","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/142","id":1173004026,"node_id":"IC_kwDODwdmyM5F6p76","user":{"login":"mouse07410","id":5923577,"node_id":"MDQ6VXNlcjU5MjM1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5923577?v=4","gravatar_id":"","url":"https://api.github.com/users/mouse07410","html_url":"https://github.com/mouse07410","followers_url":"https://api.github.com/users/mouse07410/followers","following_url":"https://api.github.com/users/mouse07410/following{/other_user}","gists_url":"https://api.github.com/users/mouse07410/gists{/gist_id}","starred_url":"https://api.github.com/users/mouse07410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mouse07410/subscriptions","organizations_url":"https://api.github.com/users/mouse07410/orgs","repos_url":"https://api.github.com/users/mouse07410/repos","events_url":"https://api.github.com/users/mouse07410/events{/privacy}","received_events_url":"https://api.github.com/users/mouse07410/received_events","type":"User","site_admin":false},"created_at":"2022-07-03T03:25:19Z","updated_at":"2022-07-03T03:25:19Z","author_association":"NONE","body":"@thomwiggers You are correct - setting env var `RUST_MIN_STACK=800000000` resolved this issue.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/comments/1173004026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-07-03T03:25:20Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"22667599691","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1244","id":1292203597,"node_id":"I_kwDOA-eq3c5NBXZN","number":1244,"title":"FAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpec...","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-07-03T04:22:27Z","updated_at":"2022-07-03T05:42:23Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"With the time there is multiple test errors appeared (for 0.7.1 on x86_64):\r\n```\r\n=========================== short test summary info ============================\r\nFAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-128] - AssertionError: Got unexpec...\r\nFAILED tests/test_kat.py::test_kem[HQC-256] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-128] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-192] - AssertionError: Got unexpected ...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-128] - AssertionError: Got unexpec...\r\n================= 9 failed, 628 passed, 258 skipped in 27.14s ==================\r\n```\r\nFull build log and test details http://git.altlinux.org/beehive/logs/Sisyphus/x86_64/archive/2022/0702/error/liboqs-0.7.1-alt2\r\n\r\nFor example, excerpt for one test:\r\n```\r\n=================================== FAILURES ===================================\r\n______________________________ test_kem[HQC-128] _______________________________\r\n[gw11] linux -- Python 3.10.5 /usr/bin/python3\r\n\r\nkem_name = 'HQC-128'\r\n\r\n    @helpers.filtered_test\r\n    @pytest.mark.parametrize('kem_name', helpers.available_kems_by_name())\r\n    def test_kem(kem_name):\r\n        if not(helpers.is_kem_enabled_by_name(kem_name)): pytest.skip('Not enabled')\r\n>       helpers.run_subprocess(\r\n            [helpers.path_to_executable('test_kem'), kem_name],\r\n        )\r\n\r\ntests/test_cmdline.py:19:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\ncommand = ['/usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem', 'HQC-128']\r\nworking_dir = '.'\r\nenv = {'G_BROKEN_FILENAMES': '1', 'HISTFILESIZE': '9999', 'HISTSIZE': '999', 'HOME': '/usr/src', ...}\r\nexpected_returncode = 0, input = None, ignore_returncode = False\r\n\r\n    def run_subprocess(command, working_dir='.', env=None, expected_returncode=0, input=None, ignore_returncode=False):\r\n        \"\"\"\r\n        Helper function to run a shell command and report success/failure\r\n        depending on the exit status of the shell command.\r\n        \"\"\"\r\n        env_ = os.environ.copy()\r\n        if env is not None:\r\n            env_.update(env)\r\n        env = env_\r\n\r\n        # Note we need to capture stdout/stderr from the subprocess,\r\n        # then print it, which pytest will then capture and\r\n        # buffer appropriately\r\n        print(working_dir + \" > \" + \" \".join(command))\r\n\r\n        result = subprocess.run(\r\n                command,\r\n                input=input,\r\n                stdout=subprocess.PIPE,\r\n                stderr=subprocess.STDOUT,\r\n                cwd=working_dir,\r\n                env=env,\r\n            )\r\n\r\n        if not(ignore_returncode) and (result.returncode != expected_returncode):\r\n            print(result.stdout.decode('utf-8'))\r\n>           assert False, \"Got unexpected return code {}\".format(result.returncode)\r\nE           AssertionError: Got unexpected return code 1\r\n\r\ntests/helpers.py:41: AssertionError\r\n----------------------------- Captured stdout call -----------------------------\r\n. > /usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem HQC-128\r\nERROR: OQS_KEM_decaps failed\r\nConfiguration info\r\n==================\r\nTarget platform:  x86_64-Linux-5.15.6-un-def-alt1\r\nCompiler:         gcc (12.1.1)\r\nCompile options:  [-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prototypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-Wstrict-overflow;-ggdb3;-Wbad-function-cast]\r\nOQS version:      0.7.1\r\nGit commit:       unknown\r\nOpenSSL enabled:  Yes (OpenSSL 1.1.1p  21 Jun 2022)\r\nAES:              OpenSSL\r\nSHA-2:            OpenSSL\r\nSHA-3:            C\r\nOQS build flags:  BUILD_SHARED_LIBS OQS_DIST_BUILD OQS_OPT_TARGET=generic CMAKE_BUILD_TYPE=RelWithDebInfo\r\nCPU exts active:  AES AVX AVX2 BMI1 BMI2 PCLMULQDQ POPCNT SSE SSE2 SSE3\r\n================================================================================\r\nSample computation for KEM HQC-128\r\n================================================================================\r\n```\r\nI can say this output is quite obscure and hard to understand what exactly is failed.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1173016334","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1244#issuecomment-1173016334","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244","id":1173016334,"node_id":"IC_kwDOA-eq3c5F6s8O","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2022-07-03T05:42:23Z","updated_at":"2022-07-03T05:42:23Z","author_association":"MEMBER","body":"The key line in http://git.altlinux.org/beehive/logs/Sisyphus/x86_64/archive/2022/0702/error/liboqs-0.7.1-alt2 is:\r\n> . > /usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem_mem HQC-128 2\r\n> ERROR: OQS_KEM_decaps failed\r\n\r\nAnd it is very surprising: It seems the final (decaps) operation of this single algorithm (HQC-128) is failing. If nothing in the code base was changed (?) this should not happen. Can you manually reproduce this error by running these commands (and sharing your output):\r\n```\r\n/usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem_mem HQC-128 0\r\n/usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem_mem HQC-128 1\r\n/usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem_mem HQC-128 2\r\n```\r\n\r\nIf this also fails, please also run `git status` in the main project directory (`/usr/src/RPM/BUILD/liboqs-0.7.1` in your case) as well as `uname -a`, `cat /etc/os-release` and share the output of these commands, too: Is this ALT Linux? \r\n\r\nFinally, does the current `liboqs` main branch fail in the same way as the release (0.7.1) you're running?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1173016334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-07-03T05:42:23Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"22667675769","type":"IssueCommentEvent","actor":{"id":36664211,"login":"vt-alt","display_login":"vt-alt","gravatar_id":"","url":"https://api.github.com/users/vt-alt","avatar_url":"https://avatars.githubusercontent.com/u/36664211?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1244","id":1292203597,"node_id":"I_kwDOA-eq3c5NBXZN","number":1244,"title":"FAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpec...","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-07-03T04:22:27Z","updated_at":"2022-07-03T06:00:54Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"With the time there is multiple test errors appeared (for 0.7.1 on x86_64):\r\n```\r\n=========================== short test summary info ============================\r\nFAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-128] - AssertionError: Got unexpec...\r\nFAILED tests/test_kat.py::test_kem[HQC-256] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-128] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-192] - AssertionError: Got unexpected ...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-128] - AssertionError: Got unexpec...\r\n================= 9 failed, 628 passed, 258 skipped in 27.14s ==================\r\n```\r\nFull build log and test details http://git.altlinux.org/beehive/logs/Sisyphus/x86_64/archive/2022/0702/error/liboqs-0.7.1-alt2\r\n\r\nFor example, excerpt for one test:\r\n```\r\n=================================== FAILURES ===================================\r\n______________________________ test_kem[HQC-128] _______________________________\r\n[gw11] linux -- Python 3.10.5 /usr/bin/python3\r\n\r\nkem_name = 'HQC-128'\r\n\r\n    @helpers.filtered_test\r\n    @pytest.mark.parametrize('kem_name', helpers.available_kems_by_name())\r\n    def test_kem(kem_name):\r\n        if not(helpers.is_kem_enabled_by_name(kem_name)): pytest.skip('Not enabled')\r\n>       helpers.run_subprocess(\r\n            [helpers.path_to_executable('test_kem'), kem_name],\r\n        )\r\n\r\ntests/test_cmdline.py:19:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\ncommand = ['/usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem', 'HQC-128']\r\nworking_dir = '.'\r\nenv = {'G_BROKEN_FILENAMES': '1', 'HISTFILESIZE': '9999', 'HISTSIZE': '999', 'HOME': '/usr/src', ...}\r\nexpected_returncode = 0, input = None, ignore_returncode = False\r\n\r\n    def run_subprocess(command, working_dir='.', env=None, expected_returncode=0, input=None, ignore_returncode=False):\r\n        \"\"\"\r\n        Helper function to run a shell command and report success/failure\r\n        depending on the exit status of the shell command.\r\n        \"\"\"\r\n        env_ = os.environ.copy()\r\n        if env is not None:\r\n            env_.update(env)\r\n        env = env_\r\n\r\n        # Note we need to capture stdout/stderr from the subprocess,\r\n        # then print it, which pytest will then capture and\r\n        # buffer appropriately\r\n        print(working_dir + \" > \" + \" \".join(command))\r\n\r\n        result = subprocess.run(\r\n                command,\r\n                input=input,\r\n                stdout=subprocess.PIPE,\r\n                stderr=subprocess.STDOUT,\r\n                cwd=working_dir,\r\n                env=env,\r\n            )\r\n\r\n        if not(ignore_returncode) and (result.returncode != expected_returncode):\r\n            print(result.stdout.decode('utf-8'))\r\n>           assert False, \"Got unexpected return code {}\".format(result.returncode)\r\nE           AssertionError: Got unexpected return code 1\r\n\r\ntests/helpers.py:41: AssertionError\r\n----------------------------- Captured stdout call -----------------------------\r\n. > /usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem HQC-128\r\nERROR: OQS_KEM_decaps failed\r\nConfiguration info\r\n==================\r\nTarget platform:  x86_64-Linux-5.15.6-un-def-alt1\r\nCompiler:         gcc (12.1.1)\r\nCompile options:  [-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prototypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-Wstrict-overflow;-ggdb3;-Wbad-function-cast]\r\nOQS version:      0.7.1\r\nGit commit:       unknown\r\nOpenSSL enabled:  Yes (OpenSSL 1.1.1p  21 Jun 2022)\r\nAES:              OpenSSL\r\nSHA-2:            OpenSSL\r\nSHA-3:            C\r\nOQS build flags:  BUILD_SHARED_LIBS OQS_DIST_BUILD OQS_OPT_TARGET=generic CMAKE_BUILD_TYPE=RelWithDebInfo\r\nCPU exts active:  AES AVX AVX2 BMI1 BMI2 PCLMULQDQ POPCNT SSE SSE2 SSE3\r\n================================================================================\r\nSample computation for KEM HQC-128\r\n================================================================================\r\n```\r\nI can say this output is quite obscure and hard to understand what exactly is failed.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1173018129","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1244#issuecomment-1173018129","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244","id":1173018129,"node_id":"IC_kwDOA-eq3c5F6tYR","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"created_at":"2022-07-03T06:00:53Z","updated_at":"2022-07-03T06:00:53Z","author_association":"CONTRIBUTOR","body":"Yes this is ALT Linux and it's daily rebuild of the package which previously built without errors. Package is build from the tag `0.7.1`.\r\n```\r\nbuilder@x86_64:~/RPM/BUILD/liboqs-0.7.1$ /usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem_mem HQC-128 0\r\nConfiguration info\r\n==================\r\nTarget platform:  x86_64-Linux-5.15.6-un-def-alt1\r\nCompiler:         gcc (12.1.1)\r\nCompile options:  [-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prototypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-Wstrict-overflow;-ggdb3;-Wbad-function-cast]\r\nOQS version:      0.7.1\r\nGit commit:       unknown\r\nOpenSSL enabled:  Yes (OpenSSL 1.1.1p  21 Jun 2022)\r\nAES:              OpenSSL\r\nSHA-2:            OpenSSL\r\nSHA-3:            C\r\nOQS build flags:  BUILD_SHARED_LIBS OQS_DIST_BUILD OQS_OPT_TARGET=generic CMAKE_BUILD_TYPE=RelWithDebInfo\r\nCPU exts active:  AES AVX AVX2 BMI1 BMI2 PCLMULQDQ POPCNT SSE SSE2 SSE3\r\n================================================================================\r\nExecuting keygen for KEM HQC-128\r\n================================================================================\r\nbuilder@x86_64:~/RPM/BUILD/liboqs-0.7.1$\r\nbuilder@x86_64:~/RPM/BUILD/liboqs-0.7.1$ echo $?\r\n0\r\nbuilder@x86_64:~/RPM/BUILD/liboqs-0.7.1$ /usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem_mem HQC-128 1\r\nConfiguration info\r\n==================\r\nTarget platform:  x86_64-Linux-5.15.6-un-def-alt1\r\nCompiler:         gcc (12.1.1)\r\nCompile options:  [-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prototypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-Wstrict-overflow;-ggdb3;-Wbad-function-cast]\r\nOQS version:      0.7.1\r\nGit commit:       unknown\r\nOpenSSL enabled:  Yes (OpenSSL 1.1.1p  21 Jun 2022)\r\nAES:              OpenSSL\r\nSHA-2:            OpenSSL\r\nSHA-3:            C\r\nOQS build flags:  BUILD_SHARED_LIBS OQS_DIST_BUILD OQS_OPT_TARGET=generic CMAKE_BUILD_TYPE=RelWithDebInfo\r\nCPU exts active:  AES AVX AVX2 BMI1 BMI2 PCLMULQDQ POPCNT SSE SSE2 SSE3\r\n================================================================================\r\nExecuting encaps for KEM HQC-128\r\n================================================================================\r\nbuilder@x86_64:~/RPM/BUILD/liboqs-0.7.1$ echo $?\r\n0\r\nbuilder@x86_64:~/RPM/BUILD/liboqs-0.7.1$ /usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem_mem HQC-128 2\r\nConfiguration info\r\n==================\r\nTarget platform:  x86_64-Linux-5.15.6-un-def-alt1\r\nCompiler:         gcc (12.1.1)\r\nCompile options:  [-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prototypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-Wstrict-overflow;-ggdb3;-Wbad-function-cast]\r\nOQS version:      0.7.1\r\nGit commit:       unknown\r\nOpenSSL enabled:  Yes (OpenSSL 1.1.1p  21 Jun 2022)\r\nAES:              OpenSSL\r\nSHA-2:            OpenSSL\r\nSHA-3:            C\r\nOQS build flags:  BUILD_SHARED_LIBS OQS_DIST_BUILD OQS_OPT_TARGET=generic CMAKE_BUILD_TYPE=RelWithDebInfo\r\nCPU exts active:  AES AVX AVX2 BMI1 BMI2 PCLMULQDQ POPCNT SSE SSE2 SSE3\r\n================================================================================\r\nExecuting decaps for KEM HQC-128\r\n================================================================================\r\nERROR: OQS_KEM_decaps failed\r\nbuilder@x86_64:~/RPM/BUILD/liboqs-0.7.1$ echo $?\r\n1\r\n```\r\nThis is not raw upstream repository, but a repo with RPM spec which builds this package, but you can see it's merged from `0.7.1`.\r\n```\r\naltair:~/src/liboqs (sisyphus)$ git status\r\nOn branch sisyphus\r\nYour branch is up to date with 'gears/sisyphus'.\r\n\r\nnothing to commit, working tree clean\r\naltair:~/src/liboqs (sisyphus)$ git l -11\r\n> b368a179 2022-03-26 0.7.1-alt2 (Vitaly Chikunov) (HEAD -> sisyphus, tag: gb-sisyphus-task297315.100, tag: 0.7.1-alt2, gitery/sisyphus, gears/sisyphus)\r\n> b59a92a1 2022-03-22 skip yamllint test for good (#1196) (Michael Baentsch)\r\n> e4c4a7ea 2021-12-20 0.7.1-alt1 (Vitaly Chikunov) (tag: gb-sisyphus-task292326.200, tag: 0.7.1-alt1)\r\n> 60abd6e5 2021-12-20 Merge tag '0.7.1' into sisyphus (Vitaly Chikunov)\r\n> a39d08e0 2021-12-16 liboqs 0.7.1 (Douglas Stebila) (tag: 0.7.1)\r\n> ed190848 2021-12-15 add trigger for oqs-provider CI (#1157) (Michael Baentsch)\r\n> 7b549971 2021-12-14 docs: set license MIT for Falcon Signature (#1156) (ax1)\r\n> ae6c7b47 2021-12-13 Output documented build options  (#1155) (Michael Baentsch)\r\n> abf1080d 2021-12-12 Added spdx headers to noregress.[py|sh] (#1154) (Jason Goertzen)\r\n> ca0cd60a 2021-12-11 release performance regression test (#1152) (Michael Baentsch)\r\n> 0a61d5d0 2021-12-09 0.7.1-rc1 [skip ci] (Douglas Stebila) (tag: 0.7.1-rc1)\r\n\r\naltair:~/src/liboqs (sisyphus)$ git diff --stat 0.7.1\r\n .gear/liboqs.spec              | 130 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\n .gear/rules                    |   2 ++\r\n src/CMakeLists.txt             |   2 +-\r\n tests/test_code_conventions.py |  11 -----------\r\n 4 files changed, 133 insertions(+), 12 deletions(-)\r\n\r\naltair:~/src/liboqs (sisyphus)$ git diff 0.7.1 src/CMakeLists.txt\r\ndiff --git a/src/CMakeLists.txt b/src/CMakeLists.txt\r\nindex a68c5619..01cf1e73 100644\r\n--- a/src/CMakeLists.txt\r\n+++ b/src/CMakeLists.txt\r\n@@ -84,7 +84,7 @@ set_target_properties(oqs\r\n     ARCHIVE_OUTPUT_DIRECTORY \"${CMAKE_BINARY_DIR}/lib\"\r\n     LIBRARY_OUTPUT_DIRECTORY \"${CMAKE_BINARY_DIR}/lib\"\r\n     VERSION ${OQS_VERSION_TEXT}\r\n-    SOVERSION 0\r\n+    SOVERSION 1\r\n     # For Windows DLLs\r\n     RUNTIME_OUTPUT_DIRECTORY \"${CMAKE_BINARY_DIR}/bin\")\r\n\r\n```\r\n\r\n```\r\n$ cat /etc/os-release\r\nNAME=Sisyphus\r\nVERSION=20201124\r\nID=altlinux\r\nVERSION_ID=20201124\r\nPRETTY_NAME=\"ALT Sisyphus Sisyphus\"\r\nANSI_COLOR=\"1;33\"\r\nCPE_NAME=\"cpe:/o:alt:sisyphus:20201124\"\r\nHOME_URL=\"https://www.altlinux.org\"\r\nBUG_REPORT_URL=\"https://bugzilla.altlinux.org\"\r\n\r\nbuilder@x86_64:/.in$ uname -a\r\nLinux localhost.localdomain 5.15.6-un-def-alt1 #1 SMP PREEMPT Wed Dec 1 13:22:58 UTC 2021 x86_64 GNU/Linux\r\n\r\n```\r\n\r\n> Finally, does the current liboqs main branch fail in the same way as the release (0.7.1) you're running?\r\n\r\nWill report that a bit later.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1173018129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-07-03T06:00:54Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"22667724706","type":"IssueCommentEvent","actor":{"id":36664211,"login":"vt-alt","display_login":"vt-alt","gravatar_id":"","url":"https://api.github.com/users/vt-alt","avatar_url":"https://avatars.githubusercontent.com/u/36664211?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1244","id":1292203597,"node_id":"I_kwDOA-eq3c5NBXZN","number":1244,"title":"FAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpec...","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-07-03T04:22:27Z","updated_at":"2022-07-03T06:11:18Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"With the time there is multiple test errors appeared (for 0.7.1 on x86_64):\r\n```\r\n=========================== short test summary info ============================\r\nFAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-128] - AssertionError: Got unexpec...\r\nFAILED tests/test_kat.py::test_kem[HQC-256] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-128] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-192] - AssertionError: Got unexpected ...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-128] - AssertionError: Got unexpec...\r\n================= 9 failed, 628 passed, 258 skipped in 27.14s ==================\r\n```\r\nFull build log and test details http://git.altlinux.org/beehive/logs/Sisyphus/x86_64/archive/2022/0702/error/liboqs-0.7.1-alt2\r\n\r\nFor example, excerpt for one test:\r\n```\r\n=================================== FAILURES ===================================\r\n______________________________ test_kem[HQC-128] _______________________________\r\n[gw11] linux -- Python 3.10.5 /usr/bin/python3\r\n\r\nkem_name = 'HQC-128'\r\n\r\n    @helpers.filtered_test\r\n    @pytest.mark.parametrize('kem_name', helpers.available_kems_by_name())\r\n    def test_kem(kem_name):\r\n        if not(helpers.is_kem_enabled_by_name(kem_name)): pytest.skip('Not enabled')\r\n>       helpers.run_subprocess(\r\n            [helpers.path_to_executable('test_kem'), kem_name],\r\n        )\r\n\r\ntests/test_cmdline.py:19:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\ncommand = ['/usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem', 'HQC-128']\r\nworking_dir = '.'\r\nenv = {'G_BROKEN_FILENAMES': '1', 'HISTFILESIZE': '9999', 'HISTSIZE': '999', 'HOME': '/usr/src', ...}\r\nexpected_returncode = 0, input = None, ignore_returncode = False\r\n\r\n    def run_subprocess(command, working_dir='.', env=None, expected_returncode=0, input=None, ignore_returncode=False):\r\n        \"\"\"\r\n        Helper function to run a shell command and report success/failure\r\n        depending on the exit status of the shell command.\r\n        \"\"\"\r\n        env_ = os.environ.copy()\r\n        if env is not None:\r\n            env_.update(env)\r\n        env = env_\r\n\r\n        # Note we need to capture stdout/stderr from the subprocess,\r\n        # then print it, which pytest will then capture and\r\n        # buffer appropriately\r\n        print(working_dir + \" > \" + \" \".join(command))\r\n\r\n        result = subprocess.run(\r\n                command,\r\n                input=input,\r\n                stdout=subprocess.PIPE,\r\n                stderr=subprocess.STDOUT,\r\n                cwd=working_dir,\r\n                env=env,\r\n            )\r\n\r\n        if not(ignore_returncode) and (result.returncode != expected_returncode):\r\n            print(result.stdout.decode('utf-8'))\r\n>           assert False, \"Got unexpected return code {}\".format(result.returncode)\r\nE           AssertionError: Got unexpected return code 1\r\n\r\ntests/helpers.py:41: AssertionError\r\n----------------------------- Captured stdout call -----------------------------\r\n. > /usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem HQC-128\r\nERROR: OQS_KEM_decaps failed\r\nConfiguration info\r\n==================\r\nTarget platform:  x86_64-Linux-5.15.6-un-def-alt1\r\nCompiler:         gcc (12.1.1)\r\nCompile options:  [-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prototypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-Wstrict-overflow;-ggdb3;-Wbad-function-cast]\r\nOQS version:      0.7.1\r\nGit commit:       unknown\r\nOpenSSL enabled:  Yes (OpenSSL 1.1.1p  21 Jun 2022)\r\nAES:              OpenSSL\r\nSHA-2:            OpenSSL\r\nSHA-3:            C\r\nOQS build flags:  BUILD_SHARED_LIBS OQS_DIST_BUILD OQS_OPT_TARGET=generic CMAKE_BUILD_TYPE=RelWithDebInfo\r\nCPU exts active:  AES AVX AVX2 BMI1 BMI2 PCLMULQDQ POPCNT SSE SSE2 SSE3\r\n================================================================================\r\nSample computation for KEM HQC-128\r\n================================================================================\r\n```\r\nI can say this output is quite obscure and hard to understand what exactly is failed.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1173019409","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1244#issuecomment-1173019409","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244","id":1173019409,"node_id":"IC_kwDOA-eq3c5F6tsR","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"created_at":"2022-07-03T06:11:18Z","updated_at":"2022-07-03T06:11:18Z","author_association":"CONTRIBUTOR","body":"Ok merged `origin/main` and build & run tests (failures are reproduced):\r\n```\r\naltair:~/src/liboqs (sisyphus)$ git fetch origin\r\naltair:~/src/liboqs (sisyphus)$ git merge --no-edit origin/main\r\naltair:~/src/liboqs (sisyphus)$ git l -1\r\n> 26a5d878 2022-07-03 Merge remote-tracking branch 'origin/main' into sisyphus (Vitaly Chikunov) (HEAD -> sisyphus)\r\naltair:~/src/liboqs (sisyphus)$ git describe origin/main --tags\r\n0.7.1-44-g1a1e9184\r\naltair:~/src/liboqs (sisyphus)$ git l -2 origin/main\r\n> 1a1e9184 2022-07-01 disable msys2 testing (#1243) (Michael Baentsch) (origin/main, origin/HEAD)\r\n> a8dad8d3 2022-07-01 adding memory leak testing (#1234) (Michael Baentsch)\r\naltair:~/src/liboqs (sisyphus)$ gear-hsh --commit 2>&1 | tee log2 # this is our builder tool run in clean env\r\n...\r\n=========================== short test summary info ============================\r\nFAILED tests/test_cmdline.py::test_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-128] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_kat.py::test_kem[HQC-128] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-192] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-256] - AssertionError: Got unexpected ...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-128] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-192] - AssertionError: Got unexpec...\r\n================= 9 failed, 629 passed, 383 skipped in 33.99s ==================\r\nFAILED: tests/CMakeFiles/run_tests /usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/CMakeFiles/run_tests\r\ncd /usr/src/RPM/BUILD/liboqs-0.7.1 && /usr/bin/cmake -E env OQS_BUILD_DIR=/usr/src/RPM/BUILD/liboqs-0.7.1/build python3 -m pytest --verbose --numprocesses=auto --ignore=scripts/copy_from_upstream/repos\r\nninja: build stopped: subcommand failed.\r\nerror: Bad exit status from /usr/src/tmp/rpm-tmp.28155 (%check)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1173019409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-07-03T06:11:18Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"22667815492","type":"IssueCommentEvent","actor":{"id":36664211,"login":"vt-alt","display_login":"vt-alt","gravatar_id":"","url":"https://api.github.com/users/vt-alt","avatar_url":"https://avatars.githubusercontent.com/u/36664211?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1244","id":1292203597,"node_id":"I_kwDOA-eq3c5NBXZN","number":1244,"title":"FAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpec...","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-07-03T04:22:27Z","updated_at":"2022-07-03T06:31:21Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"With the time there is multiple test errors appeared (for 0.7.1 on x86_64):\r\n```\r\n=========================== short test summary info ============================\r\nFAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-128] - AssertionError: Got unexpec...\r\nFAILED tests/test_kat.py::test_kem[HQC-256] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-128] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-192] - AssertionError: Got unexpected ...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-128] - AssertionError: Got unexpec...\r\n================= 9 failed, 628 passed, 258 skipped in 27.14s ==================\r\n```\r\nFull build log and test details http://git.altlinux.org/beehive/logs/Sisyphus/x86_64/archive/2022/0702/error/liboqs-0.7.1-alt2\r\n\r\nFor example, excerpt for one test:\r\n```\r\n=================================== FAILURES ===================================\r\n______________________________ test_kem[HQC-128] _______________________________\r\n[gw11] linux -- Python 3.10.5 /usr/bin/python3\r\n\r\nkem_name = 'HQC-128'\r\n\r\n    @helpers.filtered_test\r\n    @pytest.mark.parametrize('kem_name', helpers.available_kems_by_name())\r\n    def test_kem(kem_name):\r\n        if not(helpers.is_kem_enabled_by_name(kem_name)): pytest.skip('Not enabled')\r\n>       helpers.run_subprocess(\r\n            [helpers.path_to_executable('test_kem'), kem_name],\r\n        )\r\n\r\ntests/test_cmdline.py:19:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\ncommand = ['/usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem', 'HQC-128']\r\nworking_dir = '.'\r\nenv = {'G_BROKEN_FILENAMES': '1', 'HISTFILESIZE': '9999', 'HISTSIZE': '999', 'HOME': '/usr/src', ...}\r\nexpected_returncode = 0, input = None, ignore_returncode = False\r\n\r\n    def run_subprocess(command, working_dir='.', env=None, expected_returncode=0, input=None, ignore_returncode=False):\r\n        \"\"\"\r\n        Helper function to run a shell command and report success/failure\r\n        depending on the exit status of the shell command.\r\n        \"\"\"\r\n        env_ = os.environ.copy()\r\n        if env is not None:\r\n            env_.update(env)\r\n        env = env_\r\n\r\n        # Note we need to capture stdout/stderr from the subprocess,\r\n        # then print it, which pytest will then capture and\r\n        # buffer appropriately\r\n        print(working_dir + \" > \" + \" \".join(command))\r\n\r\n        result = subprocess.run(\r\n                command,\r\n                input=input,\r\n                stdout=subprocess.PIPE,\r\n                stderr=subprocess.STDOUT,\r\n                cwd=working_dir,\r\n                env=env,\r\n            )\r\n\r\n        if not(ignore_returncode) and (result.returncode != expected_returncode):\r\n            print(result.stdout.decode('utf-8'))\r\n>           assert False, \"Got unexpected return code {}\".format(result.returncode)\r\nE           AssertionError: Got unexpected return code 1\r\n\r\ntests/helpers.py:41: AssertionError\r\n----------------------------- Captured stdout call -----------------------------\r\n. > /usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem HQC-128\r\nERROR: OQS_KEM_decaps failed\r\nConfiguration info\r\n==================\r\nTarget platform:  x86_64-Linux-5.15.6-un-def-alt1\r\nCompiler:         gcc (12.1.1)\r\nCompile options:  [-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prototypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-Wstrict-overflow;-ggdb3;-Wbad-function-cast]\r\nOQS version:      0.7.1\r\nGit commit:       unknown\r\nOpenSSL enabled:  Yes (OpenSSL 1.1.1p  21 Jun 2022)\r\nAES:              OpenSSL\r\nSHA-2:            OpenSSL\r\nSHA-3:            C\r\nOQS build flags:  BUILD_SHARED_LIBS OQS_DIST_BUILD OQS_OPT_TARGET=generic CMAKE_BUILD_TYPE=RelWithDebInfo\r\nCPU exts active:  AES AVX AVX2 BMI1 BMI2 PCLMULQDQ POPCNT SSE SSE2 SSE3\r\n================================================================================\r\nSample computation for KEM HQC-128\r\n================================================================================\r\n```\r\nI can say this output is quite obscure and hard to understand what exactly is failed.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1173021618","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1244#issuecomment-1173021618","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244","id":1173021618,"node_id":"IC_kwDOA-eq3c5F6uOy","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"created_at":"2022-07-03T06:31:21Z","updated_at":"2022-07-03T06:31:21Z","author_association":"CONTRIBUTOR","body":"Quick `gdb`ing it seems that `/usr/src/RPM/BUILD/liboqs-0.7.1/src/kem/hqc/pqclean_hqc-rmrs-128_avx2/kem.c` `PQCLEAN_HQCRMRS128_AVX2_crypto_kem_dec` producing the error. `grep`ping log I don't find any error or build warning regarding that.\r\n\r\n``\r\n$ grep  pqclean_hqc-rmrs-128_avx2/kem log2\r\n[544/2363] /usr/bin/cc  -I/usr/src/RPM/BUILD/liboqs-0.7.1/build/include -I/usr/src/RPM/BUILD/liboqs-0.7.1/src/kem/hqc/pqclean_hqc-rmrs-128_avx2 -I/usr/src/RPM/BUILD/liboqs-0.7.1/src/common/pqclean_shims -pipe -frecord-gcc-switches -Wall -fdiagnostics-color=always -fdiagnostics-color=always -fdiagnostics-color=always -g -O2 -flto=auto  -Wa,--noexecstack -O2 -g -DNDEBUG -fPIC -fvisibility=hidden -Werror -Wall -Wextra -Wpedantic -Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -Wstrict-overflow -ggdb3 -mavx2 -mbmi -mpclmul -Wno-missing-braces -std=gnu11 -MD -MT src/kem/hqc/CMakeFiles/hqc_128_avx2.dir/pqclean_hqc-rmrs-128_avx2/kem.c.o -MF src/kem/hqc/CMakeFiles/hqc_128_avx2.dir/pqclean_hqc-rmrs-128_avx2/kem.c.o.d -o src/kem/hqc/CMakeFiles/hqc_128_avx2.dir/pqclean_hqc-rmrs-128_avx2/kem.c.o -c /usr/src/RPM/BUILD/liboqs-0.7.1/src/kem/hqc/pqclean_hqc-rmrs-128_avx2/kem.c\r\n``","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1173021618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-07-03T06:31:21Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"22667856863","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1244","id":1292203597,"node_id":"I_kwDOA-eq3c5NBXZN","number":1244,"title":"FAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpec...","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2022-07-03T04:22:27Z","updated_at":"2022-07-03T06:40:34Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"With the time there is multiple test errors appeared (for 0.7.1 on x86_64):\r\n```\r\n=========================== short test summary info ============================\r\nFAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-128] - AssertionError: Got unexpec...\r\nFAILED tests/test_kat.py::test_kem[HQC-256] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-128] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-192] - AssertionError: Got unexpected ...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-128] - AssertionError: Got unexpec...\r\n================= 9 failed, 628 passed, 258 skipped in 27.14s ==================\r\n```\r\nFull build log and test details http://git.altlinux.org/beehive/logs/Sisyphus/x86_64/archive/2022/0702/error/liboqs-0.7.1-alt2\r\n\r\nFor example, excerpt for one test:\r\n```\r\n=================================== FAILURES ===================================\r\n______________________________ test_kem[HQC-128] _______________________________\r\n[gw11] linux -- Python 3.10.5 /usr/bin/python3\r\n\r\nkem_name = 'HQC-128'\r\n\r\n    @helpers.filtered_test\r\n    @pytest.mark.parametrize('kem_name', helpers.available_kems_by_name())\r\n    def test_kem(kem_name):\r\n        if not(helpers.is_kem_enabled_by_name(kem_name)): pytest.skip('Not enabled')\r\n>       helpers.run_subprocess(\r\n            [helpers.path_to_executable('test_kem'), kem_name],\r\n        )\r\n\r\ntests/test_cmdline.py:19:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\ncommand = ['/usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem', 'HQC-128']\r\nworking_dir = '.'\r\nenv = {'G_BROKEN_FILENAMES': '1', 'HISTFILESIZE': '9999', 'HISTSIZE': '999', 'HOME': '/usr/src', ...}\r\nexpected_returncode = 0, input = None, ignore_returncode = False\r\n\r\n    def run_subprocess(command, working_dir='.', env=None, expected_returncode=0, input=None, ignore_returncode=False):\r\n        \"\"\"\r\n        Helper function to run a shell command and report success/failure\r\n        depending on the exit status of the shell command.\r\n        \"\"\"\r\n        env_ = os.environ.copy()\r\n        if env is not None:\r\n            env_.update(env)\r\n        env = env_\r\n\r\n        # Note we need to capture stdout/stderr from the subprocess,\r\n        # then print it, which pytest will then capture and\r\n        # buffer appropriately\r\n        print(working_dir + \" > \" + \" \".join(command))\r\n\r\n        result = subprocess.run(\r\n                command,\r\n                input=input,\r\n                stdout=subprocess.PIPE,\r\n                stderr=subprocess.STDOUT,\r\n                cwd=working_dir,\r\n                env=env,\r\n            )\r\n\r\n        if not(ignore_returncode) and (result.returncode != expected_returncode):\r\n            print(result.stdout.decode('utf-8'))\r\n>           assert False, \"Got unexpected return code {}\".format(result.returncode)\r\nE           AssertionError: Got unexpected return code 1\r\n\r\ntests/helpers.py:41: AssertionError\r\n----------------------------- Captured stdout call -----------------------------\r\n. > /usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem HQC-128\r\nERROR: OQS_KEM_decaps failed\r\nConfiguration info\r\n==================\r\nTarget platform:  x86_64-Linux-5.15.6-un-def-alt1\r\nCompiler:         gcc (12.1.1)\r\nCompile options:  [-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prototypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-Wstrict-overflow;-ggdb3;-Wbad-function-cast]\r\nOQS version:      0.7.1\r\nGit commit:       unknown\r\nOpenSSL enabled:  Yes (OpenSSL 1.1.1p  21 Jun 2022)\r\nAES:              OpenSSL\r\nSHA-2:            OpenSSL\r\nSHA-3:            C\r\nOQS build flags:  BUILD_SHARED_LIBS OQS_DIST_BUILD OQS_OPT_TARGET=generic CMAKE_BUILD_TYPE=RelWithDebInfo\r\nCPU exts active:  AES AVX AVX2 BMI1 BMI2 PCLMULQDQ POPCNT SSE SSE2 SSE3\r\n================================================================================\r\nSample computation for KEM HQC-128\r\n================================================================================\r\n```\r\nI can say this output is quite obscure and hard to understand what exactly is failed.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1173022646","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1244#issuecomment-1173022646","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244","id":1173022646,"node_id":"IC_kwDOA-eq3c5F6ue2","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2022-07-03T06:40:34Z","updated_at":"2022-07-03T06:40:34Z","author_association":"MEMBER","body":"Thanks for these logs and reconfirmations. So in summary: you do a daily build with 0.7.1 (unchanged for quite some time) and suddenly HQC started to fail?! The most prominent thing that changed recently was the OpenSSL update. Would HQC work OK if you built `liboqs` without it (\"cmake -DOQS_USE_OPENSSL=OFF\")?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1173022646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-07-03T06:40:34Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"22668141642","type":"IssueCommentEvent","actor":{"id":36664211,"login":"vt-alt","display_login":"vt-alt","gravatar_id":"","url":"https://api.github.com/users/vt-alt","avatar_url":"https://avatars.githubusercontent.com/u/36664211?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1244","id":1292203597,"node_id":"I_kwDOA-eq3c5NBXZN","number":1244,"title":"FAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpec...","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2022-07-03T04:22:27Z","updated_at":"2022-07-03T07:40:53Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"With the time there is multiple test errors appeared (for 0.7.1 on x86_64):\r\n```\r\n=========================== short test summary info ============================\r\nFAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-128] - AssertionError: Got unexpec...\r\nFAILED tests/test_kat.py::test_kem[HQC-256] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-128] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-192] - AssertionError: Got unexpected ...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-128] - AssertionError: Got unexpec...\r\n================= 9 failed, 628 passed, 258 skipped in 27.14s ==================\r\n```\r\nFull build log and test details http://git.altlinux.org/beehive/logs/Sisyphus/x86_64/archive/2022/0702/error/liboqs-0.7.1-alt2\r\n\r\nFor example, excerpt for one test:\r\n```\r\n=================================== FAILURES ===================================\r\n______________________________ test_kem[HQC-128] _______________________________\r\n[gw11] linux -- Python 3.10.5 /usr/bin/python3\r\n\r\nkem_name = 'HQC-128'\r\n\r\n    @helpers.filtered_test\r\n    @pytest.mark.parametrize('kem_name', helpers.available_kems_by_name())\r\n    def test_kem(kem_name):\r\n        if not(helpers.is_kem_enabled_by_name(kem_name)): pytest.skip('Not enabled')\r\n>       helpers.run_subprocess(\r\n            [helpers.path_to_executable('test_kem'), kem_name],\r\n        )\r\n\r\ntests/test_cmdline.py:19:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\ncommand = ['/usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem', 'HQC-128']\r\nworking_dir = '.'\r\nenv = {'G_BROKEN_FILENAMES': '1', 'HISTFILESIZE': '9999', 'HISTSIZE': '999', 'HOME': '/usr/src', ...}\r\nexpected_returncode = 0, input = None, ignore_returncode = False\r\n\r\n    def run_subprocess(command, working_dir='.', env=None, expected_returncode=0, input=None, ignore_returncode=False):\r\n        \"\"\"\r\n        Helper function to run a shell command and report success/failure\r\n        depending on the exit status of the shell command.\r\n        \"\"\"\r\n        env_ = os.environ.copy()\r\n        if env is not None:\r\n            env_.update(env)\r\n        env = env_\r\n\r\n        # Note we need to capture stdout/stderr from the subprocess,\r\n        # then print it, which pytest will then capture and\r\n        # buffer appropriately\r\n        print(working_dir + \" > \" + \" \".join(command))\r\n\r\n        result = subprocess.run(\r\n                command,\r\n                input=input,\r\n                stdout=subprocess.PIPE,\r\n                stderr=subprocess.STDOUT,\r\n                cwd=working_dir,\r\n                env=env,\r\n            )\r\n\r\n        if not(ignore_returncode) and (result.returncode != expected_returncode):\r\n            print(result.stdout.decode('utf-8'))\r\n>           assert False, \"Got unexpected return code {}\".format(result.returncode)\r\nE           AssertionError: Got unexpected return code 1\r\n\r\ntests/helpers.py:41: AssertionError\r\n----------------------------- Captured stdout call -----------------------------\r\n. > /usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem HQC-128\r\nERROR: OQS_KEM_decaps failed\r\nConfiguration info\r\n==================\r\nTarget platform:  x86_64-Linux-5.15.6-un-def-alt1\r\nCompiler:         gcc (12.1.1)\r\nCompile options:  [-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prototypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-Wstrict-overflow;-ggdb3;-Wbad-function-cast]\r\nOQS version:      0.7.1\r\nGit commit:       unknown\r\nOpenSSL enabled:  Yes (OpenSSL 1.1.1p  21 Jun 2022)\r\nAES:              OpenSSL\r\nSHA-2:            OpenSSL\r\nSHA-3:            C\r\nOQS build flags:  BUILD_SHARED_LIBS OQS_DIST_BUILD OQS_OPT_TARGET=generic CMAKE_BUILD_TYPE=RelWithDebInfo\r\nCPU exts active:  AES AVX AVX2 BMI1 BMI2 PCLMULQDQ POPCNT SSE SSE2 SSE3\r\n================================================================================\r\nSample computation for KEM HQC-128\r\n================================================================================\r\n```\r\nI can say this output is quite obscure and hard to understand what exactly is failed.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1173030594","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1244#issuecomment-1173030594","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244","id":1173030594,"node_id":"IC_kwDOA-eq3c5F6wbC","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"created_at":"2022-07-03T07:40:53Z","updated_at":"2022-07-03T07:40:53Z","author_association":"CONTRIBUTOR","body":"I just checked the logs, and we started getting re-build failures on June 2, the day we switched to gcc-12 as default compiler. I just tried to rebuild the package (with `main` still merged) using `CC=gcc-11` and there is no test failures: `638 passed, 383 skipped in 28.37s`\r\n\r\nRebuild with `-DOQS_USE_OPENSSL=OFF`, as you requested, on gcc-12 still produces the same fest failures.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1173030594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-07-03T07:40:53Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"22668409943","type":"IssueCommentEvent","actor":{"id":974662,"login":"thomwiggers","display_login":"thomwiggers","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","avatar_url":"https://avatars.githubusercontent.com/u/974662?"},"repo":{"id":252143304,"name":"open-quantum-safe/liboqs-rust","url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/142","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/142/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/142/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/142/events","html_url":"https://github.com/open-quantum-safe/liboqs-rust/issues/142","id":1271623409,"node_id":"I_kwDODwdmyM5Ly27x","number":142,"title":"Stack overflow on some tests","user":{"login":"mouse07410","id":5923577,"node_id":"MDQ6VXNlcjU5MjM1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5923577?v=4","gravatar_id":"","url":"https://api.github.com/users/mouse07410","html_url":"https://github.com/mouse07410","followers_url":"https://api.github.com/users/mouse07410/followers","following_url":"https://api.github.com/users/mouse07410/following{/other_user}","gists_url":"https://api.github.com/users/mouse07410/gists{/gist_id}","starred_url":"https://api.github.com/users/mouse07410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mouse07410/subscriptions","organizations_url":"https://api.github.com/users/mouse07410/orgs","repos_url":"https://api.github.com/users/mouse07410/repos","events_url":"https://api.github.com/users/mouse07410/events{/privacy}","received_events_url":"https://api.github.com/users/mouse07410/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2022-06-15T03:35:42Z","updated_at":"2022-07-03T08:34:00Z","closed_at":"2022-07-01T08:04:07Z","author_association":"NONE","active_lock_reason":null,"body":"MacOS Monterey 12.4, Xcode-13.4.1.\r\n\r\n```\r\n$ rustc -V --verbose\r\nrustc 1.61.0\r\nbinary: rustc\r\ncommit-hash: unknown\r\ncommit-date: unknown\r\nhost: x86_64-apple-darwin\r\nrelease: 1.61.0\r\nLLVM version: 14.0.0\r\n$\r\n$ cargo test\r\n   Compiling oqs-sys v0.7.1 (/Users/ur20980/src/liboqs-rust/oqs-sys)\r\n   Compiling oqs v0.7.1 (/Users/ur20980/src/liboqs-rust/oqs)\r\n    Finished test [unoptimized + debuginfo] target(s) in 2.91s\r\n     Running unittests src/lib.rs (target/debug/deps/oqs-efd60abe37588300)\r\n\r\nrunning 614 tests\r\ntest kem::BikeL3::test_get_algorithm_back ... ok\r\ntest kem::BikeL1::test_get_algorithm_back ... ok\r\ntest kem::BikeL3::test_enabled ... ok\r\ntest kem::BikeL1::test_version ... ok\r\ntest kem::BikeL3::test_name ... ok\r\ntest kem::BikeL1::test_name ... ok\r\ntest kem::BikeL1::test_enabled ... ok\r\ntest kem::BikeL3::test_version ... ok\r\ntest kem::ClassicMcEliece348864::test_enabled ... ok\r\ntest kem::ClassicMcEliece348864::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece348864::test_version ... ok\r\ntest kem::ClassicMcEliece348864::test_name ... ok\r\ntest kem::ClassicMcEliece348864f::test_enabled ... ok\r\ntest kem::ClassicMcEliece348864f::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece348864f::test_version ... ok\r\ntest kem::ClassicMcEliece348864f::test_name ... ok\r\ntest kem::ClassicMcEliece460896::test_enabled ... ok\r\ntest kem::ClassicMcEliece460896::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece460896::test_name ... ok\r\ntest kem::ClassicMcEliece460896::test_version ... ok\r\ntest kem::ClassicMcEliece460896f::test_enabled ... ok\r\ntest kem::ClassicMcEliece460896f::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece460896f::test_name ... ok\r\ntest kem::ClassicMcEliece460896f::test_version ... ok\r\ntest kem::ClassicMcEliece6688128::test_enabled ... ok\r\ntest kem::ClassicMcEliece6688128::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece6688128::test_name ... ok\r\ntest kem::ClassicMcEliece6688128::test_version ... ok\r\ntest kem::ClassicMcEliece6688128f::test_enabled ... ok\r\ntest kem::ClassicMcEliece6688128f::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece6688128f::test_name ... ok\r\ntest kem::ClassicMcEliece6688128f::test_version ... ok\r\ntest kem::ClassicMcEliece6960119::test_enabled ... ok\r\ntest kem::ClassicMcEliece6960119::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece6960119::test_name ... ok\r\ntest kem::ClassicMcEliece6960119::test_version ... ok\r\ntest kem::ClassicMcEliece6960119f::test_enabled ... ok\r\ntest kem::ClassicMcEliece6960119f::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece6960119f::test_name ... ok\r\ntest kem::ClassicMcEliece6960119f::test_version ... ok\r\ntest kem::ClassicMcEliece8192128::test_enabled ... ok\r\ntest kem::ClassicMcEliece8192128::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece8192128::test_name ... ok\r\ntest kem::ClassicMcEliece8192128::test_version ... ok\r\ntest kem::ClassicMcEliece8192128f::test_enabled ... ok\r\ntest kem::ClassicMcEliece8192128f::test_get_algorithm_back ... ok\r\ntest kem::ClassicMcEliece8192128f::test_name ... ok\r\ntest kem::ClassicMcEliece8192128f::test_version ... ok\r\ntest kem::Firesaber::test_enabled ... ok\r\ntest kem::Firesaber::test_get_algorithm_back ... ok\r\ntest kem::Firesaber::test_name ... ok\r\n.  .  .  .  .\r\ntest kem::SidhP751::test_version ... ok\r\ntest kem::SidhP751Compressed::test_enabled ... ok\r\n\r\nthread 'kem::ClassicMcEliece8192128::test_encaps_decaps' has overflowed its stack\r\nfatal runtime error: stack overflow\r\nerror: test failed, to rerun pass '-p oqs --lib'\r\n\r\nCaused by:\r\n  process didn't exit successfully: `/Users/ur20980/src/liboqs-rust/target/debug/deps/oqs-efd60abe37588300` (signal: 6, SIGABRT: process abort signal)\r\n```\r\n\r\nAlso, if I already have `liboqs` built and installed - is there any way to use it, instead of rebuilding liboqs within this package?\r\n```","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/142/timeline","performed_via_github_app":null,"state_reason":"completed"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/comments/1173038040","html_url":"https://github.com/open-quantum-safe/liboqs-rust/issues/142#issuecomment-1173038040","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/142","id":1173038040,"node_id":"IC_kwDODwdmyM5F6yPY","user":{"login":"thomwiggers","id":974662,"node_id":"MDQ6VXNlcjk3NDY2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/974662?v=4","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","html_url":"https://github.com/thomwiggers","followers_url":"https://api.github.com/users/thomwiggers/followers","following_url":"https://api.github.com/users/thomwiggers/following{/other_user}","gists_url":"https://api.github.com/users/thomwiggers/gists{/gist_id}","starred_url":"https://api.github.com/users/thomwiggers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomwiggers/subscriptions","organizations_url":"https://api.github.com/users/thomwiggers/orgs","repos_url":"https://api.github.com/users/thomwiggers/repos","events_url":"https://api.github.com/users/thomwiggers/events{/privacy}","received_events_url":"https://api.github.com/users/thomwiggers/received_events","type":"User","site_admin":false},"created_at":"2022-07-03T08:34:00Z","updated_at":"2022-07-03T08:34:00Z","author_association":"MEMBER","body":"(The number 80000... is just a random big enough number by the way, by no means the minimum)","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/comments/1173038040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-07-03T08:34:01Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"22668463853","type":"IssueCommentEvent","actor":{"id":36664211,"login":"vt-alt","display_login":"vt-alt","gravatar_id":"","url":"https://api.github.com/users/vt-alt","avatar_url":"https://avatars.githubusercontent.com/u/36664211?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1244","id":1292203597,"node_id":"I_kwDOA-eq3c5NBXZN","number":1244,"title":"FAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpec...","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2022-07-03T04:22:27Z","updated_at":"2022-07-03T08:44:30Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"With the time there is multiple test errors appeared (for 0.7.1 on x86_64):\r\n```\r\n=========================== short test summary info ============================\r\nFAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-128] - AssertionError: Got unexpec...\r\nFAILED tests/test_kat.py::test_kem[HQC-256] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-128] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-192] - AssertionError: Got unexpected ...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-128] - AssertionError: Got unexpec...\r\n================= 9 failed, 628 passed, 258 skipped in 27.14s ==================\r\n```\r\nFull build log and test details http://git.altlinux.org/beehive/logs/Sisyphus/x86_64/archive/2022/0702/error/liboqs-0.7.1-alt2\r\n\r\nFor example, excerpt for one test:\r\n```\r\n=================================== FAILURES ===================================\r\n______________________________ test_kem[HQC-128] _______________________________\r\n[gw11] linux -- Python 3.10.5 /usr/bin/python3\r\n\r\nkem_name = 'HQC-128'\r\n\r\n    @helpers.filtered_test\r\n    @pytest.mark.parametrize('kem_name', helpers.available_kems_by_name())\r\n    def test_kem(kem_name):\r\n        if not(helpers.is_kem_enabled_by_name(kem_name)): pytest.skip('Not enabled')\r\n>       helpers.run_subprocess(\r\n            [helpers.path_to_executable('test_kem'), kem_name],\r\n        )\r\n\r\ntests/test_cmdline.py:19:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\ncommand = ['/usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem', 'HQC-128']\r\nworking_dir = '.'\r\nenv = {'G_BROKEN_FILENAMES': '1', 'HISTFILESIZE': '9999', 'HISTSIZE': '999', 'HOME': '/usr/src', ...}\r\nexpected_returncode = 0, input = None, ignore_returncode = False\r\n\r\n    def run_subprocess(command, working_dir='.', env=None, expected_returncode=0, input=None, ignore_returncode=False):\r\n        \"\"\"\r\n        Helper function to run a shell command and report success/failure\r\n        depending on the exit status of the shell command.\r\n        \"\"\"\r\n        env_ = os.environ.copy()\r\n        if env is not None:\r\n            env_.update(env)\r\n        env = env_\r\n\r\n        # Note we need to capture stdout/stderr from the subprocess,\r\n        # then print it, which pytest will then capture and\r\n        # buffer appropriately\r\n        print(working_dir + \" > \" + \" \".join(command))\r\n\r\n        result = subprocess.run(\r\n                command,\r\n                input=input,\r\n                stdout=subprocess.PIPE,\r\n                stderr=subprocess.STDOUT,\r\n                cwd=working_dir,\r\n                env=env,\r\n            )\r\n\r\n        if not(ignore_returncode) and (result.returncode != expected_returncode):\r\n            print(result.stdout.decode('utf-8'))\r\n>           assert False, \"Got unexpected return code {}\".format(result.returncode)\r\nE           AssertionError: Got unexpected return code 1\r\n\r\ntests/helpers.py:41: AssertionError\r\n----------------------------- Captured stdout call -----------------------------\r\n. > /usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem HQC-128\r\nERROR: OQS_KEM_decaps failed\r\nConfiguration info\r\n==================\r\nTarget platform:  x86_64-Linux-5.15.6-un-def-alt1\r\nCompiler:         gcc (12.1.1)\r\nCompile options:  [-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prototypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-Wstrict-overflow;-ggdb3;-Wbad-function-cast]\r\nOQS version:      0.7.1\r\nGit commit:       unknown\r\nOpenSSL enabled:  Yes (OpenSSL 1.1.1p  21 Jun 2022)\r\nAES:              OpenSSL\r\nSHA-2:            OpenSSL\r\nSHA-3:            C\r\nOQS build flags:  BUILD_SHARED_LIBS OQS_DIST_BUILD OQS_OPT_TARGET=generic CMAKE_BUILD_TYPE=RelWithDebInfo\r\nCPU exts active:  AES AVX AVX2 BMI1 BMI2 PCLMULQDQ POPCNT SSE SSE2 SSE3\r\n================================================================================\r\nSample computation for KEM HQC-128\r\n================================================================================\r\n```\r\nI can say this output is quite obscure and hard to understand what exactly is failed.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1173039472","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1244#issuecomment-1173039472","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244","id":1173039472,"node_id":"IC_kwDOA-eq3c5F6ylw","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"created_at":"2022-07-03T08:44:30Z","updated_at":"2022-07-03T08:44:30Z","author_association":"CONTRIBUTOR","body":"I thought this may be related to LTO (`-flto=auto`) and turned it off. After that there is build error appeared:\r\n```\r\n[1/966] /usr/bin/cc  -I/usr/src/RPM/BUILD/liboqs-0.7.1/build/include -I/usr/src/RPM/BUILD/liboqs-0.7.1/src/kem/hqc/pqclean_hqc-rmrs-128_avx2 -I/usr/src/RPM/BUILD/liboqs-0.7.1/src/common/pqclean_shims -pipe -frecord-gcc-switches -Wall -fdiagnostics-color=always -fdiagnostics-color=always -fdiagnostics-color=always -g -O2   -Wa,--noexecstack -O2 -g -DNDEBUG -fPIC -fvisibility=hidden -Werror -Wall -Wextra -Wpedantic -Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -Wstrict-overflow -ggdb3 -mavx2 -mbmi -mpclmul -Wno-missing-braces -std=gnu11 -MD -MT src/kem/hqc/CMakeFiles/hqc_128_avx2.dir/pqclean_hqc-rmrs-128_avx2/reed_muller.c.o -MF src/kem/hqc/CMakeFiles/hqc_128_avx2.dir/pqclean_hqc-rmrs-128_avx2/reed_muller.c.o.d -o src/kem/hqc/CMakeFiles/hqc_128_avx2.dir/pqclean_hqc-rmrs-128_avx2/reed_muller.c.o -c /usr/src/RPM/BUILD/liboqs-0.7.1/src/kem/hqc/pqclean_hqc-rmrs-128_avx2/reed_muller.c\r\nFAILED: src/kem/hqc/CMakeFiles/hqc_128_avx2.dir/pqclean_hqc-rmrs-128_avx2/reed_muller.c.o\r\n/usr/bin/cc  -I/usr/src/RPM/BUILD/liboqs-0.7.1/build/include -I/usr/src/RPM/BUILD/liboqs-0.7.1/src/kem/hqc/pqclean_hqc-rmrs-128_avx2 -I/usr/src/RPM/BUILD/liboqs-0.7.1/src/common/pqclean_shims -pipe -frecord-gcc-switches -Wall -fdiagnostics-color=always -fdiagnostics-color=always -fdiagnostics-color=always -g -O2   -Wa,--noexecstack -O2 -g -DNDEBUG -fPIC -fvisibility=hidden -Werror -Wall -Wextra -Wpedantic -Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -Wstrict-overflow -ggdb3 -mavx2 -mbmi -mpclmul -Wno-missing-braces -std=gnu11 -MD -MT src/kem/hqc/CMakeFiles/hqc_128_avx2.dir/pqclean_hqc-rmrs-128_avx2/reed_muller.c.o -MF src/kem/hqc/CMakeFiles/hqc_128_avx2.dir/pqclean_hqc-rmrs-128_avx2/reed_muller.c.o.d -o src/kem/hqc/CMakeFiles/hqc_128_avx2.dir/pqclean_hqc-rmrs-128_avx2/reed_muller.c.o -c /usr/src/RPM/BUILD/liboqs-0.7.1/src/kem/hqc/pqclean_hqc-rmrs-128_avx2/reed_muller.c\r\nIn function 'find_peaks',\r\n    inlined from 'PQCLEAN_HQCRMRS128_AVX2_reed_muller_decode' at /usr/src/RPM/BUILD/liboqs-0.7.1/src/kem/hqc/pqclean_hqc-rmrs-128_avx2/reed_muller.c:387:18:\r\n/usr/src/RPM/BUILD/liboqs-0.7.1/src/kem/hqc/pqclean_hqc-rmrs-128_avx2/reed_muller.c:336:44: error: 'tmp' is used uninitialized [-Werror=uninitialized]\r\n  336 |         result |= mask & ((uint16_t *)&tmp)[i];\r\n      |                          ~~~~~~~~~~~~~~~~~~^~~\r\n/usr/src/RPM/BUILD/liboqs-0.7.1/src/kem/hqc/pqclean_hqc-rmrs-128_avx2/reed_muller.c: In function 'PQCLEAN_HQCRMRS128_AVX2_reed_muller_decode':\r\n/usr/src/RPM/BUILD/liboqs-0.7.1/src/kem/hqc/pqclean_hqc-rmrs-128_avx2/reed_muller.c:234:13: note: 'tmp' was declared here\r\n  234 |     __m256i tmp = _mm256_setzero_si256();\r\n      |             ^~~\r\ncc1: all warnings being treated as errors\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1173039472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-07-03T08:44:30Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"22668942715","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1244","id":1292203597,"node_id":"I_kwDOA-eq3c5NBXZN","number":1244,"title":"HQC failing on ALT Linux and gcc-12","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2022-07-03T04:22:27Z","updated_at":"2022-07-03T10:13:38Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"With the time there is multiple test errors appeared (for 0.7.1 on x86_64):\r\n```\r\n=========================== short test summary info ============================\r\nFAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-128] - AssertionError: Got unexpec...\r\nFAILED tests/test_kat.py::test_kem[HQC-256] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-128] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-192] - AssertionError: Got unexpected ...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-128] - AssertionError: Got unexpec...\r\n================= 9 failed, 628 passed, 258 skipped in 27.14s ==================\r\n```\r\nFull build log and test details http://git.altlinux.org/beehive/logs/Sisyphus/x86_64/archive/2022/0702/error/liboqs-0.7.1-alt2\r\n\r\nFor example, excerpt for one test:\r\n```\r\n=================================== FAILURES ===================================\r\n______________________________ test_kem[HQC-128] _______________________________\r\n[gw11] linux -- Python 3.10.5 /usr/bin/python3\r\n\r\nkem_name = 'HQC-128'\r\n\r\n    @helpers.filtered_test\r\n    @pytest.mark.parametrize('kem_name', helpers.available_kems_by_name())\r\n    def test_kem(kem_name):\r\n        if not(helpers.is_kem_enabled_by_name(kem_name)): pytest.skip('Not enabled')\r\n>       helpers.run_subprocess(\r\n            [helpers.path_to_executable('test_kem'), kem_name],\r\n        )\r\n\r\ntests/test_cmdline.py:19:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\ncommand = ['/usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem', 'HQC-128']\r\nworking_dir = '.'\r\nenv = {'G_BROKEN_FILENAMES': '1', 'HISTFILESIZE': '9999', 'HISTSIZE': '999', 'HOME': '/usr/src', ...}\r\nexpected_returncode = 0, input = None, ignore_returncode = False\r\n\r\n    def run_subprocess(command, working_dir='.', env=None, expected_returncode=0, input=None, ignore_returncode=False):\r\n        \"\"\"\r\n        Helper function to run a shell command and report success/failure\r\n        depending on the exit status of the shell command.\r\n        \"\"\"\r\n        env_ = os.environ.copy()\r\n        if env is not None:\r\n            env_.update(env)\r\n        env = env_\r\n\r\n        # Note we need to capture stdout/stderr from the subprocess,\r\n        # then print it, which pytest will then capture and\r\n        # buffer appropriately\r\n        print(working_dir + \" > \" + \" \".join(command))\r\n\r\n        result = subprocess.run(\r\n                command,\r\n                input=input,\r\n                stdout=subprocess.PIPE,\r\n                stderr=subprocess.STDOUT,\r\n                cwd=working_dir,\r\n                env=env,\r\n            )\r\n\r\n        if not(ignore_returncode) and (result.returncode != expected_returncode):\r\n            print(result.stdout.decode('utf-8'))\r\n>           assert False, \"Got unexpected return code {}\".format(result.returncode)\r\nE           AssertionError: Got unexpected return code 1\r\n\r\ntests/helpers.py:41: AssertionError\r\n----------------------------- Captured stdout call -----------------------------\r\n. > /usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem HQC-128\r\nERROR: OQS_KEM_decaps failed\r\nConfiguration info\r\n==================\r\nTarget platform:  x86_64-Linux-5.15.6-un-def-alt1\r\nCompiler:         gcc (12.1.1)\r\nCompile options:  [-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prototypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-Wstrict-overflow;-ggdb3;-Wbad-function-cast]\r\nOQS version:      0.7.1\r\nGit commit:       unknown\r\nOpenSSL enabled:  Yes (OpenSSL 1.1.1p  21 Jun 2022)\r\nAES:              OpenSSL\r\nSHA-2:            OpenSSL\r\nSHA-3:            C\r\nOQS build flags:  BUILD_SHARED_LIBS OQS_DIST_BUILD OQS_OPT_TARGET=generic CMAKE_BUILD_TYPE=RelWithDebInfo\r\nCPU exts active:  AES AVX AVX2 BMI1 BMI2 PCLMULQDQ POPCNT SSE SSE2 SSE3\r\n================================================================================\r\nSample computation for KEM HQC-128\r\n================================================================================\r\n```\r\nI can say this output is quite obscure and hard to understand what exactly is failed.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1173052706","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1244#issuecomment-1173052706","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244","id":1173052706,"node_id":"IC_kwDOA-eq3c5F610i","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2022-07-03T10:13:38Z","updated_at":"2022-07-03T10:13:38Z","author_association":"MEMBER","body":"Thanks very much for these additional checks. Yes, it seems to be related to that file and that compiler (version).\r\n\r\nGiven there's not a lot of algorithm maintenance (fixing such bugs) going on until NIST decides which algorithm(s) are eliminated from consideration for standardization, here's my workaround suggestions until this \"low maintenance mode\" is lifted: \r\n1) Disable HQC if you need to use gcc-12 (which we don't test with, i.e., -DOQS_ENABLE_KEM_HQC=OFF). Or\r\n2) Upgrade to clang-14 (which we try to standardize our testing on)","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1173052706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-07-03T10:13:39Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"22668998610","type":"IssueCommentEvent","actor":{"id":36664211,"login":"vt-alt","display_login":"vt-alt","gravatar_id":"","url":"https://api.github.com/users/vt-alt","avatar_url":"https://avatars.githubusercontent.com/u/36664211?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1244","id":1292203597,"node_id":"I_kwDOA-eq3c5NBXZN","number":1244,"title":"HQC failing on ALT Linux and gcc-12","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2022-07-03T04:22:27Z","updated_at":"2022-07-03T10:23:43Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"With the time there is multiple test errors appeared (for 0.7.1 on x86_64):\r\n```\r\n=========================== short test summary info ============================\r\nFAILED tests/test_cmdline.py::test_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[HQC-128] - AssertionError: Got unexpec...\r\nFAILED tests/test_kat.py::test_kem[HQC-256] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-128] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[HQC-192] - AssertionError: Got unexpected ...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-192] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-256] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[HQC-128] - AssertionError: Got unexpec...\r\n================= 9 failed, 628 passed, 258 skipped in 27.14s ==================\r\n```\r\nFull build log and test details http://git.altlinux.org/beehive/logs/Sisyphus/x86_64/archive/2022/0702/error/liboqs-0.7.1-alt2\r\n\r\nFor example, excerpt for one test:\r\n```\r\n=================================== FAILURES ===================================\r\n______________________________ test_kem[HQC-128] _______________________________\r\n[gw11] linux -- Python 3.10.5 /usr/bin/python3\r\n\r\nkem_name = 'HQC-128'\r\n\r\n    @helpers.filtered_test\r\n    @pytest.mark.parametrize('kem_name', helpers.available_kems_by_name())\r\n    def test_kem(kem_name):\r\n        if not(helpers.is_kem_enabled_by_name(kem_name)): pytest.skip('Not enabled')\r\n>       helpers.run_subprocess(\r\n            [helpers.path_to_executable('test_kem'), kem_name],\r\n        )\r\n\r\ntests/test_cmdline.py:19:\r\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\r\n\r\ncommand = ['/usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem', 'HQC-128']\r\nworking_dir = '.'\r\nenv = {'G_BROKEN_FILENAMES': '1', 'HISTFILESIZE': '9999', 'HISTSIZE': '999', 'HOME': '/usr/src', ...}\r\nexpected_returncode = 0, input = None, ignore_returncode = False\r\n\r\n    def run_subprocess(command, working_dir='.', env=None, expected_returncode=0, input=None, ignore_returncode=False):\r\n        \"\"\"\r\n        Helper function to run a shell command and report success/failure\r\n        depending on the exit status of the shell command.\r\n        \"\"\"\r\n        env_ = os.environ.copy()\r\n        if env is not None:\r\n            env_.update(env)\r\n        env = env_\r\n\r\n        # Note we need to capture stdout/stderr from the subprocess,\r\n        # then print it, which pytest will then capture and\r\n        # buffer appropriately\r\n        print(working_dir + \" > \" + \" \".join(command))\r\n\r\n        result = subprocess.run(\r\n                command,\r\n                input=input,\r\n                stdout=subprocess.PIPE,\r\n                stderr=subprocess.STDOUT,\r\n                cwd=working_dir,\r\n                env=env,\r\n            )\r\n\r\n        if not(ignore_returncode) and (result.returncode != expected_returncode):\r\n            print(result.stdout.decode('utf-8'))\r\n>           assert False, \"Got unexpected return code {}\".format(result.returncode)\r\nE           AssertionError: Got unexpected return code 1\r\n\r\ntests/helpers.py:41: AssertionError\r\n----------------------------- Captured stdout call -----------------------------\r\n. > /usr/src/RPM/BUILD/liboqs-0.7.1/build/tests/test_kem HQC-128\r\nERROR: OQS_KEM_decaps failed\r\nConfiguration info\r\n==================\r\nTarget platform:  x86_64-Linux-5.15.6-un-def-alt1\r\nCompiler:         gcc (12.1.1)\r\nCompile options:  [-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prototypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-Wstrict-overflow;-ggdb3;-Wbad-function-cast]\r\nOQS version:      0.7.1\r\nGit commit:       unknown\r\nOpenSSL enabled:  Yes (OpenSSL 1.1.1p  21 Jun 2022)\r\nAES:              OpenSSL\r\nSHA-2:            OpenSSL\r\nSHA-3:            C\r\nOQS build flags:  BUILD_SHARED_LIBS OQS_DIST_BUILD OQS_OPT_TARGET=generic CMAKE_BUILD_TYPE=RelWithDebInfo\r\nCPU exts active:  AES AVX AVX2 BMI1 BMI2 PCLMULQDQ POPCNT SSE SSE2 SSE3\r\n================================================================================\r\nSample computation for KEM HQC-128\r\n================================================================================\r\n```\r\nI can say this output is quite obscure and hard to understand what exactly is failed.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1173054322","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1244#issuecomment-1173054322","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1244","id":1173054322,"node_id":"IC_kwDOA-eq3c5F62Ny","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"created_at":"2022-07-03T10:23:43Z","updated_at":"2022-07-03T10:23:43Z","author_association":"CONTRIBUTOR","body":"Yes let's wait June 5 for the NST announcement. I also produced my workaround:\r\n```diff\r\ndiff --git a/src/kem/hqc/pqclean_hqc-rmrs-128_avx2/reed_muller.c b/src/kem/hqc/pqclean_hqc-rmrs-128_avx2/reed_muller.c\r\nindex 85afd331..77339b33 100644\r\n--- a/src/kem/hqc/pqclean_hqc-rmrs-128_avx2/reed_muller.c\r\n+++ b/src/kem/hqc/pqclean_hqc-rmrs-128_avx2/reed_muller.c\r\n@@ -331,6 +331,7 @@ inline uint32_t find_peaks(__m256i *transform) {\r\n         tmp = _mm256_or_si256(tmp, _mm256_and_si256(vect_mask, transform[i]));\r\n     }\r\n     result = 0;\r\n+#pragma GCC unroll 16\r\n     for (size_t i = 0; i < 16; i++) {\r\n         mask = ~(uint32_t) ((-(int64_t)(i ^ message % 16)) >> 63);\r\n         result |= mask & ((uint16_t *)&tmp)[i];\r\ndiff --git a/src/kem/hqc/pqclean_hqc-rmrs-192_avx2/reed_muller.c b/src/kem/hqc/pqclean_hqc-rmrs-192_avx2/reed_muller.c\r\nindex dbfd6a29..8fb506cb 100644\r\n--- a/src/kem/hqc/pqclean_hqc-rmrs-192_avx2/reed_muller.c\r\n+++ b/src/kem/hqc/pqclean_hqc-rmrs-192_avx2/reed_muller.c\r\n@@ -331,6 +331,7 @@ inline uint32_t find_peaks(__m256i *transform) {\r\n         tmp = _mm256_or_si256(tmp, _mm256_and_si256(vect_mask, transform[i]));\r\n     }\r\n     result = 0;\r\n+#pragma GCC unroll 16\r\n     for (size_t i = 0; i < 16; i++) {\r\n         mask = ~(uint32_t) ((-(int64_t)(i ^ message % 16)) >> 63);\r\n         result |= mask & ((uint16_t *)&tmp)[i];\r\ndiff --git a/src/kem/hqc/pqclean_hqc-rmrs-256_avx2/reed_muller.c b/src/kem/hqc/pqclean_hqc-rmrs-256_avx2/reed_muller.c\r\nindex 22527b8a..48c2db4c 100644\r\n--- a/src/kem/hqc/pqclean_hqc-rmrs-256_avx2/reed_muller.c\r\n+++ b/src/kem/hqc/pqclean_hqc-rmrs-256_avx2/reed_muller.c\r\n@@ -331,6 +331,7 @@ inline uint32_t find_peaks(__m256i *transform) {\r\n         tmp = _mm256_or_si256(tmp, _mm256_and_si256(vect_mask, transform[i]));\r\n     }\r\n     result = 0;\r\n+#pragma GCC unroll 16\r\n     for (size_t i = 0; i < 16; i++) {\r\n         mask = ~(uint32_t) ((-(int64_t)(i ^ message % 16)) >> 63);\r\n         result |= mask & ((uint16_t *)&tmp)[i];\r\n```\r\nThis GCC error is obscure but while experimenting with an idea of replacing this array indexed access with `_mm256_extract_epi16` which requires index to be immediate value I tried to achieve the same property of the index just for the casted array index i` by unrolling the loops and it's worked.\r\n\r\nWith this patch (and LTO disabled) it builds `0.7.1` without errors and the tests do not fail.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1173054322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-07-03T10:23:43Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"22669769404","type":"IssueCommentEvent","actor":{"id":82881725,"login":"evil-user","display_login":"evil-user","gravatar_id":"","url":"https://api.github.com/users/evil-user","avatar_url":"https://avatars.githubusercontent.com/u/82881725?"},"repo":{"id":162497174,"name":"open-quantum-safe/liboqs-python","url":"https://api.github.com/repos/open-quantum-safe/liboqs-python"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-python/issues/53","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs-python","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs-python/issues/53/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs-python/issues/53/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs-python/issues/53/events","html_url":"https://github.com/open-quantum-safe/liboqs-python/issues/53","id":1292085769,"node_id":"I_kwDOCa-Cls5NA6oJ","number":53,"title":"giving set PATH=\"%PATH%;C:\\some\\dir\\liboqs\\build\\bin\" on windows cmd.exe stops py.exe nodejs from working properly.","user":{"login":"evil-user","id":82881725,"node_id":"MDQ6VXNlcjgyODgxNzI1","avatar_url":"https://avatars.githubusercontent.com/u/82881725?v=4","gravatar_id":"","url":"https://api.github.com/users/evil-user","html_url":"https://github.com/evil-user","followers_url":"https://api.github.com/users/evil-user/followers","following_url":"https://api.github.com/users/evil-user/following{/other_user}","gists_url":"https://api.github.com/users/evil-user/gists{/gist_id}","starred_url":"https://api.github.com/users/evil-user/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/evil-user/subscriptions","organizations_url":"https://api.github.com/users/evil-user/orgs","repos_url":"https://api.github.com/users/evil-user/repos","events_url":"https://api.github.com/users/evil-user/events{/privacy}","received_events_url":"https://api.github.com/users/evil-user/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-07-02T16:03:33Z","updated_at":"2022-07-03T12:38:43Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"in liboqs-python docs it is given to set PATH=\"%PATH%;C:\\some\\dir\\liboqs\\build\\bin\" on windows to make use of liboqs shared library.\r\n\r\ni placed liboqs.dll cross compiled on ubuntu on my windows desktop .\r\n\r\ni opened cmd.exe\r\ngave node --help\r\npy (to start python)\r\n\r\neverything worked . then:-\r\ni gave set PATH=\"%PATH%;C:\\Users\\eviluser\\Desktop\"\r\n\r\nthen tried node --help and py\r\nit shows node is not recognised similar error with python on windows too.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-python/issues/53/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs-python/issues/53/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-python/issues/comments/1173075794","html_url":"https://github.com/open-quantum-safe/liboqs-python/issues/53#issuecomment-1173075794","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs-python/issues/53","id":1173075794,"node_id":"IC_kwDOCa-Cls5F67dS","user":{"login":"evil-user","id":82881725,"node_id":"MDQ6VXNlcjgyODgxNzI1","avatar_url":"https://avatars.githubusercontent.com/u/82881725?v=4","gravatar_id":"","url":"https://api.github.com/users/evil-user","html_url":"https://github.com/evil-user","followers_url":"https://api.github.com/users/evil-user/followers","following_url":"https://api.github.com/users/evil-user/following{/other_user}","gists_url":"https://api.github.com/users/evil-user/gists{/gist_id}","starred_url":"https://api.github.com/users/evil-user/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/evil-user/subscriptions","organizations_url":"https://api.github.com/users/evil-user/orgs","repos_url":"https://api.github.com/users/evil-user/repos","events_url":"https://api.github.com/users/evil-user/events{/privacy}","received_events_url":"https://api.github.com/users/evil-user/received_events","type":"User","site_admin":false},"created_at":"2022-07-03T12:38:43Z","updated_at":"2022-07-03T12:38:43Z","author_association":"NONE","body":"@baentsch hope this screenshots might help .\r\n![error](https://user-images.githubusercontent.com/82881725/177040035-d9185b51-9699-4e64-b5b5-590872904c43.png)\r\n![e](https://user-images.githubusercontent.com/82881725/177040043-be3e701d-c8be-49b0-9f84-4010647b943a.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-python/issues/comments/1173075794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-07-03T12:38:44Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"22670928341","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":288761656,"name":"open-quantum-safe/profiling","url":"https://api.github.com/repos/open-quantum-safe/profiling"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/75","repository_url":"https://api.github.com/repos/open-quantum-safe/profiling","labels_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/75/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/75/comments","events_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/75/events","html_url":"https://github.com/open-quantum-safe/profiling/issues/75","id":1289054722,"node_id":"I_kwDOETYnOM5M1WoC","number":75,"title":"Add non-PQ as a baseline","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2022-06-29T17:37:37Z","updated_at":"2022-07-03T15:40:53Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"It would be useful to have performance numbers for non-PQ algorithms as a baseline comparison. This is present in some of the profiling operations but not all (e.g., handshake performance).  This would include both non-PQ key exchange and non-PQ signatures.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/75/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/75/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/comments/1173123791","html_url":"https://github.com/open-quantum-safe/profiling/issues/75#issuecomment-1173123791","issue_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/75","id":1173123791,"node_id":"IC_kwDOETYnOM5F7HLP","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2022-07-03T15:40:53Z","updated_at":"2022-07-03T15:40:53Z","author_association":"MEMBER","body":"For key exchange: some subset of nistp256, nistp384, x25519, x448. For signatures: some subset of RSA 2048, RSA 3072, ECDSA nistp256, ECDSA nistp384, Ed25519, Ed448.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/comments/1173123791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-07-03T15:40:53Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"22671301614","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":162497174,"name":"open-quantum-safe/liboqs-python","url":"https://api.github.com/repos/open-quantum-safe/liboqs-python"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-python/issues/53","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs-python","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs-python/issues/53/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs-python/issues/53/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs-python/issues/53/events","html_url":"https://github.com/open-quantum-safe/liboqs-python/issues/53","id":1292085769,"node_id":"I_kwDOCa-Cls5NA6oJ","number":53,"title":"giving set PATH=\"%PATH%;C:\\some\\dir\\liboqs\\build\\bin\" on windows cmd.exe stops py.exe nodejs from working properly.","user":{"login":"evil-user","id":82881725,"node_id":"MDQ6VXNlcjgyODgxNzI1","avatar_url":"https://avatars.githubusercontent.com/u/82881725?v=4","gravatar_id":"","url":"https://api.github.com/users/evil-user","html_url":"https://github.com/evil-user","followers_url":"https://api.github.com/users/evil-user/followers","following_url":"https://api.github.com/users/evil-user/following{/other_user}","gists_url":"https://api.github.com/users/evil-user/gists{/gist_id}","starred_url":"https://api.github.com/users/evil-user/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/evil-user/subscriptions","organizations_url":"https://api.github.com/users/evil-user/orgs","repos_url":"https://api.github.com/users/evil-user/repos","events_url":"https://api.github.com/users/evil-user/events{/privacy}","received_events_url":"https://api.github.com/users/evil-user/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-07-02T16:03:33Z","updated_at":"2022-07-03T16:44:57Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"in liboqs-python docs it is given to set PATH=\"%PATH%;C:\\some\\dir\\liboqs\\build\\bin\" on windows to make use of liboqs shared library.\r\n\r\ni placed liboqs.dll cross compiled on ubuntu on my windows desktop .\r\n\r\ni opened cmd.exe\r\ngave node --help\r\npy (to start python)\r\n\r\neverything worked . then:-\r\ni gave set PATH=\"%PATH%;C:\\Users\\eviluser\\Desktop\"\r\n\r\nthen tried node --help and py\r\nit shows node is not recognised similar error with python on windows too.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-python/issues/53/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs-python/issues/53/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-python/issues/comments/1173133794","html_url":"https://github.com/open-quantum-safe/liboqs-python/issues/53#issuecomment-1173133794","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs-python/issues/53","id":1173133794,"node_id":"IC_kwDOCa-Cls5F7Jni","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2022-07-03T16:44:57Z","updated_at":"2022-07-03T16:44:57Z","author_association":"MEMBER","body":"The contents of %PATH% cannot be read in the above. I also don't see what (else) is in `/Users/dev/desktop`. Can you confirm that `node` works OK when `liboqs.dll` is not in that directory? \r\n\r\nAlso, what's happening with `python`? If that fails in the same form (?) this _cannot_ have anything to do with `liboqs` as only an \"import\" instruction would (try to) load `liboqs.dll`.\r\n\r\nTo me this looks very much like a Windows setup problem for which I am absolutely no expert. ","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-python/issues/comments/1173133794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2022-07-03T16:44:57Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
