{"id":"21315330347","type":"IssuesEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"closed","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/365","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/365/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/365/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/365/events","html_url":"https://github.com/open-quantum-safe/openssl/issues/365","id":1203006774,"node_id":"I_kwDOA_fpb85HtG02","number":365,"title":"Issues of s_time function in real environment testing ","user":{"login":"judowha","id":60347669,"node_id":"MDQ6VXNlcjYwMzQ3NjY5","avatar_url":"https://avatars.githubusercontent.com/u/60347669?v=4","gravatar_id":"","url":"https://api.github.com/users/judowha","html_url":"https://github.com/judowha","followers_url":"https://api.github.com/users/judowha/followers","following_url":"https://api.github.com/users/judowha/following{/other_user}","gists_url":"https://api.github.com/users/judowha/gists{/gist_id}","starred_url":"https://api.github.com/users/judowha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/judowha/subscriptions","organizations_url":"https://api.github.com/users/judowha/orgs","repos_url":"https://api.github.com/users/judowha/repos","events_url":"https://api.github.com/users/judowha/events{/privacy}","received_events_url":"https://api.github.com/users/judowha/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2022-04-13T09:02:00Z","updated_at":"2022-04-16T07:03:47Z","closed_at":"2022-04-16T07:03:47Z","author_association":"NONE","active_lock_reason":null,"body":"I am testing the performance of **mutual TLS connection** with hybrid certificates on AWS EC2. The certificate chain of a test group is created in this way: \r\n```\r\nRootCA\r\n├── SecondCA\r\n│   └──server certificate\r\n└── ThirdCA\r\n     └── client certificate\r\n```\r\nThe signature algorithms used by RootCA, SecondCA, and ThirdCA are the same. \r\n\r\nI create many groups with different hybrid algorithms: rsa3072_dilithium2, rsa3072_dilithium2_aes, rsa3072_falcon512, p256_dilithium2, p256_dilithium2_aes, p256_falcon512, p384_dilithium3, p384_dilithium3_aes, p521_dilithium5, p521_dilithium5_aes, p521_falcon1024.\r\n\r\nI first start the sever on AWS EC2 instance:\r\n`openssl s_server -key $1_test/server/server.key -cert_chain $1_test/secondCA/demoCA/secondCA.pem  -cert $1_test/server/server.pem -accept $2 -CAfile $1_test/client/client_chain.pem -verify_return_error -Verify 2 -state -WWW ` \r\n\r\nThen I will run `s_client` on local to test the connection:\r\n`openssl s_client -key $1_test/client/client.key  -cert $1_test/client/client.pem -connect ec2_ip:$2 -CAfile $1_test/rootCA/demoCA/root.pem -verify_return_error -state`\r\n**The connection tests using `s_client` are ok for all groups. Therefore, I think the created certificate chain should be right**\r\n\r\nFinally I run `s_time` on local to test the performance:\r\n`openssl s_time -key $1_test/client/client.key -cert $1_test/client/client.pem -connect ec2_ip:$2 -CAfile $1_test/rootCA/demoCA/root.pem -new`\r\nThe performance test using `s_time` for RSA combined algorithms are working well. **However, many problems for P256 combined algorithms.** \r\n\r\n- For  p256_dilithium2 and p256_dilithium2_aes, the server could not receive early data\r\n![Screenshot from 2022-04-13 11-18-40](https://user-images.githubusercontent.com/60347669/163135545-92e379c6-1a97-4dea-9c63-8a73e5ac1c14.png)\r\n- For p384_dilithium3, p384_dilithium3_aes, p521_dilithium5, p521_dilithium5_aes, and p521_falcon1024. The server have problem in reading client's certificate\r\n![Screenshot from 2022-04-13 15-35-25](https://user-images.githubusercontent.com/60347669/163136765-16c79c71-6bf7-4963-8607-60c2d695999d.png)\r\n\r\nI am not sure the problems happans because of my mistakes or it is the problem of `s_time` function. Thanks a lot if anyone would like to help me! \r\n\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/365/timeline","performed_via_github_app":null}},"public":true,"created_at":"2022-04-16T07:03:47Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
