{"id":"14332160248","type":"IssuesEvent","actor":{"id":5923577,"login":"mouse07410","display_login":"mouse07410","gravatar_id":"","url":"https://api.github.com/users/mouse07410","avatar_url":"https://avatars.githubusercontent.com/u/5923577?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"opened","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/852","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/852/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/852/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/852/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/852","id":751923333,"node_id":"MDU6SXNzdWU3NTE5MjMzMzM=","number":852,"title":"Current \"main\" branch: tests hang at 99%","user":{"login":"mouse07410","id":5923577,"node_id":"MDQ6VXNlcjU5MjM1Nzc=","avatar_url":"https://avatars1.githubusercontent.com/u/5923577?v=4","gravatar_id":"","url":"https://api.github.com/users/mouse07410","html_url":"https://github.com/mouse07410","followers_url":"https://api.github.com/users/mouse07410/followers","following_url":"https://api.github.com/users/mouse07410/following{/other_user}","gists_url":"https://api.github.com/users/mouse07410/gists{/gist_id}","starred_url":"https://api.github.com/users/mouse07410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mouse07410/subscriptions","organizations_url":"https://api.github.com/users/mouse07410/orgs","repos_url":"https://api.github.com/users/mouse07410/repos","events_url":"https://api.github.com/users/mouse07410/events{/privacy}","received_events_url":"https://api.github.com/users/mouse07410/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-11-27T01:29:44Z","updated_at":"2020-11-27T01:29:44Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"MacOS Catalina 10.15.7, Xcode-12.2.\r\n\r\nConfig:\r\n```\r\nenv RUN_TESTS_PARALLEL_UPPER=FALSE cmake -GNinja .. -DOQS_USE_OPENSSL=ON -DOQS_USE_CPU_EXTENSIONS=ON -DBUILD_SHARED_LIBS=OFF -DCMAKE_INSTALL_PREFIX=/opt/local -DOQS_KEM_DEFAULT=\"OQS_KEM_alg_ntru_hps4096821\" -DOQS_SIG_DEFAULT=\"OQS_SIG_alg_falcon_1024\" -DCMAKE_BUILD_TYPE=Release\r\n```\r\n\r\nRun tests:\r\n```\r\n$ ninja run_tests\r\n[0/1] cd /Users/ur20980/src/liboqs && python3 -m pytest --verbose --numprocesses=auto\r\n======================================== test session starts ========================================\r\nplatform darwin -- Python 3.8.6, pytest-6.1.1, py-1.9.0, pluggy-0.13.1 -- /opt/local/bin/python3\r\ncachedir: .pytest_cache\r\nrootdir: /Users/ur20980/src/liboqs\r\nplugins: xdist-2.1.0, forked-1.3.0\r\ngw0 I / gw1 I / gw2 I / gw3 I / gw4 I / gw5 I / gw6 I / gw7 I / gw8 I / gw9 I / gw10 I / gw11 I / gw1[gw0] darwin Python 3.8.6 cwd: /Users/ur20980/src/liboqs                                                                                                               \r\ngw0 C / gw1 I / gw2 I / gw3 I / gw4 I / gw5 I / gw6 I / gw7 I / gw8 I / gw9 I / gw10 I / gw11 I / gw1[gw1] darwin Python 3.8.6 cwd: /Users/ur20980/src/liboqs\r\n.  .  .  .  .\r\ngw0 [380] / gw1 [380] / gw2 [380] / gw3 [380] / gw4 [380] / gw5 [380] / gw6 [380] / gw7 [380] / gw8 [380] / gw9 [380] / gw10 [380] / gw11 [380] / gw12 [380] / gw13 [380] / gw14 [380] / gw15 [380] / gw16 [380] / gw17 [380] / gw18 [380] / gw19 [380]\r\nscheduling tests via LoadScheduling\r\n\r\ntests/test_cmdline.py::test_examples[example_sig] \r\ntests/test_cmdline.py::test_kem[BIKE1-L3-CPA] \r\ntests/test_cmdline.py::test_kem[Classic-McEliece-6960119f] \r\ntests/test_cmdline.py::test_kem[HQC-192] \r\ntests/test_cmdline.py::test_kem[Classic-McEliece-8192128] \r\n.  .  .  .  .\r\ntests/test_cmdline.py::test_kem[Classic-McEliece-6688128] \r\ntests/test_cmdline.py::test_kem[Classic-McEliece-6960119] \r\n[gw19] [  0%] PASSED tests/test_cmdline.py::test_kem[Kyber512] \r\n[gw1] [  0%] PASSED tests/test_cmdline.py::test_examples[example_sig] \r\n[gw16] [  0%] PASSED tests/test_cmdline.py::test_kem[HQC-128] \r\ntests/test_cmdline.py::test_kem[FrodoKEM-640-SHAKE] \r\ntests/test_cmdline.py::test_kem[Saber-KEM] \r\n[gw0] [  1%] PASSED tests/test_cmdline.py::test_examples[example_kem] \r\n.  .  .  .  .\r\n[gw7] [ 99%] PASSED tests/test_kat.py::test_sig[Rainbow-Vc-Cyclic] \r\n[gw15] [ 99%] PASSED tests/test_kat.py::test_sig[Rainbow-Vc-Cyclic-Compressed] ^C\r\n\r\n!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! KeyboardInterrupt !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n/opt/local/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/threading.py:306: KeyboardInterrupt\r\n(to show a full traceback on KeyboardInterrupt use --full-trace)\r\n============================ 370 passed, 8 skipped in 8214.62s (2:16:54) ============================\r\nninja: build stopped: interrupted by user.\r\n```","performed_via_github_app":null}},"public":true,"created_at":"2020-11-27T01:29:45Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"14339376358","type":"IssuesEvent","actor":{"id":58693588,"login":"pqfan","display_login":"pqfan","gravatar_id":"","url":"https://api.github.com/users/pqfan","avatar_url":"https://avatars.githubusercontent.com/u/58693588?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"opened","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/261","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/261/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/261/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/261/events","html_url":"https://github.com/open-quantum-safe/openssl/issues/261","id":752358550,"node_id":"MDU6SXNzdWU3NTIzNTg1NTA=","number":261,"title":"How to set the new algorithms when building on Windows 10","user":{"login":"pqfan","id":58693588,"node_id":"MDQ6VXNlcjU4NjkzNTg4","avatar_url":"https://avatars1.githubusercontent.com/u/58693588?v=4","gravatar_id":"","url":"https://api.github.com/users/pqfan","html_url":"https://github.com/pqfan","followers_url":"https://api.github.com/users/pqfan/followers","following_url":"https://api.github.com/users/pqfan/following{/other_user}","gists_url":"https://api.github.com/users/pqfan/gists{/gist_id}","starred_url":"https://api.github.com/users/pqfan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pqfan/subscriptions","organizations_url":"https://api.github.com/users/pqfan/orgs","repos_url":"https://api.github.com/users/pqfan/repos","events_url":"https://api.github.com/users/pqfan/events{/privacy}","received_events_url":"https://api.github.com/users/pqfan/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-11-27T16:23:28Z","updated_at":"2020-11-27T16:23:28Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Does nmake generate_crypto_objects work well when working on Windows 10? Or what is the other building alternative?\r\n\r\nThank you!","performed_via_github_app":null}},"public":true,"created_at":"2020-11-27T16:23:28Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"14340870424","type":"IssuesEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"closed","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/256","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/256/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/256/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/256/events","html_url":"https://github.com/open-quantum-safe/openssl/issues/256","id":747752315,"node_id":"MDU6SXNzdWU3NDc3NTIzMTU=","number":256,"title":"set_curves_list fails with more than one entry","user":{"login":"crest42","id":10732757,"node_id":"MDQ6VXNlcjEwNzMyNzU3","avatar_url":"https://avatars3.githubusercontent.com/u/10732757?v=4","gravatar_id":"","url":"https://api.github.com/users/crest42","html_url":"https://github.com/crest42","followers_url":"https://api.github.com/users/crest42/followers","following_url":"https://api.github.com/users/crest42/following{/other_user}","gists_url":"https://api.github.com/users/crest42/gists{/gist_id}","starred_url":"https://api.github.com/users/crest42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/crest42/subscriptions","organizations_url":"https://api.github.com/users/crest42/orgs","repos_url":"https://api.github.com/users/crest42/repos","events_url":"https://api.github.com/users/crest42/events{/privacy}","received_events_url":"https://api.github.com/users/crest42/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-11-20T19:48:59Z","updated_at":"2020-11-27T20:06:09Z","closed_at":"2020-11-27T20:06:09Z","author_association":"NONE","active_lock_reason":null,"body":"Hi everyone,\r\n\r\nIt seems, that the NTRU-Prime PR (#251 ) broke the implementation for me. After applying 094324c14 OpenSSL fails when setting the curve list. It works when only one entry is defined and breaks as soon as a second entry is added. Example:\r\n```\r\nopenssl s_server -cert p384_CA.crt -key p384.key -curves bike1l3cpa\r\nUsing default temp DH parameters\r\nACCEPT\r\n\r\nopenssl s_server -cert p384_CA.crt -key p384.key -curves bike1l3cpa:p384_bike1l3cpa             \r\nError with command: \"-curves bike1l3cpa:p384_bike1l3cpa\"           \r\n```\r\n\r\nAfter a little bit of debugging it seems that the problem is the duplicate check in tls1_set_groups in ssl/t1_lib.c.\r\n\r\nBefore 094324c14 the following line always results in 0:\r\nidmask = 1L << id;\r\n\r\nThis seems weird since the id returned by ```tls1_nid2group_id```, is an index in [0,31] for classical algos and the curve_id for PQ algos. Since the curve_id usually is much higher than 31 this should result in undefined behavior.\r\n\r\nSadly, IMHO there is not trivial fix available, since all values until 31 are already used by the classical algorithms from OpenSSL. Further, the id is stored in the resulting group list and is needed in the format as described above. \r\n \r\nI have designed a rather ugly fix, with the aim to preserve as much compatibility as possible. I will link this issue in the PR.\r\n\r\nCheers,\r\nRobin","performed_via_github_app":null}},"public":true,"created_at":"2020-11-27T20:06:10Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
