{"id":"12560395602","type":"IssueCommentEvent","actor":{"id":37942667,"login":"GlitchedPolygons","display_login":"GlitchedPolygons","gravatar_id":"","url":"https://api.github.com/users/GlitchedPolygons","avatar_url":"https://avatars.githubusercontent.com/u/37942667?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/762","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/762/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/762/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/762/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/762","id":630668340,"node_id":"MDExOlB1bGxSZXF1ZXN0NDI3NzExNjQ1","number":762,"title":"Allowing cmake to export project targets","user":{"login":"onavratil-monetplus","id":64248330,"node_id":"MDQ6VXNlcjY0MjQ4MzMw","avatar_url":"https://avatars1.githubusercontent.com/u/64248330?v=4","gravatar_id":"","url":"https://api.github.com/users/onavratil-monetplus","html_url":"https://github.com/onavratil-monetplus","followers_url":"https://api.github.com/users/onavratil-monetplus/followers","following_url":"https://api.github.com/users/onavratil-monetplus/following{/other_user}","gists_url":"https://api.github.com/users/onavratil-monetplus/gists{/gist_id}","starred_url":"https://api.github.com/users/onavratil-monetplus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onavratil-monetplus/subscriptions","organizations_url":"https://api.github.com/users/onavratil-monetplus/orgs","repos_url":"https://api.github.com/users/onavratil-monetplus/repos","events_url":"https://api.github.com/users/onavratil-monetplus/events{/privacy}","received_events_url":"https://api.github.com/users/onavratil-monetplus/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-06-04T09:35:55Z","updated_at":"2020-06-07T22:00:31Z","closed_at":null,"author_association":"NONE","pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/762","html_url":"https://github.com/open-quantum-safe/liboqs/pull/762","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/762.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/762.patch"},"body":"Hello there,\r\nI made a small tweak that allows inclusion of liboqs into other cmake projects using `add_subdirectory` and other funny tools.\r\n\r\nSo far, liboqs doesnt export any of its targets, and thus makes it more difficult to link against in other projects. This simple fix allows something like this to happen in a custom project:\r\n```cmake\r\nFetchContent_Declare(liboqs\r\n    GIT_REPOSITORY https://github.com/onavratil-monetplus/liboqs\r\n)\r\nmessage(STATUS  \"Fetching liboqs...this may take a while\")\r\nFetchContent_MakeAvailable(liboqs)\r\n# ....\r\n\r\ntarget_link_libraries(myCustomTarget PUBLIC OQS::oqs)\r\n```\r\nAnd boom! There we go, no need to install the lib system-wide prior to project build, allows to use static version of the lib etc etc etc.\r\n\r\nNow I am nothing for a cmake professional, but this solution works nicely for me, and hopefully can help someone else as well.\r\n\r\nOn a footnote, the fix is based on a discussion regarding my desparate attempts to use cmake.\r\nhttps://stackoverflow.com/questions/61504626/the-cmake-quandary"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/640286273","html_url":"https://github.com/open-quantum-safe/liboqs/pull/762#issuecomment-640286273","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/762","id":640286273,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDI4NjI3Mw==","user":{"login":"GlitchedPolygons","id":37942667,"node_id":"MDQ6VXNlcjM3OTQyNjY3","avatar_url":"https://avatars3.githubusercontent.com/u/37942667?v=4","gravatar_id":"","url":"https://api.github.com/users/GlitchedPolygons","html_url":"https://github.com/GlitchedPolygons","followers_url":"https://api.github.com/users/GlitchedPolygons/followers","following_url":"https://api.github.com/users/GlitchedPolygons/following{/other_user}","gists_url":"https://api.github.com/users/GlitchedPolygons/gists{/gist_id}","starred_url":"https://api.github.com/users/GlitchedPolygons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GlitchedPolygons/subscriptions","organizations_url":"https://api.github.com/users/GlitchedPolygons/orgs","repos_url":"https://api.github.com/users/GlitchedPolygons/repos","events_url":"https://api.github.com/users/GlitchedPolygons/events{/privacy}","received_events_url":"https://api.github.com/users/GlitchedPolygons/received_events","type":"User","site_admin":false},"created_at":"2020-06-07T22:00:31Z","updated_at":"2020-06-07T22:00:31Z","author_association":"NONE","body":"üëç "}},"public":true,"created_at":"2020-06-07T22:00:31Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"12560491717","type":"IssueCommentEvent","actor":{"id":42321696,"login":"grassnick","display_login":"grassnick","gravatar_id":"","url":"https://api.github.com/users/grassnick","avatar_url":"https://avatars.githubusercontent.com/u/42321696?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/762","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/762/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/762/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/762/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/762","id":630668340,"node_id":"MDExOlB1bGxSZXF1ZXN0NDI3NzExNjQ1","number":762,"title":"Allowing cmake to export project targets","user":{"login":"onavratil-monetplus","id":64248330,"node_id":"MDQ6VXNlcjY0MjQ4MzMw","avatar_url":"https://avatars1.githubusercontent.com/u/64248330?v=4","gravatar_id":"","url":"https://api.github.com/users/onavratil-monetplus","html_url":"https://github.com/onavratil-monetplus","followers_url":"https://api.github.com/users/onavratil-monetplus/followers","following_url":"https://api.github.com/users/onavratil-monetplus/following{/other_user}","gists_url":"https://api.github.com/users/onavratil-monetplus/gists{/gist_id}","starred_url":"https://api.github.com/users/onavratil-monetplus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/onavratil-monetplus/subscriptions","organizations_url":"https://api.github.com/users/onavratil-monetplus/orgs","repos_url":"https://api.github.com/users/onavratil-monetplus/repos","events_url":"https://api.github.com/users/onavratil-monetplus/events{/privacy}","received_events_url":"https://api.github.com/users/onavratil-monetplus/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-06-04T09:35:55Z","updated_at":"2020-06-07T22:19:45Z","closed_at":null,"author_association":"NONE","pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/762","html_url":"https://github.com/open-quantum-safe/liboqs/pull/762","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/762.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/762.patch"},"body":"Hello there,\r\nI made a small tweak that allows inclusion of liboqs into other cmake projects using `add_subdirectory` and other funny tools.\r\n\r\nSo far, liboqs doesnt export any of its targets, and thus makes it more difficult to link against in other projects. This simple fix allows something like this to happen in a custom project:\r\n```cmake\r\nFetchContent_Declare(liboqs\r\n    GIT_REPOSITORY https://github.com/onavratil-monetplus/liboqs\r\n)\r\nmessage(STATUS  \"Fetching liboqs...this may take a while\")\r\nFetchContent_MakeAvailable(liboqs)\r\n# ....\r\n\r\ntarget_link_libraries(myCustomTarget PUBLIC OQS::oqs)\r\n```\r\nAnd boom! There we go, no need to install the lib system-wide prior to project build, allows to use static version of the lib etc etc etc.\r\n\r\nNow I am nothing for a cmake professional, but this solution works nicely for me, and hopefully can help someone else as well.\r\n\r\nOn a footnote, the fix is based on a discussion regarding my desparate attempts to use cmake.\r\nhttps://stackoverflow.com/questions/61504626/the-cmake-quandary"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/640288299","html_url":"https://github.com/open-quantum-safe/liboqs/pull/762#issuecomment-640288299","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/762","id":640288299,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDI4ODI5OQ==","user":{"login":"grassnick","id":42321696,"node_id":"MDQ6VXNlcjQyMzIxNjk2","avatar_url":"https://avatars3.githubusercontent.com/u/42321696?v=4","gravatar_id":"","url":"https://api.github.com/users/grassnick","html_url":"https://github.com/grassnick","followers_url":"https://api.github.com/users/grassnick/followers","following_url":"https://api.github.com/users/grassnick/following{/other_user}","gists_url":"https://api.github.com/users/grassnick/gists{/gist_id}","starred_url":"https://api.github.com/users/grassnick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grassnick/subscriptions","organizations_url":"https://api.github.com/users/grassnick/orgs","repos_url":"https://api.github.com/users/grassnick/repos","events_url":"https://api.github.com/users/grassnick/events{/privacy}","received_events_url":"https://api.github.com/users/grassnick/received_events","type":"User","site_admin":false},"created_at":"2020-06-07T22:19:45Z","updated_at":"2020-06-07T22:19:45Z","author_association":"NONE","body":"This does not work when specifying `CMAKE_INSTALL_PREFIX`.\r\n\r\nI have to add `include(GNUInstallDirs)`  before installing to `CMAKE_INSTALL_FULL_LIBDIR` for it to work correctly, see  https://cmake.org/cmake/help/v3.17/module/GNUInstallDirs.html and https://cmake.org/cmake/help/v3.17/command/install.html#installing-files.\r\n\r\nOS: Arch Linux, CMake Version 3.17.3\r\n"}},"public":true,"created_at":"2020-06-07T22:19:45Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
