{"id":"13648104302","type":"IssuesEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":288761656,"name":"open-quantum-safe/speed","url":"https://api.github.com/repos/open-quantum-safe/speed"},"payload":{"action":"opened","issue":{"url":"https://api.github.com/repos/open-quantum-safe/speed/issues/6","repository_url":"https://api.github.com/repos/open-quantum-safe/speed","labels_url":"https://api.github.com/repos/open-quantum-safe/speed/issues/6/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/speed/issues/6/comments","events_url":"https://api.github.com/repos/open-quantum-safe/speed/issues/6/events","html_url":"https://github.com/open-quantum-safe/speed/issues/6","id":709447805,"node_id":"MDU6SXNzdWU3MDk0NDc4MDU=","number":6,"title":"AWS performance variances","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars1.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-09-26T07:19:54Z","updated_at":"2020-09-26T07:19:54Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"There are some surprising performance differences when running the performance container (openquantumsafe/oqs-perf) in AWS EC2 manually and under cron control.\r\n\r\nAWS manual run (`docker run -it openquantumsafe/oqs-perf /opt/oqssa/bin/speed_sig`)\r\n```\r\n[ec2-user@ip-10-0-0-13 ~]$ docker run -it openquantumsafe/oqs-perf /opt/oqssa/bin/speed_sig\r\nConfiguration info\r\n==================\r\nTarget platform:  x86_64-Linux-5.4.0-47-generic\r\nCompiler:         gcc (9.3.0)\r\nCompile options:  [-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prototypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-O3;-fomit-frame-pointer;-fdata-sections;-ffunction-sections;-Wl,--gc-sections;-Wbad-function-cast]\r\nOQS version:      0.4.0\r\nGit commit:       1d08c9d6ab696c9d50e36231447d56ddc05735d6\r\nOpenSSL enabled:  Yes (OpenSSL 1.1.1g  21 Apr 2020)\r\nAES:              OpenSSL\r\nSHA-2:            OpenSSL\r\nSHA-3:            OpenSSL\r\nCPU exts active:  AES-AVX-AVX2-BMI-BMI2-POPCNT-SSE-SSE2-SSE3\r\n\r\nSpeed test\r\n==========\r\nStarted at 2020-09-26 07:05:36\r\nOperation                      | Iterations | Total time (s) | Time (us): mean | pop. stdev | CPU cycles: mean          | pop. stdev\r\n------------------------------ | ----------:| --------------:| ---------------:| ----------:| -------------------------:| ----------:\r\nDILITHIUM_2                    |            |                |                 |            |                           |           \r\nkeypair                        |      29931 |          3.000 |         100.233 |     26.477 |                    288371 |      76397\r\nsign                           |       5779 |          3.000 |         519.196 |    384.120 |                   1503404 |    1113889\r\nverify                         |      30073 |          3.000 |          99.759 |      2.062 |                    287081 |       5693\r\nDILITHIUM_2                    |            |                |                 |            |                           |           \r\nkeypair                        |      31144 |          3.000 |          96.329 |      1.896 |                    277202 |       5273\r\nsign                           |       5769 |          3.000 |         520.023 |    367.729 |                   1505764 |    1066415\r\nverify                         |      30064 |          3.000 |          99.789 |      1.827 |                    287174 |       4989\r\nDILITHIUM_3                    |            |                |                 |            |                           |           \r\nkeypair                        |      21025 |          3.000 |         142.690 |      2.821 |                    411638 |       7948\r\nsign                           |       3912 |          3.000 |         766.960 |    575.565 |                   2221895 |    1669008\r\nverify                         |      19896 |          3.000 |         150.786 |     34.302 |                    435014 |      99061\r\nDILITHIUM_4                    |            |                |                 |            |                           |           \r\nkeypair                        |      15889 |          3.000 |         188.813 |      4.764 |                    545337 |      13586\r\nsign                           |       4235 |          3.002 |         708.912 |    438.295 |                   2053503 |    1270955\r\nverify                         |      15501 |          3.000 |         193.542 |      3.386 |                    559032 |       9592\r\nFalcon-512                     |            |                |                 |            |                           |           \r\nkeypair                        |        151 |          3.018 |       19985.013 |   7141.066 |                  57953387 |   20709488\r\nsign                           |        532 |          3.004 |        5647.523 |     33.441 |                  16375146 |      96541\r\nverify                         |      49284 |          3.000 |          60.873 |      1.745 |                    174499 |       4840\r\nFalcon-1024                    |            |                |                 |            |                           |           \r\nkeypair                        |         56 |          3.005 |       53657.536 |  21900.956 |                 155603090 |   63511470\r\nsign                           |        244 |          3.005 |       12315.061 |     24.312 |                  35710758 |      69744\r\nverify                         |      24929 |          3.000 |         120.342 |      2.393 |                    346854 |       6744\r\n\r\n```\r\n\r\nAWS CRON (from https://us-east-2.console.aws.amazon.com/cloudwatch/home?region=us-east-2#logEventViewer:group=oqs-speed;stream=oqs-speed%2Foqsperf%2F5971bab8-ab8e-457a-ac56-f5823580795a;start=2020-09-25T04:24:52Z)\r\n```\r\nConfiguration info\r\n==================\r\nTarget platform:  x86_64-Linux-5.4.0-47-generic\r\nCompiler:         gcc (9.3.0)\r\nCompile options:  [-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prototypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-O3;-fomit-frame-pointer;-fdata-sections;-ffunction-sections;-Wl,--gc-sections;-Wbad-function-cast]\r\nOQS version:      0.4.0\r\nGit commit:       1d08c9d6ab696c9d50e36231447d56ddc05735d6\r\nOpenSSL enabled:  Yes (OpenSSL 1.1.1g  21 Apr 2020)\r\nAES:              OpenSSL\r\nSHA-2:            OpenSSL\r\nSHA-3:            OpenSSL\r\nCPU exts active:  AES-AVX-AVX2-BMI-BMI2-POPCNT-SSE-SSE2-SSE3\r\nSpeed test\r\n==========\r\nStarted at 2020-09-26 02:51:11\r\nOperation                      | Iterations | Total time (s) | Time (us): mean | pop. stdev | CPU cycles: mean          | pop. stdev\r\n------------------------------ | ----------:| --------------:| ---------------:| ----------:| -------------------------:| ----------:\r\nDILITHIUM_2                    |            |                |                 |            |                           |           \r\nkeypair                        |       3875 |          3.000 |         774.205 |   7673.649 |                   2243411 |   22253375\r\nsign                           |        716 |          3.000 |        4190.426 |  17596.804 |                  12150367 |   51030584\r\nverify                         |       3578 |          3.000 |         838.465 |   7990.712 |                   2429622 |   23172908\r\nDILITHIUM_2                    |            |                |                 |            |                           |           \r\nkeypair                        |       3893 |          3.000 |         770.637 |   7654.745 |                   2233039 |   22198558\r\nsign                           |        712 |          3.001 |        4214.861 |  17634.441 |                  12221155 |   51139538\r\nverify                         |       3752 |          3.000 |         799.576 |   7794.350 |                   2248827 |   22221764\r\nDILITHIUM_3                    |            |                |                 |            |                           |           \r\nkeypair                        |       2683 |          3.009 |        1121.493 |   9204.791 |                   3155331 |   26244746\r\nsign                           |        468 |          3.001 |        6412.256 |  21597.235 |                  18593514 |   62631559\r\nverify                         |       2611 |          3.000 |        1149.017 |   9331.701 |                   3330303 |   27061729\r\nDILITHIUM_4                    |            |                |                 |            |                           |           \r\nkeypair                        |       1961 |          3.000 |        1529.850 |  10743.928 |                   4434616 |   31157112\r\nsign                           |        529 |          3.001 |        5672.085 |  20304.290 |                  16446986 |   58882089\r\nverify                         |       1930 |          3.000 |        1554.496 |  10828.900 |                   4506234 |   31403574\r\nFalcon-512                     |            |                |                 |            |                           |           \r\nkeypair                        |         18 |          3.202 |      177867.500 |  60619.326 |                 515813317 |  175792762\r\nsign                           |         67 |          3.093 |       46157.448 |  43652.909 |                 133853713 |  126593069\r\nverify                         |       6174 |          3.000 |         485.916 |   6085.696 |                   1407429 |   17648388\r\nFalcon-1024                    |            |                |                 |            |                           |           \r\nkeypair                        |          8 |          3.406 |      425755.500 | 110722.507 |                1234691953 |  321099133\r\nsign                           |         31 |          3.095 |       99853.806 |  22401.428 |                 289572238 |   64964560\r\nverify                         |       3095 |          3.000 |         969.308 |   8574.783 |                   2809235 |   24866673\r\n```\r\nThe execution was performed in the same AWS cluster (https://us-east-2.console.aws.amazon.com/ecs/home?region=us-east-2#/clusters/oqs-speed/scheduledTasks) with c4.large instances.","performed_via_github_app":null}},"public":true,"created_at":"2020-09-26T07:19:54Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
