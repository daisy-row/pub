{"id":"16222273330","type":"IssueCommentEvent","actor":{"id":974662,"login":"thomwiggers","display_login":"thomwiggers","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","avatar_url":"https://avatars.githubusercontent.com/u/974662?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/990","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/990/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/990/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/990/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/990","id":876485648,"node_id":"MDU6SXNzdWU4NzY0ODU2NDg=","number":990,"title":"Encaps/decaps errors for AVX2 implementation of HQC-192","user":{"login":"jschanck","id":25615540,"node_id":"MDQ6VXNlcjI1NjE1NTQw","avatar_url":"https://avatars.githubusercontent.com/u/25615540?v=4","gravatar_id":"","url":"https://api.github.com/users/jschanck","html_url":"https://github.com/jschanck","followers_url":"https://api.github.com/users/jschanck/followers","following_url":"https://api.github.com/users/jschanck/following{/other_user}","gists_url":"https://api.github.com/users/jschanck/gists{/gist_id}","starred_url":"https://api.github.com/users/jschanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jschanck/subscriptions","organizations_url":"https://api.github.com/users/jschanck/orgs","repos_url":"https://api.github.com/users/jschanck/repos","events_url":"https://api.github.com/users/jschanck/events{/privacy}","received_events_url":"https://api.github.com/users/jschanck/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":{"login":"jschanck","id":25615540,"node_id":"MDQ6VXNlcjI1NjE1NTQw","avatar_url":"https://avatars.githubusercontent.com/u/25615540?v=4","gravatar_id":"","url":"https://api.github.com/users/jschanck","html_url":"https://github.com/jschanck","followers_url":"https://api.github.com/users/jschanck/followers","following_url":"https://api.github.com/users/jschanck/following{/other_user}","gists_url":"https://api.github.com/users/jschanck/gists{/gist_id}","starred_url":"https://api.github.com/users/jschanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jschanck/subscriptions","organizations_url":"https://api.github.com/users/jschanck/orgs","repos_url":"https://api.github.com/users/jschanck/repos","events_url":"https://api.github.com/users/jschanck/events{/privacy}","received_events_url":"https://api.github.com/users/jschanck/received_events","type":"User","site_admin":false},"assignees":[{"login":"jschanck","id":25615540,"node_id":"MDQ6VXNlcjI1NjE1NTQw","avatar_url":"https://avatars.githubusercontent.com/u/25615540?v=4","gravatar_id":"","url":"https://api.github.com/users/jschanck","html_url":"https://github.com/jschanck","followers_url":"https://api.github.com/users/jschanck/followers","following_url":"https://api.github.com/users/jschanck/following{/other_user}","gists_url":"https://api.github.com/users/jschanck/gists{/gist_id}","starred_url":"https://api.github.com/users/jschanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jschanck/subscriptions","organizations_url":"https://api.github.com/users/jschanck/orgs","repos_url":"https://api.github.com/users/jschanck/repos","events_url":"https://api.github.com/users/jschanck/events{/privacy}","received_events_url":"https://api.github.com/users/jschanck/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2021-05-05T14:02:36Z","updated_at":"2021-05-06T08:09:02Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Here are some NIST DRBG seeds that reproduce the failure seen [here](https://app.circleci.com/pipelines/github/open-quantum-safe/liboqs/1456/workflows/8d44fca0-68bd-4837-8c28-06f5b146cc85/jobs/14096). \r\n\r\nI didn't run tests for very long, but I only observed failures in the AVX2 implementation of HQC-192. I did not see any failures in the reference implementation of HQC-192 or in any implementation of the other two parameter sets.\r\n\r\n``` \r\n6518FFC7BD1151BB4DCD3B9D51E172F56EA0D885181D262BFB6CCDAAECDA6D6AE2A26C49CC58D9EDE2F9307EE9A2D177\r\n\r\n73AE11F8F9B2FF972432A761867976DF73C8E0FEA9BDA8E66D96BDC50D830A0B7FE2BC1FB81638C4A7FA9786F0524697\r\n\r\n8A197C0B41FBD8D63F3902396329877C2D43E5D685581E3C7FFE1281545AC7AE76DCFB351D8FF96CA2A59697CD0B8652\r\n \r\nA4CB8C35B16DFA6D577D000C8EB6740F5069DEAD4788BB65ED645D04856E2376EF1518108D85ABC6B1C1F96E76DB50E3\r\n```\r\n","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/833323459","html_url":"https://github.com/open-quantum-safe/liboqs/issues/990#issuecomment-833323459","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/990","id":833323459,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMzMyMzQ1OQ==","user":{"login":"thomwiggers","id":974662,"node_id":"MDQ6VXNlcjk3NDY2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/974662?v=4","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","html_url":"https://github.com/thomwiggers","followers_url":"https://api.github.com/users/thomwiggers/followers","following_url":"https://api.github.com/users/thomwiggers/following{/other_user}","gists_url":"https://api.github.com/users/thomwiggers/gists{/gist_id}","starred_url":"https://api.github.com/users/thomwiggers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomwiggers/subscriptions","organizations_url":"https://api.github.com/users/thomwiggers/orgs","repos_url":"https://api.github.com/users/thomwiggers/repos","events_url":"https://api.github.com/users/thomwiggers/events{/privacy}","received_events_url":"https://api.github.com/users/thomwiggers/received_events","type":"User","site_admin":false},"created_at":"2021-05-06T08:09:02Z","updated_at":"2021-05-06T08:09:02Z","author_association":"MEMBER","body":"I'm also quickly getting failures in HQC-128 when I run multi-threaded tests. I'll try to get a seed.","performed_via_github_app":null}},"public":true,"created_at":"2021-05-06T08:09:02Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"16222616828","type":"IssueCommentEvent","actor":{"id":974662,"login":"thomwiggers","display_login":"thomwiggers","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","avatar_url":"https://avatars.githubusercontent.com/u/974662?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/990","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/990/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/990/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/990/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/990","id":876485648,"node_id":"MDU6SXNzdWU4NzY0ODU2NDg=","number":990,"title":"Encaps/decaps errors for AVX2 implementation of HQC-192","user":{"login":"jschanck","id":25615540,"node_id":"MDQ6VXNlcjI1NjE1NTQw","avatar_url":"https://avatars.githubusercontent.com/u/25615540?v=4","gravatar_id":"","url":"https://api.github.com/users/jschanck","html_url":"https://github.com/jschanck","followers_url":"https://api.github.com/users/jschanck/followers","following_url":"https://api.github.com/users/jschanck/following{/other_user}","gists_url":"https://api.github.com/users/jschanck/gists{/gist_id}","starred_url":"https://api.github.com/users/jschanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jschanck/subscriptions","organizations_url":"https://api.github.com/users/jschanck/orgs","repos_url":"https://api.github.com/users/jschanck/repos","events_url":"https://api.github.com/users/jschanck/events{/privacy}","received_events_url":"https://api.github.com/users/jschanck/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":{"login":"jschanck","id":25615540,"node_id":"MDQ6VXNlcjI1NjE1NTQw","avatar_url":"https://avatars.githubusercontent.com/u/25615540?v=4","gravatar_id":"","url":"https://api.github.com/users/jschanck","html_url":"https://github.com/jschanck","followers_url":"https://api.github.com/users/jschanck/followers","following_url":"https://api.github.com/users/jschanck/following{/other_user}","gists_url":"https://api.github.com/users/jschanck/gists{/gist_id}","starred_url":"https://api.github.com/users/jschanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jschanck/subscriptions","organizations_url":"https://api.github.com/users/jschanck/orgs","repos_url":"https://api.github.com/users/jschanck/repos","events_url":"https://api.github.com/users/jschanck/events{/privacy}","received_events_url":"https://api.github.com/users/jschanck/received_events","type":"User","site_admin":false},"assignees":[{"login":"jschanck","id":25615540,"node_id":"MDQ6VXNlcjI1NjE1NTQw","avatar_url":"https://avatars.githubusercontent.com/u/25615540?v=4","gravatar_id":"","url":"https://api.github.com/users/jschanck","html_url":"https://github.com/jschanck","followers_url":"https://api.github.com/users/jschanck/followers","following_url":"https://api.github.com/users/jschanck/following{/other_user}","gists_url":"https://api.github.com/users/jschanck/gists{/gist_id}","starred_url":"https://api.github.com/users/jschanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jschanck/subscriptions","organizations_url":"https://api.github.com/users/jschanck/orgs","repos_url":"https://api.github.com/users/jschanck/repos","events_url":"https://api.github.com/users/jschanck/events{/privacy}","received_events_url":"https://api.github.com/users/jschanck/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2021-05-05T14:02:36Z","updated_at":"2021-05-06T08:32:58Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Here are some NIST DRBG seeds that reproduce the failure seen [here](https://app.circleci.com/pipelines/github/open-quantum-safe/liboqs/1456/workflows/8d44fca0-68bd-4837-8c28-06f5b146cc85/jobs/14096). \r\n\r\nI didn't run tests for very long, but I only observed failures in the AVX2 implementation of HQC-192. I did not see any failures in the reference implementation of HQC-192 or in any implementation of the other two parameter sets.\r\n\r\n``` \r\n6518FFC7BD1151BB4DCD3B9D51E172F56EA0D885181D262BFB6CCDAAECDA6D6AE2A26C49CC58D9EDE2F9307EE9A2D177\r\n\r\n73AE11F8F9B2FF972432A761867976DF73C8E0FEA9BDA8E66D96BDC50D830A0B7FE2BC1FB81638C4A7FA9786F0524697\r\n\r\n8A197C0B41FBD8D63F3902396329877C2D43E5D685581E3C7FFE1281545AC7AE76DCFB351D8FF96CA2A59697CD0B8652\r\n \r\nA4CB8C35B16DFA6D577D000C8EB6740F5069DEAD4788BB65ED645D04856E2376EF1518108D85ABC6B1C1F96E76DB50E3\r\n```\r\n","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/833340765","html_url":"https://github.com/open-quantum-safe/liboqs/issues/990#issuecomment-833340765","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/990","id":833340765,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMzM0MDc2NQ==","user":{"login":"thomwiggers","id":974662,"node_id":"MDQ6VXNlcjk3NDY2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/974662?v=4","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","html_url":"https://github.com/thomwiggers","followers_url":"https://api.github.com/users/thomwiggers/followers","following_url":"https://api.github.com/users/thomwiggers/following{/other_user}","gists_url":"https://api.github.com/users/thomwiggers/gists{/gist_id}","starred_url":"https://api.github.com/users/thomwiggers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomwiggers/subscriptions","organizations_url":"https://api.github.com/users/thomwiggers/orgs","repos_url":"https://api.github.com/users/thomwiggers/repos","events_url":"https://api.github.com/users/thomwiggers/events{/privacy}","received_events_url":"https://api.github.com/users/thomwiggers/received_events","type":"User","site_admin":false},"created_at":"2021-05-06T08:32:57Z","updated_at":"2021-05-06T08:32:57Z","author_association":"MEMBER","body":"weirdly enough, when I have `NUM_THREADS 40` (https://gist.github.com/thomwiggers/c23e2c4e01971ccfd5496466b72a89c6) I immediately get decapsulation failed in HQC but when I run 40 parallel processes with `NUM_THREADS 1` it doesn't happen. Might be on my end then. ","performed_via_github_app":null}},"public":true,"created_at":"2021-05-06T08:32:58Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"16230374126","type":"IssueCommentEvent","actor":{"id":21228961,"login":"xvzcf","display_login":"xvzcf","gravatar_id":"","url":"https://api.github.com/users/xvzcf","avatar_url":"https://avatars.githubusercontent.com/u/21228961?"},"repo":{"id":179335992,"name":"open-quantum-safe/boringssl","url":"https://api.github.com/repos/open-quantum-safe/boringssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/62","repository_url":"https://api.github.com/repos/open-quantum-safe/boringssl","labels_url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/62/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/62/comments","events_url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/62/events","html_url":"https://github.com/open-quantum-safe/boringssl/pull/62","id":876610170,"node_id":"MDExOlB1bGxSZXF1ZXN0NjMwNzIxODIw","number":62,"title":"The branch is still master here","user":{"login":"claucece","id":8270508,"node_id":"MDQ6VXNlcjgyNzA1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/8270508?v=4","gravatar_id":"","url":"https://api.github.com/users/claucece","html_url":"https://github.com/claucece","followers_url":"https://api.github.com/users/claucece/followers","following_url":"https://api.github.com/users/claucece/following{/other_user}","gists_url":"https://api.github.com/users/claucece/gists{/gist_id}","starred_url":"https://api.github.com/users/claucece/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/claucece/subscriptions","organizations_url":"https://api.github.com/users/claucece/orgs","repos_url":"https://api.github.com/users/claucece/repos","events_url":"https://api.github.com/users/claucece/events{/privacy}","received_events_url":"https://api.github.com/users/claucece/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-05-05T16:03:54Z","updated_at":"2021-05-06T16:58:56Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/boringssl/pulls/62","html_url":"https://github.com/open-quantum-safe/boringssl/pull/62","diff_url":"https://github.com/open-quantum-safe/boringssl/pull/62.diff","patch_url":"https://github.com/open-quantum-safe/boringssl/pull/62.patch"},"body":"Or we can create a new 'main' branch.\r\n","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/comments/833687314","html_url":"https://github.com/open-quantum-safe/boringssl/pull/62#issuecomment-833687314","issue_url":"https://api.github.com/repos/open-quantum-safe/boringssl/issues/62","id":833687314,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMzY4NzMxNA==","user":{"login":"xvzcf","id":21228961,"node_id":"MDQ6VXNlcjIxMjI4OTYx","avatar_url":"https://avatars.githubusercontent.com/u/21228961?v=4","gravatar_id":"","url":"https://api.github.com/users/xvzcf","html_url":"https://github.com/xvzcf","followers_url":"https://api.github.com/users/xvzcf/followers","following_url":"https://api.github.com/users/xvzcf/following{/other_user}","gists_url":"https://api.github.com/users/xvzcf/gists{/gist_id}","starred_url":"https://api.github.com/users/xvzcf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvzcf/subscriptions","organizations_url":"https://api.github.com/users/xvzcf/orgs","repos_url":"https://api.github.com/users/xvzcf/repos","events_url":"https://api.github.com/users/xvzcf/events{/privacy}","received_events_url":"https://api.github.com/users/xvzcf/received_events","type":"User","site_admin":false},"created_at":"2021-05-06T16:58:56Z","updated_at":"2021-05-06T16:58:56Z","author_association":"MEMBER","body":"We can merge this in and do the rename when someone has spare cycles.","performed_via_github_app":null}},"public":true,"created_at":"2021-05-06T16:58:56Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"16231330669","type":"IssueCommentEvent","actor":{"id":25615540,"login":"jschanck","display_login":"jschanck","gravatar_id":"","url":"https://api.github.com/users/jschanck","avatar_url":"https://avatars.githubusercontent.com/u/25615540?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/988","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/988/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/988/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/988/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/988","id":874691709,"node_id":"MDU6SXNzdWU4NzQ2OTE3MDk=","number":988,"title":"Encaps/decaps failures with SIKE-compressed","user":{"login":"thomwiggers","id":974662,"node_id":"MDQ6VXNlcjk3NDY2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/974662?v=4","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","html_url":"https://github.com/thomwiggers","followers_url":"https://api.github.com/users/thomwiggers/followers","following_url":"https://api.github.com/users/thomwiggers/following{/other_user}","gists_url":"https://api.github.com/users/thomwiggers/gists{/gist_id}","starred_url":"https://api.github.com/users/thomwiggers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomwiggers/subscriptions","organizations_url":"https://api.github.com/users/thomwiggers/orgs","repos_url":"https://api.github.com/users/thomwiggers/repos","events_url":"https://api.github.com/users/thomwiggers/events{/privacy}","received_events_url":"https://api.github.com/users/thomwiggers/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones/15","html_url":"https://github.com/open-quantum-safe/liboqs/milestone/15","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/milestones/15/labels","id":6705636,"node_id":"MDk6TWlsZXN0b25lNjcwNTYzNg==","number":15,"title":"0.6.0 RC2","description":"","creator":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"open_issues":2,"closed_issues":0,"state":"open","created_at":"2021-04-28T00:34:19Z","updated_at":"2021-05-05T00:28:15Z","due_on":"2021-05-05T07:00:00Z","closed_at":null},"comments":10,"created_at":"2021-05-03T15:49:06Z","updated_at":"2021-05-06T18:07:02Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"I've been seeing encaps/decapsulation failures with SIKE-434-compressed.\r\n\r\nI modified `test_kem.c` to be multithreaded and use NIST-KAT's RNG:  https://gist.github.com/thomwiggers/c23e2c4e01971ccfd5496466b72a89c6\r\n\r\n\r\n```\r\nSIKE-p434-compressed\r\nConfiguration info\r\n==================\r\nTarget platform:  x86_64-Linux-5.11.16-arch1-1\r\nCompiler:         gcc (10.2.0)\r\nCompile options:  [-march=native;-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prototypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-O3;-fomit-frame-pointer;-fdata-sections;-ffunction-sections;-Wl,--gc-sections;-Wbad-function-cast]\r\nOQS version:      0.6.0-rc1\r\nGit commit:       8f8bb44c2fb8ce4b65aca2889ca2b8c11861f2cb\r\nOpenSSL enabled:  Yes (OpenSSL 1.1.1k  25 Mar 2021)\r\nAES:              OpenSSL\r\nSHA-2:            OpenSSL\r\nSHA-3:            C\r\nCPU exts compile-time:  ADX AES AVX AVX2 AVX512 BMI1 BMI2 POPCNT SSE SSE2 SSE3\r\n\r\nERROR: shared secrets are not equal\r\nentropy_input        (  48 bytes):  8B9E5F79BB0EE397C7DF04C0D6593280ADD0A92CB6F9D046738C7C0846A340529B28F78FC7CFBCE732C0C0E1031114F4\r\nshared_secret_e      (  16 bytes):  119D4BBA6CC7A3196B6CB11EDC2C5331\r\nshared_secret_d      (  16 bytes):  8BBA5DD161F22661502BE27C603B5CE4\r\nERROR: shared secrets are not equal\r\nentropy_input        (  48 bytes):  6BA56E8703B104A29E1F20D8A3D64FD9EB36CDE9A49E921B462178A86D1D8FB677902F8C61B4C488B11AD879F5FDDA67\r\nshared_secret_e      (  16 bytes):  911A05EA62C8CE15F8E88F107C810284\r\nshared_secret_d      (  16 bytes):  B6B6926F523F575BFE9C4864D6506C57\r\nERROR: shared secrets are not equal\r\nentropy_input        (  48 bytes):  FCC52CBE74090A719C44655B99623B89DE1D39C09286FCA28F7A21B468CD43A7249166DA370D68E445F1CE7F4FDB365A\r\nshared_secret_e      (  16 bytes):  F717246F5062F3C571A85ED7BB5ACC98\r\nshared_secret_d      (  16 bytes):  B8C0FC2D380DBF78338D7DFD425448AF\r\nERROR: shared secrets are not equal\r\nentropy_input        (  48 bytes):  BF65977D2084F980670C2BDC36544A486E4394944342DD09EF308D5F004732C4D15D5799F1B34FF730CF76C22BC0865F\r\nshared_secret_e      (  16 bytes):  35B19B9E4B0B8B08ECA644143B917EE7\r\nshared_secret_d      (  16 bytes):  C63B716E1640D7CB9E50099F32727F89\r\nERROR: shared secrets are not equal\r\nentropy_input        (  48 bytes):  509867683AF7141564E58616740CADEA09E127F3B688E4BC478B82E5BB6D3FFEBA5EB23C086D04098B67477C32725749\r\nshared_secret_e      (  16 bytes):  0028DA44B2E61F170421B97499D1F84B\r\nshared_secret_d      (  16 bytes):  F00B568402CAC17896EAC96F721C9DB4\r\nERROR: shared secrets are not equal\r\nentropy_input        (  48 bytes):  4C47590C30F81A7F3269B1D84673357300C3FA8C320D7EB5536F35FE90C6E806CCBDCB58F12636DB11AAA5AC18CFC5DA\r\nshared_secret_e      (  16 bytes):  A2DC81A27CB5D52B9E009C1BB0108DB9\r\nshared_secret_d      (  16 bytes):  12A2EECB020B2F36578EA5FA1B975FA0\r\nERROR: shared secrets are not equal\r\nentropy_input        (  48 bytes):  7AB5700CAF8CAC1616A1D035B8D11BE99FB9F2C86CE59D2B2EF8DBC86487388474AB54A2380D9D18B3A8BACAE1F5D939\r\nshared_secret_e      (  16 bytes):  84F16BEF4CEA85F1D6180558E12F4D75\r\nshared_secret_d      (  16 bytes):  01768B20F51CBCBEAFE00C2389717BB4\r\nERROR: shared secrets are not equal\r\nentropy_input        (  48 bytes):  62CD496D391D7FE6447A417F4466C2D9424B2DCEC6F8787D0132F33BB97EAE1CC0FF08C63A789433D98DE2BED09855AA\r\nshared_secret_e      (  16 bytes):  16733BB49A09248179772B18FD282DC6\r\nshared_secret_d      (  16 bytes):  2907E88CD3FD5BDF5AE82AC945366318\r\n```\r\n\r\nI've not yet entirely figured out how to feed the seed back in to get a reproducible-every-time version.\r\n\r\n_See discussion in https://github.com/open-quantum-safe/liboqs/issues/981_","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/833744637","html_url":"https://github.com/open-quantum-safe/liboqs/issues/988#issuecomment-833744637","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/988","id":833744637,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMzc0NDYzNw==","user":{"login":"jschanck","id":25615540,"node_id":"MDQ6VXNlcjI1NjE1NTQw","avatar_url":"https://avatars.githubusercontent.com/u/25615540?v=4","gravatar_id":"","url":"https://api.github.com/users/jschanck","html_url":"https://github.com/jschanck","followers_url":"https://api.github.com/users/jschanck/followers","following_url":"https://api.github.com/users/jschanck/following{/other_user}","gists_url":"https://api.github.com/users/jschanck/gists{/gist_id}","starred_url":"https://api.github.com/users/jschanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jschanck/subscriptions","organizations_url":"https://api.github.com/users/jschanck/orgs","repos_url":"https://api.github.com/users/jschanck/repos","events_url":"https://api.github.com/users/jschanck/events{/privacy}","received_events_url":"https://api.github.com/users/jschanck/received_events","type":"User","site_admin":false},"created_at":"2021-05-06T18:07:02Z","updated_at":"2021-05-06T18:07:02Z","author_association":"CONTRIBUTOR","body":"FYI I reproduced this with the fuzzer sometime yesterday, and I took the opportunity to dig into it a bit further. I understand that the SIKE team is working on a fix, but I think we might want to provide some input on what an acceptable fix might look like.\r\n\r\nHere's the backtrace from address sanitizer\r\n```c\r\n==520361==ERROR: AddressSanitizer: global-buffer-overflow on address 0x7fc9fa7db7f8 at pc 0x7fc9fa351cfd bp 0x7ffd915c6430 sp 0x7ffd915c6428\r\nREAD of size 8 at 0x7fc9fa7db7f8 thread T0\r\n    #0 0x7f528666ecfc in fpcopy434 src/kem/sike/external/P434/../fpx.c:95:16\r\n    #1 0x7f528668a40f in BuildEntangledXonly src/kem/sike/external/P434/../compression/torsion_basis.c:395:9\r\n    #2 0x7f52866873e3 in BuildOrdinary2nBasis_dual src/kem/sike/external/P434/../compression/torsion_basis.c:423:5\r\n    #3 0x7f528666ac1d in EphemeralKeyGeneration_B_extended src/kem/sike/external/P434/../compression/sidh_compressed.c:630:5\r\n    #4 0x7f528666c958 in OQS_KEM_sike_p434_compressed_encaps src/kem/sike/external/P434/../compression/sike_compressed.c:47:5\r\n    #5 0x7f5286aaab68 in OQS_KEM_encaps src/kem/kem.c:826:10\r\n\r\n0x7f7b064667f8 is located 0 bytes to the right of global variable 'table_r_qnr' defined in '../src/kem/sike/external/P434/P434_compressed.c:238:23' (0x7f7b06466440) of size 952\r\nSUMMARY: AddressSanitizer: global-buffer-overflow /home/john/liboqstest/build/../src/kem/sike/external/P434/../fpx.c:95:16 in fpcopy434\r\n```\r\n\r\ntable_r_qnr lists T elements of F_p (currently T=17). The BuildEntangledXonly function takes `A` in F_{p^2} as input. Lines 382-392 of torsion_basis.c find the least i for which `-A*table_r_qnr[i]` is the x-coordinate of a point on E_A. It does not do a bounds check (i < T) hence the buffer overflow.\r\n\r\nAs far as I can tell, with probability ~2^-T the table will be exhausted (maybe there's some clever way of choosing the table entries but I don't see how to avoid this). At which point the protocol should either abort or it should generate new table entries on-the-fly. The latter is somewhat computationally expensive.\r\n\r\nI think a failure-free protocol / on-the-fly generation of extra table entries is the better option. But I can also see us accepting a sufficiently large table + a bounds check.\r\n\r\nHow large a table would we want? Would we be comfortable with a 30 entry table and a 1 in a billion chance of failure?","performed_via_github_app":null}},"public":true,"created_at":"2021-05-06T18:07:02Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"16235511351","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/995","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/995/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/995/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/995/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/995","id":878063943,"node_id":"MDU6SXNzdWU4NzgwNjM5NDM=","number":995,"title":"Known non-constant time behaviour in HQC","user":{"login":"jschanck","id":25615540,"node_id":"MDQ6VXNlcjI1NjE1NTQw","avatar_url":"https://avatars.githubusercontent.com/u/25615540?v=4","gravatar_id":"","url":"https://api.github.com/users/jschanck","html_url":"https://github.com/jschanck","followers_url":"https://api.github.com/users/jschanck/followers","following_url":"https://api.github.com/users/jschanck/following{/other_user}","gists_url":"https://api.github.com/users/jschanck/gists{/gist_id}","starred_url":"https://api.github.com/users/jschanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jschanck/subscriptions","organizations_url":"https://api.github.com/users/jschanck/orgs","repos_url":"https://api.github.com/users/jschanck/repos","events_url":"https://api.github.com/users/jschanck/events{/privacy}","received_events_url":"https://api.github.com/users/jschanck/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-05-06T21:31:56Z","updated_at":"2021-05-06T23:52:47Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Our constant time test raises three issues with the \"clean\" implementation of the HQC code. I've reviewed these and I am of the opinion that they are true instances of non-constant time behaviour.\r\n\r\nI've copied a description of each issue and a link to the issue file below.\r\n\r\n---\r\n[hqc_gf_mul](https://github.com/open-quantum-safe/liboqs/blob/main/tests/constant_time/kem/issues/hqc_gf_mul)\r\n\r\nSecret-dependent indexing into the \"gf_exp\" array in line 20 of gf.c:\r\nhttps://github.com/open-quantum-safe/liboqs/blob/8981b7f33749abb027e9fe907c2f0e811c5c9048/src/kem/hqc/pqclean_hqc-rmrs-128_clean/gf.c#L16-L21\r\n\r\n---\r\n\r\n[hqc_vect_set_random_fixed_weight](https://github.com/open-quantum-safe/liboqs/blob/main/tests/constant_time/kem/issues/hqc_vect_set_random_fixed_weight)\r\n\r\nLine 90 of vector.c reveals partial information about the location of non-zero bits in a secret fixed weight vector\r\nhttps://github.com/open-quantum-safe/liboqs/blob/8981b7f33749abb027e9fe907c2f0e811c5c9048/src/kem/hqc/pqclean_hqc-rmrs-128_clean/vector.c#L82-L92\r\n\r\n---\r\n\r\n[hqc_fast_convolution_mult](https://github.com/open-quantum-safe/liboqs/blob/main/tests/constant_time/kem/issues/hqc_fast_convolution_mult)\r\n\r\nThe \"fast_convolution_mult\" routine makes secret dependent accesses to an array. It obfuscates the pattern of memory accesses by applying some permutations, but I'm not convinced that this is an adequate countermeasure.\r\nhttps://github.com/open-quantum-safe/liboqs/blob/8981b7f33749abb027e9fe907c2f0e811c5c9048/src/kem/hqc/pqclean_hqc-rmrs-128_clean/gf2x.c#L70","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/833953286","html_url":"https://github.com/open-quantum-safe/liboqs/issues/995#issuecomment-833953286","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/995","id":833953286,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMzk1MzI4Ng==","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2021-05-06T23:52:47Z","updated_at":"2021-05-06T23:52:47Z","author_association":"MEMBER","body":"Have you raised this with PQClean and/or the HQC team?","performed_via_github_app":null}},"public":true,"created_at":"2021-05-06T23:52:47Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
