{"id":"15916819533","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":288761656,"name":"open-quantum-safe/profiling","url":"https://api.github.com/repos/open-quantum-safe/profiling"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/46","repository_url":"https://api.github.com/repos/open-quantum-safe/profiling","labels_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/46/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/46/comments","events_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/46/events","html_url":"https://github.com/open-quantum-safe/profiling/issues/46","id":855520583,"node_id":"MDU6SXNzdWU4NTU1MjA1ODM=","number":46,"title":"multiarch docker image","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-04-12T04:03:18Z","updated_at":"2021-04-13T06:17:20Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"Currently, separate architectures are build/pushed to dockerhub differently: x86_64 is done automatically via CI, arm64 is built&pushed manually from an ARM64 VM. A true [multiarch docker image](https://www.docker.com/blog/multi-arch-build-and-images-the-simple-way) would be ideal.\r\nFirst tests to do both from within CCI failed: \r\n1) An ARM64 machine is [not supported out of the box](https://app.circleci.com/pipelines/github/open-quantum-safe/profiling/63/workflows/69ddb2cb-f60a-476a-86f2-3428dc369c23/jobs/66) ([request to CCI for enabling this beta facility](https://www2.circleci.com/arm-signup-customers.html) is pending)\r\n2) A qemu-based `docker buildx` [branch](https://github.com/open-quantum-safe/profiling/tree/mb-xbuild) takes _way_ to long [(and then times out)](https://app.circleci.com/pipelines/github/open-quantum-safe/profiling/65/workflows/bfe545d0-a7db-4e2a-a6df-c35fb6bc39a3).\r\n\r\nAnother approach now would be to cross-build everything and only then insert the resultant binaries to the respective architecture base docker images. This apparently only works for `liboqs` in Debian (not alpine as currently used for profiling) and requires additional investigation as to how to cross-build S3 access (for storing test run results) and OpenSSL.\r\n\r\nSuggestions/alternative ideas solicited how to achieve this goal (@jschanck ?)","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/comments/818469835","html_url":"https://github.com/open-quantum-safe/profiling/issues/46#issuecomment-818469835","issue_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/46","id":818469835,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODQ2OTgzNQ==","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2021-04-13T06:17:20Z","updated_at":"2021-04-13T06:17:20Z","author_association":"MEMBER","body":"Thanks very much - that was the right question! In case you're curious: AWS has OSSL1.0.2 by default which is why I had already moved `libcrypto.so.1.1` along with the speed_kem executable to the test VM. But clearly a Debian-cross-libcrypto isn't really suitable for a \"fedora-like\" (AWS) VM... Silly me. So, after building OSSL111k from source on the AWS VM, everything runs. So, l'll carry on with this \"complete cross build\" experiment... What does make me unhappy is that we apparently then don't get this running in Alpine (musl), right? Just to move to Debian to get multiarch images doesn't seem right ....","performed_via_github_app":null}},"public":true,"created_at":"2021-04-13T06:17:20Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"15920728833","type":"IssueCommentEvent","actor":{"id":25615540,"login":"jschanck","display_login":"jschanck","gravatar_id":"","url":"https://api.github.com/users/jschanck","avatar_url":"https://avatars.githubusercontent.com/u/25615540?"},"repo":{"id":288761656,"name":"open-quantum-safe/profiling","url":"https://api.github.com/repos/open-quantum-safe/profiling"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/46","repository_url":"https://api.github.com/repos/open-quantum-safe/profiling","labels_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/46/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/46/comments","events_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/46/events","html_url":"https://github.com/open-quantum-safe/profiling/issues/46","id":855520583,"node_id":"MDU6SXNzdWU4NTU1MjA1ODM=","number":46,"title":"multiarch docker image","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-04-12T04:03:18Z","updated_at":"2021-04-13T11:21:50Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"Currently, separate architectures are build/pushed to dockerhub differently: x86_64 is done automatically via CI, arm64 is built&pushed manually from an ARM64 VM. A true [multiarch docker image](https://www.docker.com/blog/multi-arch-build-and-images-the-simple-way) would be ideal.\r\nFirst tests to do both from within CCI failed: \r\n1) An ARM64 machine is [not supported out of the box](https://app.circleci.com/pipelines/github/open-quantum-safe/profiling/63/workflows/69ddb2cb-f60a-476a-86f2-3428dc369c23/jobs/66) ([request to CCI for enabling this beta facility](https://www2.circleci.com/arm-signup-customers.html) is pending)\r\n2) A qemu-based `docker buildx` [branch](https://github.com/open-quantum-safe/profiling/tree/mb-xbuild) takes _way_ to long [(and then times out)](https://app.circleci.com/pipelines/github/open-quantum-safe/profiling/65/workflows/bfe545d0-a7db-4e2a-a6df-c35fb6bc39a3).\r\n\r\nAnother approach now would be to cross-build everything and only then insert the resultant binaries to the respective architecture base docker images. This apparently only works for `liboqs` in Debian (not alpine as currently used for profiling) and requires additional investigation as to how to cross-build S3 access (for storing test run results) and OpenSSL.\r\n\r\nSuggestions/alternative ideas solicited how to achieve this goal (@jschanck ?)","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/comments/818659171","html_url":"https://github.com/open-quantum-safe/profiling/issues/46#issuecomment-818659171","issue_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/46","id":818659171,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODY1OTE3MQ==","user":{"login":"jschanck","id":25615540,"node_id":"MDQ6VXNlcjI1NjE1NTQw","avatar_url":"https://avatars.githubusercontent.com/u/25615540?v=4","gravatar_id":"","url":"https://api.github.com/users/jschanck","html_url":"https://github.com/jschanck","followers_url":"https://api.github.com/users/jschanck/followers","following_url":"https://api.github.com/users/jschanck/following{/other_user}","gists_url":"https://api.github.com/users/jschanck/gists{/gist_id}","starred_url":"https://api.github.com/users/jschanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jschanck/subscriptions","organizations_url":"https://api.github.com/users/jschanck/orgs","repos_url":"https://api.github.com/users/jschanck/repos","events_url":"https://api.github.com/users/jschanck/events{/privacy}","received_events_url":"https://api.github.com/users/jschanck/received_events","type":"User","site_admin":false},"created_at":"2021-04-13T11:21:49Z","updated_at":"2021-04-13T11:21:49Z","author_association":"NONE","body":"I don't see any reason that it can't work with musl libc. What's the problem exactly?","performed_via_github_app":null}},"public":true,"created_at":"2021-04-13T11:21:50Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"15920880562","type":"IssueCommentEvent","actor":{"id":25615540,"login":"jschanck","display_login":"jschanck","gravatar_id":"","url":"https://api.github.com/users/jschanck","avatar_url":"https://avatars.githubusercontent.com/u/25615540?"},"repo":{"id":288761656,"name":"open-quantum-safe/profiling","url":"https://api.github.com/repos/open-quantum-safe/profiling"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/47","repository_url":"https://api.github.com/repos/open-quantum-safe/profiling","labels_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/47/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/47/comments","events_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/47/events","html_url":"https://github.com/open-quantum-safe/profiling/issues/47","id":855524491,"node_id":"MDU6SXNzdWU4NTU1MjQ0OTE=","number":47,"title":"Investigate changes","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2021-04-12T04:13:44Z","updated_at":"2021-04-13T11:34:19Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"As per April 3, the new \"portability\" build flags became active in the profiling docker image and per April 8 an update to this image did (incorporating https://github.com/open-quantum-safe/liboqs/pull/957). Both events are visible in the snapshots below, but performance in general never quite went back to previous levels (all x86_64): Would it be reasonable to investigated/improve this? Are build flags set incorrectly for [creating the profiling Docker image](https://github.com/open-quantum-safe/profiling/blob/main/perf/Dockerfile)? Is something else going wrong in [building things](https://app.circleci.com/pipelines/github/open-quantum-safe/profiling/61/workflows/fa6e2fb0-d8be-4eb7-8165-e40bb8816e49/jobs/64)? Is there a more general issue? Were things incorrect before?\r\n\r\nSIKE&SIDH (performance) lost drastically with the last update:\r\n![grafik](https://user-images.githubusercontent.com/57787676/114294212-4d28e200-9a9d-11eb-83d7-157ae99dd4c5.png)\r\n\r\nKyber (plain, non AES-version) distributable lost somewhat with the first change, but never recovered:\r\n![grafik](https://user-images.githubusercontent.com/57787676/114294256-9b3de580-9a9d-11eb-860a-b5e5b3ca664d.png)\r\n\r\nFrodo distributable, also lost:\r\n![grafik](https://user-images.githubusercontent.com/57787676/114294277-c4f70c80-9a9d-11eb-8f1d-935384cc8ecb.png)\r\n\r\nHQC (performance and distributable) in turn benefited from both changes:\r\n![grafik](https://user-images.githubusercontent.com/57787676/114294292-e3f59e80-9a9d-11eb-930b-a0d4c1c204df.png)\r\n\r\nDilithium AES benefitted while plain Dilithium dropped (performance and distributable)\r\n![grafik](https://user-images.githubusercontent.com/57787676/114294329-2028ff00-9a9e-11eb-81d0-91c6c88cfe6b.png)\r\n\r\nTagging @jschanck for thoughts\r\n","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/comments/818665565","html_url":"https://github.com/open-quantum-safe/profiling/issues/47#issuecomment-818665565","issue_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/47","id":818665565,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODY2NTU2NQ==","user":{"login":"jschanck","id":25615540,"node_id":"MDQ6VXNlcjI1NjE1NTQw","avatar_url":"https://avatars.githubusercontent.com/u/25615540?v=4","gravatar_id":"","url":"https://api.github.com/users/jschanck","html_url":"https://github.com/jschanck","followers_url":"https://api.github.com/users/jschanck/followers","following_url":"https://api.github.com/users/jschanck/following{/other_user}","gists_url":"https://api.github.com/users/jschanck/gists{/gist_id}","starred_url":"https://api.github.com/users/jschanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jschanck/subscriptions","organizations_url":"https://api.github.com/users/jschanck/orgs","repos_url":"https://api.github.com/users/jschanck/repos","events_url":"https://api.github.com/users/jschanck/events{/privacy}","received_events_url":"https://api.github.com/users/jschanck/received_events","type":"User","site_admin":false},"created_at":"2021-04-13T11:34:19Z","updated_at":"2021-04-13T11:34:19Z","author_association":"NONE","body":"Ping me when you've done a run w/ the latest liboqs code. I'd like to check the results.","performed_via_github_app":null}},"public":true,"created_at":"2021-04-13T11:34:19Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"15921124097","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":288761656,"name":"open-quantum-safe/profiling","url":"https://api.github.com/repos/open-quantum-safe/profiling"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/46","repository_url":"https://api.github.com/repos/open-quantum-safe/profiling","labels_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/46/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/46/comments","events_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/46/events","html_url":"https://github.com/open-quantum-safe/profiling/issues/46","id":855520583,"node_id":"MDU6SXNzdWU4NTU1MjA1ODM=","number":46,"title":"multiarch docker image","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-04-12T04:03:18Z","updated_at":"2021-04-13T11:54:44Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"Currently, separate architectures are build/pushed to dockerhub differently: x86_64 is done automatically via CI, arm64 is built&pushed manually from an ARM64 VM. A true [multiarch docker image](https://www.docker.com/blog/multi-arch-build-and-images-the-simple-way) would be ideal.\r\nFirst tests to do both from within CCI failed: \r\n1) An ARM64 machine is [not supported out of the box](https://app.circleci.com/pipelines/github/open-quantum-safe/profiling/63/workflows/69ddb2cb-f60a-476a-86f2-3428dc369c23/jobs/66) ([request to CCI for enabling this beta facility](https://www2.circleci.com/arm-signup-customers.html) is pending)\r\n2) A qemu-based `docker buildx` [branch](https://github.com/open-quantum-safe/profiling/tree/mb-xbuild) takes _way_ to long [(and then times out)](https://app.circleci.com/pipelines/github/open-quantum-safe/profiling/65/workflows/bfe545d0-a7db-4e2a-a6df-c35fb6bc39a3).\r\n\r\nAnother approach now would be to cross-build everything and only then insert the resultant binaries to the respective architecture base docker images. This apparently only works for `liboqs` in Debian (not alpine as currently used for profiling) and requires additional investigation as to how to cross-build S3 access (for storing test run results) and OpenSSL.\r\n\r\nSuggestions/alternative ideas solicited how to achieve this goal (@jschanck ?)","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/comments/818676399","html_url":"https://github.com/open-quantum-safe/profiling/issues/46#issuecomment-818676399","issue_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/46","id":818676399,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODY3NjM5OQ==","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2021-04-13T11:54:44Z","updated_at":"2021-04-13T11:54:44Z","author_association":"MEMBER","body":"I wanted to use the same cross-building toolset you've been using on Debian, but already the `dpkg` failed. OK, not a big surprise as alpine's `apk` is a different package manager -- but that stopped me immediately to use an alpine image (x86_64) for (also cross-)building arm64 (alpine). Now upon looking a bit further, it seems I'd need to set up a completely different environment to facilitate that. Do you have experience with that? Otherwise, I'll surely also manage to find may way through this... ","performed_via_github_app":null}},"public":true,"created_at":"2021-04-13T11:54:44Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"15922385809","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":288761656,"name":"open-quantum-safe/profiling","url":"https://api.github.com/repos/open-quantum-safe/profiling"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/47","repository_url":"https://api.github.com/repos/open-quantum-safe/profiling","labels_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/47/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/47/comments","events_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/47/events","html_url":"https://github.com/open-quantum-safe/profiling/issues/47","id":855524491,"node_id":"MDU6SXNzdWU4NTU1MjQ0OTE=","number":47,"title":"Investigate changes","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-04-12T04:13:44Z","updated_at":"2021-04-13T13:23:45Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"As per April 3, the new \"portability\" build flags became active in the profiling docker image and per April 8 an update to this image did (incorporating https://github.com/open-quantum-safe/liboqs/pull/957). Both events are visible in the snapshots below, but performance in general never quite went back to previous levels (all x86_64): Would it be reasonable to investigated/improve this? Are build flags set incorrectly for [creating the profiling Docker image](https://github.com/open-quantum-safe/profiling/blob/main/perf/Dockerfile)? Is something else going wrong in [building things](https://app.circleci.com/pipelines/github/open-quantum-safe/profiling/61/workflows/fa6e2fb0-d8be-4eb7-8165-e40bb8816e49/jobs/64)? Is there a more general issue? Were things incorrect before?\r\n\r\nSIKE&SIDH (performance) lost drastically with the last update:\r\n![grafik](https://user-images.githubusercontent.com/57787676/114294212-4d28e200-9a9d-11eb-83d7-157ae99dd4c5.png)\r\n\r\nKyber (plain, non AES-version) distributable lost somewhat with the first change, but never recovered:\r\n![grafik](https://user-images.githubusercontent.com/57787676/114294256-9b3de580-9a9d-11eb-860a-b5e5b3ca664d.png)\r\n\r\nFrodo distributable, also lost:\r\n![grafik](https://user-images.githubusercontent.com/57787676/114294277-c4f70c80-9a9d-11eb-8f1d-935384cc8ecb.png)\r\n\r\nHQC (performance and distributable) in turn benefited from both changes:\r\n![grafik](https://user-images.githubusercontent.com/57787676/114294292-e3f59e80-9a9d-11eb-930b-a0d4c1c204df.png)\r\n\r\nDilithium AES benefitted while plain Dilithium dropped (performance and distributable)\r\n![grafik](https://user-images.githubusercontent.com/57787676/114294329-2028ff00-9a9e-11eb-81d0-91c6c88cfe6b.png)\r\n\r\nTagging @jschanck for thoughts\r\n","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/comments/818732590","html_url":"https://github.com/open-quantum-safe/profiling/issues/47#issuecomment-818732590","issue_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/47","id":818732590,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODczMjU5MA==","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2021-04-13T13:23:45Z","updated_at":"2021-04-13T13:23:45Z","author_association":"MEMBER","body":"Will do. It _should_ automatically be visible tomorrow at https://openquantumsafe.org/benchmarking though. When you merged sth \"performance-wise relevant\" you can always trigger yourself a build of the latest code by re-running the la[te]st successful main-branch CCI build [here](https://app.circleci.com/pipelines/github/open-quantum-safe/profiling): The resultant image will get run at midnight UTC with results published around noon EST (@dstebila has a cronjob pulling the latest data over: He can tell you when exactly that runs). If you don't want to wait for that, the data is at S3 [here](https://s3.console.aws.amazon.com/s3/buckets/oqs-tests?region=us-east-2&tab=objects) (assuming you're part of the OQS-AWS team -- if not, @dstebila surely can provide the proper rights).","performed_via_github_app":null}},"public":true,"created_at":"2021-04-13T13:23:45Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"15923006212","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/302","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/302/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/302/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/302/events","html_url":"https://github.com/open-quantum-safe/openssl/issues/302","id":856867792,"node_id":"MDU6SXNzdWU4NTY4Njc3OTI=","number":302,"title":"Java Provider","user":{"login":"mrshneaky","id":55266004,"node_id":"MDQ6VXNlcjU1MjY2MDA0","avatar_url":"https://avatars.githubusercontent.com/u/55266004?v=4","gravatar_id":"","url":"https://api.github.com/users/mrshneaky","html_url":"https://github.com/mrshneaky","followers_url":"https://api.github.com/users/mrshneaky/followers","following_url":"https://api.github.com/users/mrshneaky/following{/other_user}","gists_url":"https://api.github.com/users/mrshneaky/gists{/gist_id}","starred_url":"https://api.github.com/users/mrshneaky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrshneaky/subscriptions","organizations_url":"https://api.github.com/users/mrshneaky/orgs","repos_url":"https://api.github.com/users/mrshneaky/repos","events_url":"https://api.github.com/users/mrshneaky/events{/privacy}","received_events_url":"https://api.github.com/users/mrshneaky/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-04-13T11:27:29Z","updated_at":"2021-04-13T14:02:08Z","closed_at":"2021-04-13T14:02:08Z","author_association":"NONE","active_lock_reason":null,"body":"I'd like to implement the use of this openssl version with Java however I can't find the provider required to consume it in java. If this is already implemented I'd love to be pointed at it, if not its an extremely important library that must be built for widespread adoption.","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/818761112","html_url":"https://github.com/open-quantum-safe/openssl/issues/302#issuecomment-818761112","issue_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/302","id":818761112,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODc2MTExMg==","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2021-04-13T14:02:08Z","updated_at":"2021-04-13T14:02:08Z","author_association":"MEMBER","body":"We have [liboqs-java](https://github.com/open-quantum-safe/liboqs-java) which wraps the core PQ crypto functions from liboqs into Java, but we don't have a provider in the sense of the Java Cryptography Architecture.","performed_via_github_app":null}},"public":true,"created_at":"2021-04-13T14:02:08Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"15924020201","type":"IssueCommentEvent","actor":{"id":21228961,"login":"xvzcf","display_login":"xvzcf","gravatar_id":"","url":"https://api.github.com/users/xvzcf","avatar_url":"https://avatars.githubusercontent.com/u/21228961?"},"repo":{"id":113904471,"name":"open-quantum-safe/openssh","url":"https://api.github.com/repos/open-quantum-safe/openssh"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/88","repository_url":"https://api.github.com/repos/open-quantum-safe/openssh","labels_url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/88/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/88/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/88/events","html_url":"https://github.com/open-quantum-safe/openssh/pull/88","id":853878095,"node_id":"MDExOlB1bGxSZXF1ZXN0NjExOTA1OTQw","number":88,"title":"OpenSSH 8.4","user":{"login":"xvzcf","id":21228961,"node_id":"MDQ6VXNlcjIxMjI4OTYx","avatar_url":"https://avatars.githubusercontent.com/u/21228961?v=4","gravatar_id":"","url":"https://api.github.com/users/xvzcf","html_url":"https://github.com/xvzcf","followers_url":"https://api.github.com/users/xvzcf/followers","following_url":"https://api.github.com/users/xvzcf/following{/other_user}","gists_url":"https://api.github.com/users/xvzcf/gists{/gist_id}","starred_url":"https://api.github.com/users/xvzcf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvzcf/subscriptions","organizations_url":"https://api.github.com/users/xvzcf/orgs","repos_url":"https://api.github.com/users/xvzcf/repos","events_url":"https://api.github.com/users/xvzcf/events{/privacy}","received_events_url":"https://api.github.com/users/xvzcf/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-04-08T20:40:48Z","updated_at":"2021-04-13T15:03:06Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/openssh/pulls/88","html_url":"https://github.com/open-quantum-safe/openssh/pull/88","diff_url":"https://github.com/open-quantum-safe/openssh/pull/88.diff","patch_url":"https://github.com/open-quantum-safe/openssh/pull/88.patch"},"body":"The skipped tests are listed [here](https://github.com/open-quantum-safe/openssh/blob/openssh-8/oqs-test/run_tests.sh#L9), with respect to the ones to investigate, I didn't have the time to fix them or determine which among them are high priority.\r\n\r\nCI testing commands are [here](https://github.com/open-quantum-safe/openssh/blob/openssh-8/.circleci/config.yml#L40).\r\n\r\nTODO items can be found by grepping for `OQS-TODO`. The code could also use more cleaning up, and the regression tests could be improved.","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/comments/818807911","html_url":"https://github.com/open-quantum-safe/openssh/pull/88#issuecomment-818807911","issue_url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/88","id":818807911,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODgwNzkxMQ==","user":{"login":"xvzcf","id":21228961,"node_id":"MDQ6VXNlcjIxMjI4OTYx","avatar_url":"https://avatars.githubusercontent.com/u/21228961?v=4","gravatar_id":"","url":"https://api.github.com/users/xvzcf","html_url":"https://github.com/xvzcf","followers_url":"https://api.github.com/users/xvzcf/followers","following_url":"https://api.github.com/users/xvzcf/following{/other_user}","gists_url":"https://api.github.com/users/xvzcf/gists{/gist_id}","starred_url":"https://api.github.com/users/xvzcf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvzcf/subscriptions","organizations_url":"https://api.github.com/users/xvzcf/orgs","repos_url":"https://api.github.com/users/xvzcf/repos","events_url":"https://api.github.com/users/xvzcf/events{/privacy}","received_events_url":"https://api.github.com/users/xvzcf/received_events","type":"User","site_admin":false},"created_at":"2021-04-13T15:03:05Z","updated_at":"2021-04-13T15:03:05Z","author_association":"MEMBER","body":"> I'm happy to merge this to get the ball rolling and add missing tests later. Agreed to get things into shape before adding the missing algs. I had an issue running the tests (see earlier review comment); maybe it's my setup (?)\r\n\r\nWhich review comment are you referring to?","performed_via_github_app":null}},"public":true,"created_at":"2021-04-13T15:03:06Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
