{"id":"14786839170","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/269","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/269/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/269/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/269/events","html_url":"https://github.com/open-quantum-safe/openssl/issues/269","id":783405382,"node_id":"MDU6SXNzdWU3ODM0MDUzODI=","number":269,"title":"liboqs generation meets source code error","user":{"login":"sjf-tjdg","id":74999260,"node_id":"MDQ6VXNlcjc0OTk5MjYw","avatar_url":"https://avatars3.githubusercontent.com/u/74999260?v=4","gravatar_id":"","url":"https://api.github.com/users/sjf-tjdg","html_url":"https://github.com/sjf-tjdg","followers_url":"https://api.github.com/users/sjf-tjdg/followers","following_url":"https://api.github.com/users/sjf-tjdg/following{/other_user}","gists_url":"https://api.github.com/users/sjf-tjdg/gists{/gist_id}","starred_url":"https://api.github.com/users/sjf-tjdg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sjf-tjdg/subscriptions","organizations_url":"https://api.github.com/users/sjf-tjdg/orgs","repos_url":"https://api.github.com/users/sjf-tjdg/repos","events_url":"https://api.github.com/users/sjf-tjdg/events{/privacy}","received_events_url":"https://api.github.com/users/sjf-tjdg/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-01-11T14:14:36Z","updated_at":"2021-01-12T06:26:57Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"[Makefile:3139: crypto/ec/oqs_meth.o] Error 1\r\n\r\nWhen I tried to install liboqs and build teh fork to my openssl(version 1.1.1f), the error jumped out.\r\nThe steps is followed by ubantu parts on https://github.com/prchander/openssl#supported-algorithms.\r\n\r\nIt looks like this\r\ncrypto/ec/oqs_meth.c:222:14: error: 'OQS_SIG_alg_rainbow_I_classic' undeclared (first use in this function); did you mean 'OQS_SIG_alg_rainbow_Ia_classic'?\r\n  222 |       return OQS_SIG_alg_rainbow_I_classic;\r\n      |              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n      |              OQS_SIG_alg_rainbow_Ia_classic\r\ncrypto/ec/oqs_meth.c:222:14: note: each undeclared identifier is reported only once for each function it appears in\r\ncrypto/ec/oqs_meth.c:225:14: error: 'OQS_SIG_alg_rainbow_V_classic' undeclared (first use in this function); did you mean 'OQS_SIG_alg_rainbow_Vc_classic'?\r\n  225 |       return OQS_SIG_alg_rainbow_V_classic;\r\n      |              ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\r\n      |              OQS_SIG_alg_rainbow_Vc_classic\r\ncrypto/ec/oqs_meth.c:335:14: error: 'OQS_KEM_alg_hqc_128' undeclared (first use in this function); did you mean 'OQS_KEM_alg_count'?\r\n  335 |       return OQS_KEM_alg_hqc_128;\r\n      |              ^~~~~~~~~~~~~~~~~~~\r\n      |              OQS_KEM_alg_count\r\ncrypto/ec/oqs_meth.c:338:14: error: 'OQS_KEM_alg_hqc_192' undeclared (first use in this function); did you mean 'OQS_KEM_alg_count'?\r\n  338 |       return OQS_KEM_alg_hqc_192;\r\n      |              ^~~~~~~~~~~~~~~~~~~\r\n      |              OQS_KEM_alg_count\r\ncrypto/ec/oqs_meth.c:341:14: error: 'OQS_KEM_alg_hqc_256' undeclared (first use in this function); did you mean 'OQS_KEM_alg_count'?\r\n  341 |       return OQS_KEM_alg_hqc_256;\r\n      |              ^~~~~~~~~~~~~~~~~~~\r\n      |              OQS_KEM_alg_count\r\nmake[1]: *** [Makefile:3139: crypto/ec/oqs_meth.o] Error 1\r\nmake[1]: Leaving directory '/home/sjf20/openssl'\r\nmake: *** [Makefile:174：all] 错误 2\r\n\r\n\r\n\r\n","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/758436241","html_url":"https://github.com/open-quantum-safe/openssl/issues/269#issuecomment-758436241","issue_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/269","id":758436241,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODQzNjI0MQ==","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars1.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2021-01-12T06:26:57Z","updated_at":"2021-01-12T06:26:57Z","author_association":"MEMBER","body":"That -- and ensure that your own oqs-openssl fork has the most recent updates from open-quantum-safe/openssl.","performed_via_github_app":null}},"public":true,"created_at":"2021-01-12T06:26:57Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"14786962615","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":113904471,"name":"open-quantum-safe/openssh","url":"https://api.github.com/repos/open-quantum-safe/openssh"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/83","repository_url":"https://api.github.com/repos/open-quantum-safe/openssh","labels_url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/83/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/83/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/83/events","html_url":"https://github.com/open-quantum-safe/openssh/issues/83","id":783282778,"node_id":"MDU6SXNzdWU3ODMyODI3Nzg=","number":83,"title":"Minor mistake in README.md","user":{"login":"xykro","id":9986471,"node_id":"MDQ6VXNlcjk5ODY0NzE=","avatar_url":"https://avatars0.githubusercontent.com/u/9986471?v=4","gravatar_id":"","url":"https://api.github.com/users/xykro","html_url":"https://github.com/xykro","followers_url":"https://api.github.com/users/xykro/followers","following_url":"https://api.github.com/users/xykro/following{/other_user}","gists_url":"https://api.github.com/users/xykro/gists{/gist_id}","starred_url":"https://api.github.com/users/xykro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xykro/subscriptions","organizations_url":"https://api.github.com/users/xykro/orgs","repos_url":"https://api.github.com/users/xykro/repos","events_url":"https://api.github.com/users/xykro/events{/privacy}","received_events_url":"https://api.github.com/users/xykro/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-01-11T11:15:58Z","updated_at":"2021-01-12T06:42:38Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"The information about [which algorithms are enabled by default](https://github.com/open-quantum-safe/openssh#digital-signature) is slightly wrong. It is mentioned that \r\n\r\n> **all** Rainbow variants are enabled by default\r\n\r\nwhere in reality only the classical variants are actually enabled (referring to [oqs-template/generate.yml](https://github.com/open-quantum-safe/openssh/blob/OQS-master/oqs-template/generate.yml)).","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/comments/758442828","html_url":"https://github.com/open-quantum-safe/openssh/issues/83#issuecomment-758442828","issue_url":"https://api.github.com/repos/open-quantum-safe/openssh/issues/83","id":758442828,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODQ0MjgyOA==","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars1.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2021-01-12T06:42:38Z","updated_at":"2021-01-12T06:42:38Z","author_association":"MEMBER","body":"Thanks for this report. You're right and we fix it with #84.","performed_via_github_app":null}},"public":true,"created_at":"2021-01-12T06:42:38Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"14788796090","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/267","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/267/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/267/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/267/events","html_url":"https://github.com/open-quantum-safe/openssl/pull/267","id":782037360,"node_id":"MDExOlB1bGxSZXF1ZXN0NTUxNjY1NzY5","number":267,"title":"removal of internal OSSL dependencies","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars1.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-01-08T11:02:49Z","updated_at":"2021-01-12T09:42:40Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/pulls/267","html_url":"https://github.com/open-quantum-safe/openssl/pull/267","diff_url":"https://github.com/open-quantum-safe/openssl/pull/267.diff","patch_url":"https://github.com/open-quantum-safe/openssl/pull/267.patch"},"body":"Addresses various [improvement suggestions](https://github.com/open-quantum-safe/openssl/commit/603b1f764dda7739074278c7e9d0e7db20384828#commitcomment-45737460) by @mattcaswell: Thanks!\r\n","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/758535099","html_url":"https://github.com/open-quantum-safe/openssl/pull/267#issuecomment-758535099","issue_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/267","id":758535099,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODUzNTA5OQ==","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars1.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2021-01-12T09:42:40Z","updated_at":"2021-01-12T09:42:40Z","author_association":"MEMBER","body":">  If you get to the point where you're not modifying any OpenSSL internals any more then you no longer have a need to have a fork of OpenSSL, and really you only want the code in your repo that is directly relevant to your provider.\r\n\r\nFully agree. For this clean separation to happen we must get to the point that both the OQS provider doesn't (need to) rely on OpenSSL internals (Thanks again for your help on this) and OpenSSL in turn must fully support externally provided sigs so we don't need the OQS-OpenSSL fork in the future. So let me really try to get down to the details of that. For now, I'd leave things as-is after implementing the OQS-sig provider to have something to run that is not OpenSSL-internal.","performed_via_github_app":null}},"public":true,"created_at":"2021-01-12T09:42:40Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"14790644829","type":"IssueCommentEvent","actor":{"id":7422273,"login":"mattcaswell","display_login":"mattcaswell","gravatar_id":"","url":"https://api.github.com/users/mattcaswell","avatar_url":"https://avatars.githubusercontent.com/u/7422273?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/267","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/267/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/267/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/267/events","html_url":"https://github.com/open-quantum-safe/openssl/pull/267","id":782037360,"node_id":"MDExOlB1bGxSZXF1ZXN0NTUxNjY1NzY5","number":267,"title":"removal of internal OSSL dependencies","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars1.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-01-08T11:02:49Z","updated_at":"2021-01-12T12:21:19Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/pulls/267","html_url":"https://github.com/open-quantum-safe/openssl/pull/267","diff_url":"https://github.com/open-quantum-safe/openssl/pull/267.diff","patch_url":"https://github.com/open-quantum-safe/openssl/pull/267.patch"},"body":"Addresses various [improvement suggestions](https://github.com/open-quantum-safe/openssl/commit/603b1f764dda7739074278c7e9d0e7db20384828#commitcomment-45737460) by @mattcaswell: Thanks!\r\n","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/758620908","html_url":"https://github.com/open-quantum-safe/openssl/pull/267#issuecomment-758620908","issue_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/267","id":758620908,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODYyMDkwOA==","user":{"login":"mattcaswell","id":7422273,"node_id":"MDQ6VXNlcjc0MjIyNzM=","avatar_url":"https://avatars0.githubusercontent.com/u/7422273?v=4","gravatar_id":"","url":"https://api.github.com/users/mattcaswell","html_url":"https://github.com/mattcaswell","followers_url":"https://api.github.com/users/mattcaswell/followers","following_url":"https://api.github.com/users/mattcaswell/following{/other_user}","gists_url":"https://api.github.com/users/mattcaswell/gists{/gist_id}","starred_url":"https://api.github.com/users/mattcaswell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattcaswell/subscriptions","organizations_url":"https://api.github.com/users/mattcaswell/orgs","repos_url":"https://api.github.com/users/mattcaswell/repos","events_url":"https://api.github.com/users/mattcaswell/events{/privacy}","received_events_url":"https://api.github.com/users/mattcaswell/received_events","type":"User","site_admin":false},"created_at":"2021-01-12T12:21:19Z","updated_at":"2021-01-12T12:21:19Z","author_association":"NONE","body":"> Guidance welcome as to how to combine the current OQS license and correctly reference the OpenSSL License\r\n\r\nLicensing is a bit of a minefield. Of course I have to caveat anything I say on this before I start with \"I am not a lawyer\". Therefore anything I say might be wrong and should be treated with caution. Therefore (caveat 2) \"you should seek professional advice on this\".\r\n\r\nThat said here are some thoughts. I guess there are a few things you need to consider:\r\n1) Licensing of pure OQS code that is entirely standalone\r\n2) Licensing of code that you have \"inherited\" from OpenSSL and want to incorporate into OQS\r\n3) Licensing of OQS code that you might one day want to have merged upstream into OpenSSL\r\n\r\n(1) is of course entirely you're own affair and for you to decide.\r\n\r\nFor (2), if its been inherited from the OpenSSL master branch then Apache 2 applies (previous versions are using different licences). You can apply your own licence to changes that you make to this code but in that case *both* licences would have to apply (the Apache licence for the old code, your licence for the new code). That is usually considered undesirable, but is perfectly possible and is in fact what OpenSSL itself did. OpenSSL inherited its original code from the SSLeay project, and then applied its own licence on top. For all versions of OpenSSL up until (and including) OpenSSL 1.1.1, both the OpenSSL *and* the SSLeay licences applied. We went through a very major effort (that took several years) to contact all previous contributors in order to fix that problem so that we were eventually able to change the licence. The other alternative you have is to just use the the Apache licence for the code that you have inherited.\r\n\r\nFor (3) the issue here isn't so much about licensing but about CLAs. You can have whatever licence you see fit for this code *but* OpenSSL will relicense it to Apache 2 when it accepts the code. In order for that to work OpenSSL requires *all* contributors to have signed an OpenSSL CLA. When I say *all*, I mean everyone who has ever contributed to the code (even if that contribution is small). This can actually be a big problem, and has been a showstopper in the past for some highly desirable contributions that we would really have liked to incorporate, but were unable to because of CLA problems.\r\n\r\nWith regards to \"correctly reference the OpenSSL Licence\", I think this text applies from the Apache licence:\r\n\r\n````\r\n      (a) You must give any other recipients of the Work or\r\n          Derivative Works a copy of this License; and\r\n\r\n      (b) You must cause any modified files to carry prominent notices\r\n          stating that You changed the files; and\r\n\r\n      (c) You must retain, in the Source form of any Derivative Works\r\n          that You distribute, all copyright, patent, trademark, and\r\n          attribution notices from the Source form of the Work,\r\n          excluding those notices that do not pertain to any part of\r\n          the Derivative Works; and\r\n````\r\n\r\nSo, basically, you should retain any existing licence/copyright banners. But you can add your own additional ones (e.g. citing your own licence file).","performed_via_github_app":null}},"public":true,"created_at":"2021-01-12T12:21:20Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"14790730682","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/267","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/267/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/267/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/267/events","html_url":"https://github.com/open-quantum-safe/openssl/pull/267","id":782037360,"node_id":"MDExOlB1bGxSZXF1ZXN0NTUxNjY1NzY5","number":267,"title":"removal of internal OSSL dependencies","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars1.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-01-08T11:02:49Z","updated_at":"2021-01-12T12:29:15Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/pulls/267","html_url":"https://github.com/open-quantum-safe/openssl/pull/267","diff_url":"https://github.com/open-quantum-safe/openssl/pull/267.diff","patch_url":"https://github.com/open-quantum-safe/openssl/pull/267.patch"},"body":"Addresses various [improvement suggestions](https://github.com/open-quantum-safe/openssl/commit/603b1f764dda7739074278c7e9d0e7db20384828#commitcomment-45737460) by @mattcaswell: Thanks!\r\n","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/758624587","html_url":"https://github.com/open-quantum-safe/openssl/pull/267#issuecomment-758624587","issue_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/267","id":758624587,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODYyNDU4Nw==","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars1.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2021-01-12T12:29:15Z","updated_at":"2021-01-12T12:29:15Z","author_association":"MEMBER","body":"> So, basically, you should retain any existing licence/copyright banners.\r\n\r\n_That_ is perfect advice: Thanks! I'll do that and we'll also discuss within the OQS team which license text to adopt for an OQS-OpenSSL provider given the new license conditions of OpenSSL you explained above. @dstebila : Please see the above for consideration.","performed_via_github_app":null}},"public":true,"created_at":"2021-01-12T12:29:15Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"14797852604","type":"IssueCommentEvent","actor":{"id":21283655,"login":"Hatzen","display_login":"Hatzen","gravatar_id":"","url":"https://api.github.com/users/Hatzen","avatar_url":"https://avatars.githubusercontent.com/u/21283655?"},"repo":{"id":247826799,"name":"open-quantum-safe/liboqs-java","url":"https://api.github.com/repos/open-quantum-safe/liboqs-java"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-java/issues/11","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs-java","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs-java/issues/11/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs-java/issues/11/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs-java/issues/11/events","html_url":"https://github.com/open-quantum-safe/liboqs-java/issues/11","id":778307621,"node_id":"MDU6SXNzdWU3NzgzMDc2MjE=","number":11,"title":"Enable Build for other Platforms like ARM (Android)","user":{"login":"Hatzen","id":21283655,"node_id":"MDQ6VXNlcjIxMjgzNjU1","avatar_url":"https://avatars0.githubusercontent.com/u/21283655?v=4","gravatar_id":"","url":"https://api.github.com/users/Hatzen","html_url":"https://github.com/Hatzen","followers_url":"https://api.github.com/users/Hatzen/followers","following_url":"https://api.github.com/users/Hatzen/following{/other_user}","gists_url":"https://api.github.com/users/Hatzen/gists{/gist_id}","starred_url":"https://api.github.com/users/Hatzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hatzen/subscriptions","organizations_url":"https://api.github.com/users/Hatzen/orgs","repos_url":"https://api.github.com/users/Hatzen/repos","events_url":"https://api.github.com/users/Hatzen/events{/privacy}","received_events_url":"https://api.github.com/users/Hatzen/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-01-04T19:23:54Z","updated_at":"2021-01-12T22:30:44Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"First of all thanks for your good work :)  \r\nI am trying to get the lib working for android.  Regarding https://github.com/open-quantum-safe/liboqs/issues/594 i am able to get a working .so file for android and the passed abi.  \r\nBut i am struggeling to get it working with this repository and jni.  \r\nWhen i just compile the library for armv8a and then using this repo to get the jni wrapper it fails as the target system (x86) differs at compile time.     \r\n\r\n<details>    \r\n<summary>Excerpt of the error message</summary>   \r\n\r\n```\r\n[INFO] /bin/sh -c cd '/home/hatzen/liboqs-java' && 'gcc' '-shared' '-L/home/hatzen/liboqs/build/lib' '-o/home/hatzen/liboqs-java/target/liboqs-java.jar' 'target/objs/handle.o' 'target/objs/KEMs.o' 'target/objs/KeyEncapsulation.o' 'target/objs/Rand.o' 'target/objs/Signature.o' 'target/objs/Sigs.o' '-o' '/home/hatzen/liboqs-java/src/main/resources/liboqs-jni.so' '-loqs'\r\n/usr/bin/ld: skipping incompatible /home/hatzen/liboqs/build/lib/liboqs.so when searching for -loqs\r\n/usr/bin/ld: cannot find -loqs\r\ncollect2: error: ld returned 1 exit status\r\n```\r\n</details>  \r\n  \r\nSo i tried to copy the necessary files and build jni and liboqs at a single time with the given cmake files.  \r\nI copied all c sources and tried to add them to the cmakefile. Buti get errors when running the java test.    \r\n  \r\n<details>\r\n<summary>Excerpts of changed files</summary>  \r\n  \r\nsrc/CMakeList.txt\r\n```cmake  \r\n...\r\ninclude_directories(jni)\r\nlink_directories(jni oqs)\r\n\r\nadd_library(jni SHARED\r\njni/handle.c\r\njni/KEMs.c\r\njni/KeyEncapsulation.c\r\njni/Rand.c\r\njni/Signature.c\r\njni/Sigs.c)\r\n\r\nset_target_properties(\r\n    jni\r\n    PROPERTIES\r\n    COMPILE_FLAGS \"-w\"\r\n    #COMPILE_WARNING_DISABLED high\r\n)\r\ntarget_link_libraries(jni oqs)\r\n\r\nset_target_properties(jni PROPERTIES PUBLIC_HEADER \"jni/handle.h;jni/KEMs.h;jni/KeyEncapsulation.h;jni/Rand.h;jni/Signature.h;jni/Sigs.h\")\r\n\r\nINSTALL(TARGETS jni\r\n        LIBRARY DESTINATION lib\r\n        PUBLIC_HEADER DESTINATION lib\r\n)\r\n...\r\n```   \r\nAnd i have overriden the Common Class of this Repo: \r\n\r\n```java\r\npublic class Common {\r\n    ...\r\n    public static void loadNativeLibrary() {\r\n        // overrides all changes from this repo method.\r\n        System.loadLibrary(\"oqs\");\r\n        System.loadLibrary(\"jni\");\r\n   }\r\n   ...\r\n}\r\n```\r\nI did override all packages and paths like:  \r\n```\r\nJava_org_openquantumsafe => Java_de_hartz_software_parannoying_helper_security_liboqs_java\r\norg/openquantumsafe => de/hartz/software/parannoying/helper/security/liboqs/java\r\n```\r\n\r\nThe crash occours probably on the equivalent of:  \r\nhttps://github.com/open-quantum-safe/liboqs-java/blob/109534741ace8442129b20dce9cfce62aa54048a/src/test/java/org/openquantumsafe/KEMTest.java#L37  \r\nwhich is calling JNI  \r\nhttps://github.com/open-quantum-safe/liboqs-java/blob/109534741ace8442129b20dce9cfce62aa54048a/src/main/c/KeyEncapsulation.c#L41  \r\n\r\n```\r\n2021-01-02 20:21:08.357 7642-7697/de.hartz.software.parannoying E/zygote64: JNI ERROR (app bug): accessed stale Local 0x76e6ea9241  (index 1852746020 in a table of size 2)\r\n2021-01-02 20:21:08.388 7642-7697/de.hartz.software.parannoying A/zygote64: java_vm_ext.cc:534] JNI DETECTED ERROR IN APPLICATION: use of deleted local reference 0x76e6ea9241\r\n2021-01-02 20:21:08.389 7642-7697/de.hartz.software.parannoying A/zygote64: java_vm_ext.cc:534]     from de.hartz.software.parannoying.helper.security.liboqs.java.KeyEncapsulation$KeyEncapsulationDetails de.hartz.software.parannoying.helper.security.liboqs.java.KeyEncapsulation.get_KEM_details()\r\n2021-01-02 20:21:08.389 7642-7697/de.hartz.software.parannoying A/zygote64: java_vm_ext.cc:534] \"Instr: androidx.test.runner.AndroidJUnitRunner\" prio=5 tid=22 Runnable\r\n```\r\n  \r\n</details>\r\n  \r\nI am not very familiar with writing c and never had contact with JNI before.   \r\nSo i am not sure whether it could be simple to solve. So my question is will you consider to make this repo be able to build for different abis at a time?  ","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-java/issues/comments/759078735","html_url":"https://github.com/open-quantum-safe/liboqs-java/issues/11#issuecomment-759078735","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs-java/issues/11","id":759078735,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTA3ODczNQ==","user":{"login":"Hatzen","id":21283655,"node_id":"MDQ6VXNlcjIxMjgzNjU1","avatar_url":"https://avatars0.githubusercontent.com/u/21283655?v=4","gravatar_id":"","url":"https://api.github.com/users/Hatzen","html_url":"https://github.com/Hatzen","followers_url":"https://api.github.com/users/Hatzen/followers","following_url":"https://api.github.com/users/Hatzen/following{/other_user}","gists_url":"https://api.github.com/users/Hatzen/gists{/gist_id}","starred_url":"https://api.github.com/users/Hatzen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Hatzen/subscriptions","organizations_url":"https://api.github.com/users/Hatzen/orgs","repos_url":"https://api.github.com/users/Hatzen/repos","events_url":"https://api.github.com/users/Hatzen/events{/privacy}","received_events_url":"https://api.github.com/users/Hatzen/received_events","type":"User","site_admin":false},"created_at":"2021-01-12T22:30:44Z","updated_at":"2021-01-12T22:30:44Z","author_association":"NONE","body":"You are totally right!  \r\nBecause of the comlexity of the environment and the problems, i just created a clean Repo with my exact code for showing what i have done so far. I also commented the errors i am facing here: https://github.com/Hatzen/LibOQSTestApp/issues/1  \r\nHopefully that helps by understanding the problem.   \r\n  \r\nI uploaded a whole copy of the code of liboqs, because setting up continous integration costs some time.. I hope you dont have any problems with this. In case i surely will remove the repo!  ","performed_via_github_app":null}},"public":true,"created_at":"2021-01-12T22:30:44Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
