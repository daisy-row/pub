{"id":"15718930577","type":"IssueCommentEvent","actor":{"id":75671533,"login":"IsTyping","display_login":"IsTyping","gravatar_id":"","url":"https://api.github.com/users/IsTyping","avatar_url":"https://avatars.githubusercontent.com/u/75671533?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/294","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/294/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/294/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/294/events","html_url":"https://github.com/open-quantum-safe/openssl/issues/294","id":836797345,"node_id":"MDU6SXNzdWU4MzY3OTczNDU=","number":294,"title":"cannot generate self-signed root CA certificate","user":{"login":"IsTyping","id":75671533,"node_id":"MDQ6VXNlcjc1NjcxNTMz","avatar_url":"https://avatars.githubusercontent.com/u/75671533?v=4","gravatar_id":"","url":"https://api.github.com/users/IsTyping","html_url":"https://github.com/IsTyping","followers_url":"https://api.github.com/users/IsTyping/followers","following_url":"https://api.github.com/users/IsTyping/following{/other_user}","gists_url":"https://api.github.com/users/IsTyping/gists{/gist_id}","starred_url":"https://api.github.com/users/IsTyping/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IsTyping/subscriptions","organizations_url":"https://api.github.com/users/IsTyping/orgs","repos_url":"https://api.github.com/users/IsTyping/repos","events_url":"https://api.github.com/users/IsTyping/events{/privacy}","received_events_url":"https://api.github.com/users/IsTyping/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2021-03-20T12:32:19Z","updated_at":"2021-03-28T17:59:04Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"I'm starting the TLS demmo on Ubuntu 18 with a shared library set up and these default algorithms announced: -DOQS_DEFAULT_GROUPS=\\\"CRYSTALS-kyber:FRODO:SABER\\\" . \r\nI try to generate the self signed certificate from my openssl-1.1.1 main directory with:\r\n\r\n`apps/openssl req -x509 -new -newkey kyber512 -keyout kyber512_CA.key -out kyber512_CA.crt -nodes -subj \"/CN=oqstest CA\" -days 365 -config apps/openssl.cnf`\r\n\r\nI get this error:\r\n\r\n`Can't load /root/.rnd into RNG\r\n140383120265664:error:2406F079:random number generator:RAND_load_file:Cannot open file:crypto/rand/randfile.c:88:Filename=/root/.rnd\r\nUnknown algorithm kyber512`\r\n\r\nThere is no such file /root/.rnd. \r\nIf I try the ECDSA certificate example I get the same error but instead of unknown algorithm it generates EC private key. \r\nI've followed quick start several times but cannot see where I've gone wrong.","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/808932981","html_url":"https://github.com/open-quantum-safe/openssl/issues/294#issuecomment-808932981","issue_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/294","id":808932981,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODkzMjk4MQ==","user":{"login":"IsTyping","id":75671533,"node_id":"MDQ6VXNlcjc1NjcxNTMz","avatar_url":"https://avatars.githubusercontent.com/u/75671533?v=4","gravatar_id":"","url":"https://api.github.com/users/IsTyping","html_url":"https://github.com/IsTyping","followers_url":"https://api.github.com/users/IsTyping/followers","following_url":"https://api.github.com/users/IsTyping/following{/other_user}","gists_url":"https://api.github.com/users/IsTyping/gists{/gist_id}","starred_url":"https://api.github.com/users/IsTyping/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IsTyping/subscriptions","organizations_url":"https://api.github.com/users/IsTyping/orgs","repos_url":"https://api.github.com/users/IsTyping/repos","events_url":"https://api.github.com/users/IsTyping/events{/privacy}","received_events_url":"https://api.github.com/users/IsTyping/received_events","type":"User","site_admin":false},"created_at":"2021-03-28T17:59:04Z","updated_at":"2021-03-28T17:59:04Z","author_association":"NONE","body":"Yes, you are right I have got mixed up with openssl folders.\r\nI revert to a much earlier snapshot and and follow the openssl instructions. I attach a text file with my steps.\r\n[oqs-openssl notes.txt](https://github.com/open-quantum-safe/openssl/files/6217738/oqs-openssl.notes.txt)\r\n\r\nafter 'make -j' I encounter a big error message ending with:\r\n\t\tmake[1]:Leaving directory '/usr/openssl'\r\n\t\tMakefile:174: recipe for target 'all' failed","performed_via_github_app":null}},"public":true,"created_at":"2021-03-28T17:59:04Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"15719461686","type":"IssueCommentEvent","actor":{"id":7729748,"login":"jimouris","display_login":"jimouris","gravatar_id":"","url":"https://api.github.com/users/jimouris","avatar_url":"https://avatars.githubusercontent.com/u/7729748?"},"repo":{"id":247826799,"name":"open-quantum-safe/liboqs-java","url":"https://api.github.com/repos/open-quantum-safe/liboqs-java"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-java/issues/14","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs-java","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs-java/issues/14/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs-java/issues/14/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs-java/issues/14/events","html_url":"https://github.com/open-quantum-safe/liboqs-java/issues/14","id":842527991,"node_id":"MDU6SXNzdWU4NDI1Mjc5OTE=","number":14,"title":"JAVA_HOME is set, but jni.h not found","user":{"login":"taimoorgit","id":37668804,"node_id":"MDQ6VXNlcjM3NjY4ODA0","avatar_url":"https://avatars.githubusercontent.com/u/37668804?v=4","gravatar_id":"","url":"https://api.github.com/users/taimoorgit","html_url":"https://github.com/taimoorgit","followers_url":"https://api.github.com/users/taimoorgit/followers","following_url":"https://api.github.com/users/taimoorgit/following{/other_user}","gists_url":"https://api.github.com/users/taimoorgit/gists{/gist_id}","starred_url":"https://api.github.com/users/taimoorgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/taimoorgit/subscriptions","organizations_url":"https://api.github.com/users/taimoorgit/orgs","repos_url":"https://api.github.com/users/taimoorgit/repos","events_url":"https://api.github.com/users/taimoorgit/events{/privacy}","received_events_url":"https://api.github.com/users/taimoorgit/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-03-27T15:32:15Z","updated_at":"2021-03-28T19:57:47Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello,\r\n\r\nI am trying to build the Maven package on WSL/Ubuntu. I have liboqs installed with shared libs enabled. I have installed JDK 11 and set my JAVA_HOME environment variable, but it seems like jni.h still isn't found. Is there a step I am missing that can fix this? \r\n\r\n```\r\ntaimoor@GAMING-PC:~/liboqs-java$ lsb_release -a\r\nNo LSB modules are available.\r\nDistributor ID: Ubuntu\r\nDescription:    Ubuntu 20.04.1 LTS\r\nRelease:        20.04\r\nCodename:       focal\r\ntaimoor@GAMING-PC:~/liboqs-java$ java --version\r\nopenjdk 11.0.10 2021-01-19\r\nOpenJDK Runtime Environment (build 11.0.10+9-Ubuntu-0ubuntu1.20.04)\r\nOpenJDK 64-Bit Server VM (build 11.0.10+9-Ubuntu-0ubuntu1.20.04, mixed mode, sharing)\r\ntaimoor@GAMING-PC:~/liboqs-java$ echo $JAVA_HOME && ls $JAVA_HOME\r\n/usr/lib/jvm/java-1.11.0-openjdk-amd64\r\nbin  conf  docs  legal  lib  man  release\r\ntaimoor@GAMING-PC:~/liboqs-java$ mvn package -P linux -Dliboqs.include.dir=\"/usr/local/include\" -Dliboqs.lib.dir=\"/usr/local/lib\"\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/usr/share/maven/lib/guice.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\r\nWARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n[INFO] Scanning for projects...\r\n[INFO]\r\n[INFO] ------------------< org.openquantumsafe:liboqs-java >-------------------\r\n[INFO] Building liboqs-java: Java wrapper for liboqs 1.0\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO]\r\n[INFO] --- maven-antrun-plugin:3.0.0:run (default) @ liboqs-java ---\r\n[INFO] Executing tasks\r\n[INFO] Executed tasks\r\n[INFO]\r\n[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ liboqs-java ---\r\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\r\n[INFO] Copying 0 resource\r\n[INFO]\r\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ liboqs-java ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO]\r\n[INFO] --- native-maven-plugin:1.0-alpha-9:initialize (generate-shared-oqs-library) @ liboqs-java ---\r\n[INFO]\r\n[INFO] --- native-maven-plugin:1.0-alpha-9:compile (generate-shared-oqs-library) @ liboqs-java ---\r\n[INFO] /bin/sh -c cd '/home/taimoor/liboqs-java' && 'gcc' '-I/usr/lib/jvm/java-1.11.0-openjdk-amd64/include' '-I/usr/lib/jvm/java-1.11.0-openjdk-amd64/include/linux' '-fPIC' '-Wall' '-O3' '-I/usr/local/include' '-I/home/taimoor/liboqs-java/src/main/c' '-I/home/taimoor/liboqs-java/target/generated-sources/annotations' '-o/home/taimoor/liboqs-java/target/objs/handle.o' '-c' '/home/taimoor/liboqs-java/src/main/c/handle.c'\r\nIn file included from /home/taimoor/liboqs-java/src/main/c/handle.c:1:\r\n/home/taimoor/liboqs-java/src/main/c/handle.h:4:10: fatal error: jni.h: No such file or directory\r\n    4 | #include <jni.h>\r\n      |          ^~~~~~~\r\ncompilation terminated.\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  0.905 s\r\n[INFO] Finished at: 2021-03-27T11:21:45-04:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.codehaus.mojo:native-maven-plugin:1.0-alpha-9:compile (generate-shared-oqs-library) on project liboqs-java: Error executing command line. Exit code:1 -> [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```\r\n\r\nThank you","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-java/issues/comments/808950630","html_url":"https://github.com/open-quantum-safe/liboqs-java/issues/14#issuecomment-808950630","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs-java/issues/14","id":808950630,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODk1MDYzMA==","user":{"login":"jimouris","id":7729748,"node_id":"MDQ6VXNlcjc3Mjk3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/7729748?v=4","gravatar_id":"","url":"https://api.github.com/users/jimouris","html_url":"https://github.com/jimouris","followers_url":"https://api.github.com/users/jimouris/followers","following_url":"https://api.github.com/users/jimouris/following{/other_user}","gists_url":"https://api.github.com/users/jimouris/gists{/gist_id}","starred_url":"https://api.github.com/users/jimouris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimouris/subscriptions","organizations_url":"https://api.github.com/users/jimouris/orgs","repos_url":"https://api.github.com/users/jimouris/repos","events_url":"https://api.github.com/users/jimouris/events{/privacy}","received_events_url":"https://api.github.com/users/jimouris/received_events","type":"User","site_admin":false},"created_at":"2021-03-28T19:57:47Z","updated_at":"2021-03-28T19:57:47Z","author_association":"COLLABORATOR","body":"Hi! In my system, for Java 8 JNI is located in `/usr/lib/jvm/java-1.8.0-openjdk-amd64/include` and for Java 11 in `/usr/lib/jvm/java-11-openjdk-amd64/include`. For instance:\r\n```\r\n❯❯ ~ ls $JAVA_HOME/include\r\nclassfile_constants.h  jawt.h  jdwpTransport.h  jni.h  jvmticmlr.h  jvmti.h  linux\r\n```\r\n\r\nFrom your logs,\r\n```\r\ntaimoor@GAMING-PC:~/liboqs-java$ echo $JAVA_HOME && ls $JAVA_HOME\r\n/usr/lib/jvm/java-1.11.0-openjdk-amd64\r\nbin  conf  docs  legal  lib  man  release\r\n```\r\nit doesn't seem you have the include directory.\r\n\r\nCan you try installing the following packages? `apt install openjdk-11-jdk`, `apt install openjdk-11-jre`, and `apt install build-essential` I think the first one will do the work but if it doesn't, try installing the other two as well. Then check if you have the `include` directory and inside the directory a `jni.h` header file.\r\n\r\n","performed_via_github_app":null}},"public":true,"created_at":"2021-03-28T19:57:47Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"15720385412","type":"IssueCommentEvent","actor":{"id":7943812,"login":"opencrypto","display_login":"opencrypto","gravatar_id":"","url":"https://api.github.com/users/opencrypto","avatar_url":"https://avatars.githubusercontent.com/u/7943812?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/295","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/295/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/295/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/295/events","html_url":"https://github.com/open-quantum-safe/openssl/issues/295","id":837206565,"node_id":"MDU6SXNzdWU4MzcyMDY1NjU=","number":295,"title":"Issue when signing with new algorithms","user":{"login":"opencrypto","id":7943812,"node_id":"MDQ6VXNlcjc5NDM4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/7943812?v=4","gravatar_id":"","url":"https://api.github.com/users/opencrypto","html_url":"https://github.com/opencrypto","followers_url":"https://api.github.com/users/opencrypto/followers","following_url":"https://api.github.com/users/opencrypto/following{/other_user}","gists_url":"https://api.github.com/users/opencrypto/gists{/gist_id}","starred_url":"https://api.github.com/users/opencrypto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/opencrypto/subscriptions","organizations_url":"https://api.github.com/users/opencrypto/orgs","repos_url":"https://api.github.com/users/opencrypto/repos","events_url":"https://api.github.com/users/opencrypto/events{/privacy}","received_events_url":"https://api.github.com/users/opencrypto/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2021-03-21T23:08:27Z","updated_at":"2021-03-28T23:48:06Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello Everybody. I am trying to use the new algorithms in our wrapper library (LibPKI) that builds on top of OpenSSL. One thing I am having difficulties is to understand how to properly use the signing functions. \r\n\r\nSpecifically, I am trying to implement a generic signing function for DER encoded data (PKI_X509_sign(der (data), md (digest algor), evp_pkey) -> signature), and although the same functions work with RSA or ECDSA, they fail when I try with falcon, dilithium, or sphincs+.\r\n\r\nHere's the first code I tried:\r\n\r\n```\r\n// Creates the context\r\nif ((ctx = EVP_MD_CTX_create()) == NULL) {\r\n\tPKI_ERROR(PKI_ERR_MEMORY_ALLOC, NULL);\r\n\tif (out_mem) PKI_MEM_free(out_mem);\r\n\treturn NULL;\r\n}\r\n\r\n// Initializes the Context\r\nEVP_MD_CTX_init(ctx);\r\n\r\n// Initializes the Signature\r\nEVP_SignInit_ex(ctx, md, NULL);\r\nEVP_SignUpdate (ctx, der->data, der->size);\r\n\r\n// Finalizes the signature\r\nif (!EVP_SignFinal(ctx, out_mem->data, (unsigned int *) &ossl_ret, pkey))\r\n{\r\n\tPKI_ERROR(PKI_ERR_SIGNATURE_CREATE, \"Cannot finalize signature (%s)\", \r\n\t\tHSM_OPENSSL_get_errdesc(HSM_OPENSSL_get_errno(), NULL, 0));\r\n\r\n\tPKI_MEM_free(out_mem);\r\n\tout_mem = NULL;\r\n}\r\nelse out_mem->size = (size_t) ossl_ret;\r\n```\r\nI also tried the DigestSign version:\r\n```\r\n// Creates the context\r\nif ((ctx = EVP_MD_CTX_create()) == NULL) {\r\n\tPKI_ERROR(PKI_ERR_MEMORY_ALLOC, NULL);\r\n\tif (out_mem) PKI_MEM_free(out_mem);\r\n\treturn NULL;\r\n}\r\n\r\n// Initializes the Context\r\nEVP_MD_CTX_init(ctx);\r\n\r\nif (!EVP_DigestSignInit(ctx, &pCtx, md, NULL, pkey)) {\r\n    PKI_ERROR(PKI_ERR_SIGNATURE_CREATE, \"Cannot Initialize EVP_DigestSignInit()\");\r\n    goto err;\r\n}\r\n\r\nif (EVP_DigestSignUpdate(ctx, \r\n                                            der->data,\r\n   \t                                    der->size) <= 0) {\r\n   PKI_ERROR(PKI_ERR_SIGNATURE_CREATE, \"Cannot Update EVP_DigestSignUpdate()\");\r\n   goto err;\r\n}\r\n\r\nif (EVP_DigestSignFinal(ctx,\r\n                                        out_mem->data,\r\n                                        &ossl_ret) <= 0) {\r\n    PKI_ERROR(PKI_ERR_SIGNATURE_CREATE, \"Cannot Finalize EVP_DigestSignFinal()\");\r\n    goto err;\r\n}\r\nelse out_mem->size = (size_t) ossl_ret;\r\n```\r\nThe error seems to be related to the digest used (\"md\"). Specifically, if the md is not NULL, the EVP_SignFinal()/EVP_DigestSignFinal() fail with the following error trace:\r\n\r\n```\r\nMar 21 22:48:28 2021 GMT [91455] ERROR: [openssl_hsm.c:349] Can not create signature (117): Cannot finalize signature (  H??)\r\nMar 21 22:48:28 2021 GMT [91455] ERROR: [openssl_hsm.c:392] [HSM_OPENSSL_sign()] [ERROR] PKEY Type => 1294, falcon512\r\nMar 21 22:48:28 2021 GMT [91455] INFO: [openssl_hsm.c:395] [HSM_OPENSSL_sign()] [DEBUG]: [Signature Generated: 0 bytes (estimated: 690 bytes)]\r\nMar 21 22:48:28 2021 GMT [91455] INFO: [hsm_main.c:614] [PKI_sign()] [DEBUG]: Can not generate signature (returned from sign cb)\r\nMar 21 22:48:28 2021 GMT [91455] ERROR: [hsm_main.c:541] Can not create signature (117):\r\nMar 21 22:48:28 2021 GMT [91455] INFO: [pki_x509_req.c:222] [PKI_X509_REQ_new()] [DEBUG] REQ::ERROR 0 signing the Request [error:1012F0B1:elliptic curve routines:pkey_oqs_ctrl:wrong digest]\r\n```\r\nI know I am doing something wrong here, but I am not sure what... \r\n\r\nTo probe a bit further, I forced the use of a specific hashing algorithm - since the error was related to that, somehow: md = EVP_sha512(). If I do that, I get a success return code but the signature in the data is all zeroes.\r\n\r\n```\r\nMar 21 22:54:41 2021 GMT [97064] INFO: [pki_x509_req.c:61] [PKI_X509_REQ_new()] [DEBUG]: No Digest Associated with used algorithm\r\nMar 21 22:54:41 2021 GMT [97064] ERROR: [openssl_hsm.c:392] [HSM_OPENSSL_sign()] [ERROR] PKEY Type => 1294, falcon512\r\nMar 21 22:54:41 2021 GMT [97064] INFO: [openssl_hsm.c:395] [HSM_OPENSSL_sign()] [DEBUG]: [Signature Generated: 690 bytes (estimated: 690 bytes)]\r\n```\r\n\r\nJust to be very precise, when I use the standard apps/ tools (i.e., openssl req -new ...) I am able to generate things correctly.\r\n\r\nAnybody experiencing similar issues and/or know what I might be doing wrong?\r\n","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/808981216","html_url":"https://github.com/open-quantum-safe/openssl/issues/295#issuecomment-808981216","issue_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/295","id":808981216,"node_id":"MDEyOklzc3VlQ29tbWVudDgwODk4MTIxNg==","user":{"login":"opencrypto","id":7943812,"node_id":"MDQ6VXNlcjc5NDM4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/7943812?v=4","gravatar_id":"","url":"https://api.github.com/users/opencrypto","html_url":"https://github.com/opencrypto","followers_url":"https://api.github.com/users/opencrypto/followers","following_url":"https://api.github.com/users/opencrypto/following{/other_user}","gists_url":"https://api.github.com/users/opencrypto/gists{/gist_id}","starred_url":"https://api.github.com/users/opencrypto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/opencrypto/subscriptions","organizations_url":"https://api.github.com/users/opencrypto/orgs","repos_url":"https://api.github.com/users/opencrypto/repos","events_url":"https://api.github.com/users/opencrypto/events{/privacy}","received_events_url":"https://api.github.com/users/opencrypto/received_events","type":"User","site_admin":false},"created_at":"2021-03-28T23:48:06Z","updated_at":"2021-03-28T23:48:06Z","author_association":"NONE","body":"This week-end I managed to make some progress on the last of the two issues (Composite Crypto implementation). Specifically, I created new pair of ASN1 and PKEY methods for the Composite that seem to work pretty well. Lots of work to be done, but by using the keygen functions to actually generate the combined key (from already generated/loaded/otherwise-provided keys) I can have combined key of any type - RSA + EC + Falcon, for example. Of course there are many different ways to implement it - this is just a first try - but it seems to work correctly (took me a while figuring out the STACK_OF -> SEQUENCE conversion... if only the ASN1 subsystem was better documented.. :D I think there was one function ASN1_seq_pack() but it was removed since.. probably 1.0.x ... so needed to re-invent the wheel...\r\n\r\nIt is just a first test, but if you'd like to take a look and/or the GIT is available here:\r\n\r\n- https://github.com/opencrypto/libpki-oqs-test\r\n\r\nall the needed patches are in the config-n-patch/ directory - most noticeably it adds the oqs/ directory in crypto/ (removes the use of the crypto/ec/ directory - nothing else) and implements the Composite in the crypto/composite directory.\r\n\r\nAfter the Composite is finalized - we will work on the EVP_PKEY signing interface - since that seems to be the trick to provide generalized support. I will definitely need a lot of help on this as I am not experienced with the new algorithms and implementations already.\r\n\r\nWe hope to be able to contribute back the signature part, but I am not sure when it is going to be completed... \r\n\r\nI guess if there is no further follow up, we can close this issue.. ? Unless @crispySafe would like to add more comments... ?\r\n","performed_via_github_app":null}},"public":true,"created_at":"2021-03-28T23:48:06Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
