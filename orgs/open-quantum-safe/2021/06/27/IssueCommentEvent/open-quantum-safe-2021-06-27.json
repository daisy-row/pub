{"id":"16938388805","type":"IssueCommentEvent","actor":{"id":36664211,"login":"vt-alt","display_login":"vt-alt","gravatar_id":"","url":"https://api.github.com/users/vt-alt","avatar_url":"https://avatars.githubusercontent.com/u/36664211?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037","id":930548190,"node_id":"MDExOlB1bGxSZXF1ZXN0Njc4MjIwMDM3","number":1037,"title":"Support for x86 and ppc64le architectures","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-06-25T22:52:19Z","updated_at":"2021-06-27T02:34:31Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/1037","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/1037.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/1037.patch"},"body":"As requested in https://github.com/open-quantum-safe/liboqs/issues/1019#issuecomment-868131725\r\nTwo commits to support builds on x86 (`i686`) and ppc64le, all algorithms are supposed to build as generic implementations.\r\n\r\nTested and all tests are passing on [ALT Linux](http://git.altlinux.org/people/vt/packages/?p=liboqs.git;a=shortlog;h=refs/tags/0.6.0-alt2). Our build logs (with tests run):\r\n* http://git.altlinux.org/tasks/archive/done/_269/275542/build/100/i586/log\r\n* http://git.altlinux.org/tasks/archive/done/_269/275542/build/100/ppc64le/log\r\n\r\nps. These two commits are just `cherry-pick`'ed from our downstream repo, with some conflict resolved for the second one.","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/869090272","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037#issuecomment-869090272","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037","id":869090272,"node_id":"MDEyOklzc3VlQ29tbWVudDg2OTA5MDI3Mg==","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"created_at":"2021-06-27T02:34:31Z","updated_at":"2021-06-27T02:34:31Z","author_association":"NONE","body":"We are using [rpm-based](https://en.wikipedia.org/wiki/RPM_Package_Manager) `rpmbuild` system [with `.spec` files](http://git.altlinux.org/gears/l/liboqs.git?p=liboqs.git;a=blob;f=.gear/liboqs.spec;;hb=refs/heads/sisyphus), which can have `%check` section where tests could be run after `%build`&`%install` stages. So, basically, I just run `ninja run_tests` there. Because we are using native builds these are run on every architecture where the build just happened (we have aarch64, armh, i586, ppc64le, and x86_64) and before it's later committed into the repository.\r\n\r\nTests were passing when these commits applied over `0.6.0`, now I found that when applied over the current `main` branch (like in this PR) tests are failing on `i686` architecture.\r\n```\r\n=========================== short test summary info ============================\r\nFAILED tests/test_cmdline.py::test_kem[BIKE-L1] - AssertionError: Got unexpec...\r\nFAILED tests/test_cmdline.py::test_kem[BIKE-L3] - AssertionError: Got unexpec...\r\nFAILED tests/test_kat.py::test_kem[BIKE-L1] - AssertionError: Got unexpected ...\r\nFAILED tests/test_kat.py::test_kem[BIKE-L3] - AssertionError: Got unexpected ...\r\nFAILED tests/test_mem.py::test_mem_kem[BIKE-L3] - AssertionError: Got unexpec...\r\nFAILED tests/test_mem.py::test_mem_kem[BIKE-L1] - AssertionError: Got unexpec...\r\n============ 6 failed, 506 passed, 258 skipped in 61.45s (0:01:01) =============\r\n```\r\nI see there is commit 17d3e0bab5202da6697cdf6f4ccbd2ed43a415c8 with heavy BIKE update. Maybe it requires additional porting effort.\r\n","performed_via_github_app":null}},"public":true,"created_at":"2021-06-27T02:34:31Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"16938396783","type":"IssueCommentEvent","actor":{"id":36664211,"login":"vt-alt","display_login":"vt-alt","gravatar_id":"","url":"https://api.github.com/users/vt-alt","avatar_url":"https://avatars.githubusercontent.com/u/36664211?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037","id":930548190,"node_id":"MDExOlB1bGxSZXF1ZXN0Njc4MjIwMDM3","number":1037,"title":"Support for x86 and ppc64le architectures","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-06-25T22:52:19Z","updated_at":"2021-06-27T02:37:49Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/1037","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/1037.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/1037.patch"},"body":"As requested in https://github.com/open-quantum-safe/liboqs/issues/1019#issuecomment-868131725\r\nTwo commits to support builds on x86 (`i686`) and ppc64le, all algorithms are supposed to build as generic implementations.\r\n\r\nTested and all tests are passing on [ALT Linux](http://git.altlinux.org/people/vt/packages/?p=liboqs.git;a=shortlog;h=refs/tags/0.6.0-alt2). Our build logs (with tests run):\r\n* http://git.altlinux.org/tasks/archive/done/_269/275542/build/100/i586/log\r\n* http://git.altlinux.org/tasks/archive/done/_269/275542/build/100/ppc64le/log\r\n\r\nps. These two commits are just `cherry-pick`'ed from our downstream repo, with some conflict resolved for the second one.","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/869090457","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037#issuecomment-869090457","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037","id":869090457,"node_id":"MDEyOklzc3VlQ29tbWVudDg2OTA5MDQ1Nw==","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"created_at":"2021-06-27T02:37:49Z","updated_at":"2021-06-27T02:37:49Z","author_association":"NONE","body":"> I see there is commit [17d3e0b](https://github.com/open-quantum-safe/liboqs/commit/17d3e0bab5202da6697cdf6f4ccbd2ed43a415c8) with heavy BIKE update. Maybe it requires additional porting effort.\r\n\r\nBtw, it says `* Disable BIKE build on 32-bit ARM` is it known why? Perhaps, it's related.\r\n","performed_via_github_app":null}},"public":true,"created_at":"2021-06-27T02:37:50Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"16938425361","type":"IssueCommentEvent","actor":{"id":36664211,"login":"vt-alt","display_login":"vt-alt","gravatar_id":"","url":"https://api.github.com/users/vt-alt","avatar_url":"https://avatars.githubusercontent.com/u/36664211?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037","id":930548190,"node_id":"MDExOlB1bGxSZXF1ZXN0Njc4MjIwMDM3","number":1037,"title":"Support for x86 and ppc64le architectures","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-06-25T22:52:19Z","updated_at":"2021-06-27T02:49:10Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/1037","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/1037.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/1037.patch"},"body":"As requested in https://github.com/open-quantum-safe/liboqs/issues/1019#issuecomment-868131725\r\nTwo commits to support builds on x86 (`i686`) and ppc64le, all algorithms are supposed to build as generic implementations.\r\n\r\nTested and all tests are passing on [ALT Linux](http://git.altlinux.org/people/vt/packages/?p=liboqs.git;a=shortlog;h=refs/tags/0.6.0-alt2). Our build logs (with tests run):\r\n* http://git.altlinux.org/tasks/archive/done/_269/275542/build/100/i586/log\r\n* http://git.altlinux.org/tasks/archive/done/_269/275542/build/100/ppc64le/log\r\n\r\nps. These two commits are just `cherry-pick`'ed from our downstream repo, with some conflict resolved for the second one.","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/869091204","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037#issuecomment-869091204","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037","id":869091204,"node_id":"MDEyOklzc3VlQ29tbWVudDg2OTA5MTIwNA==","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"created_at":"2021-06-27T02:49:10Z","updated_at":"2021-06-27T02:49:10Z","author_association":"NONE","body":"> Perhaps, it's related.\r\n\r\nYes, when I disable BIKE similar to how it's disabled for 32-bit ARM in 17d3e0bab5202da6697cdf6f4ccbd2ed43a415c8 tests are passing again. Patch:\r\n\r\n```patch\r\ndiff --git a/.CMake/alg_support.cmake b/.CMake/alg_support.cmake\r\nindex 51094bcf..ae695014 100644\r\n--- a/.CMake/alg_support.cmake\r\n+++ b/.CMake/alg_support.cmake\r\n@@ -28,7 +28,7 @@ endif()\r\n endif()\r\n\r\n # BIKE is not supported on Windows and 32-bit ARM\r\n-cmake_dependent_option(OQS_ENABLE_KEM_BIKE \"Enable BIKE algorithm family\" ON \"NOT WIN32; NOT ARCH_ARM32v7\" OFF)\r\n+cmake_dependent_option(OQS_ENABLE_KEM_BIKE \"Enable BIKE algorithm family\" ON \"NOT WIN32; NOT ARCH_ARM32v7; NOT ARCH_X86\" OFF)\r\n cmake_dependent_option(OQS_ENABLE_KEM_bike1_l1_cpa \"\" ON \"OQS_ENABLE_KEM_BIKE\" OFF)\r\n cmake_dependent_option(OQS_ENABLE_KEM_bike1_l1_fo \"\" ON \"OQS_ENABLE_KEM_BIKE\" OFF)\r\n cmake_dependent_option(OQS_ENABLE_KEM_bike1_l3_cpa \"\" ON \"OQS_ENABLE_KEM_BIKE\" OFF)\r\n```\r\nI will force-push the updated version of the commits.\r\n\r\nBut, it's pity BIKE is not working (anymore?) on 32-bit arches.\r\n","performed_via_github_app":null}},"public":true,"created_at":"2021-06-27T02:49:10Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"16938471707","type":"IssueCommentEvent","actor":{"id":36664211,"login":"vt-alt","display_login":"vt-alt","gravatar_id":"","url":"https://api.github.com/users/vt-alt","avatar_url":"https://avatars.githubusercontent.com/u/36664211?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037","id":930548190,"node_id":"MDExOlB1bGxSZXF1ZXN0Njc4MjIwMDM3","number":1037,"title":"Support for x86 and ppc64le architectures","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2021-06-25T22:52:19Z","updated_at":"2021-06-27T03:06:51Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/1037","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/1037.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/1037.patch"},"body":"As requested in https://github.com/open-quantum-safe/liboqs/issues/1019#issuecomment-868131725\r\nTwo commits to support builds on x86 (`i686`) and ppc64le, all algorithms are supposed to build as generic implementations.\r\n\r\nTested and all tests are passing on [ALT Linux](http://git.altlinux.org/people/vt/packages/?p=liboqs.git;a=shortlog;h=refs/tags/0.6.0-alt2). Our build logs (with tests run):\r\n* http://git.altlinux.org/tasks/archive/done/_269/275542/build/100/i586/log\r\n* http://git.altlinux.org/tasks/archive/done/_269/275542/build/100/ppc64le/log\r\n\r\nps. These two commits are just `cherry-pick`'ed from our downstream repo, with some conflict resolved for the second one.","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/869092552","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037#issuecomment-869092552","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037","id":869092552,"node_id":"MDEyOklzc3VlQ29tbWVudDg2OTA5MjU1Mg==","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"created_at":"2021-06-27T03:06:51Z","updated_at":"2021-06-27T03:06:51Z","author_association":"NONE","body":"Btw, I may try to [experimentally] create `Dockerfile` to build `liboqs` on the ALT's docker image for testing purposes. These could be run in Github Actions or directly. The apparent downside is ppc64le's one will be `qemu-user` emulated (and slower).\r\n\r\nps. I noticed such CI method in [ispc project](https://github.com/ispc/ispc/tree/main/docker).","performed_via_github_app":null}},"public":true,"created_at":"2021-06-27T03:06:51Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"16939012996","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037","id":930548190,"node_id":"MDExOlB1bGxSZXF1ZXN0Njc4MjIwMDM3","number":1037,"title":"Support for x86 and ppc64le architectures","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2021-06-25T22:52:19Z","updated_at":"2021-06-27T06:24:17Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/1037","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/1037.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/1037.patch"},"body":"As requested in https://github.com/open-quantum-safe/liboqs/issues/1019#issuecomment-868131725\r\nTwo commits to support builds on x86 (`i686`) and ppc64le, all algorithms are supposed to build as generic implementations.\r\n\r\nTested and all tests are passing on [ALT Linux](http://git.altlinux.org/people/vt/packages/?p=liboqs.git;a=shortlog;h=refs/tags/0.6.0-alt2). Our build logs (with tests run):\r\n* http://git.altlinux.org/tasks/archive/done/_269/275542/build/100/i586/log\r\n* http://git.altlinux.org/tasks/archive/done/_269/275542/build/100/ppc64le/log\r\n\r\nps. These two commits are just `cherry-pick`'ed from our downstream repo, with some conflict resolved for the second one.","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/869109963","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037#issuecomment-869109963","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037","id":869109963,"node_id":"MDEyOklzc3VlQ29tbWVudDg2OTEwOTk2Mw==","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2021-06-27T06:24:17Z","updated_at":"2021-06-27T06:24:17Z","author_association":"MEMBER","body":"> we have aarch64, armh, i586, ppc64le, and x86_64\r\n\r\nOK, thanks for the explanation: So you have such physical machines somewhere and \"simply\" build/test on them (?)\r\n\r\n> Btw, I may try to [experimentally] create Dockerfile to build liboqs on the ALT's docker image for testing purposes. These could be run in Github Actions or directly. The apparent downside is ppc64le's one will be qemu-user emulated (and slower).\r\n\r\nFWIW, the [oqs-demos](https://github.com/open-quantum-safe/oqs-demos) and [profiling](https://github.com/open-quantum-safe/profiling/tree/main/perf) subprojects also do that -- but when looking at Github Actions, I'm not seeing a way to run things other than x86, ARM64/32 [even using self-hosted runners](https://docs.github.com/en/actions/hosting-your-own-runners/about-self-hosted-runners) -- even leaving the security downside of a public project aside. So that indeed would call for emulated ppc64le or s390x -- which arguably is _way_ too slow, no?\r\n","performed_via_github_app":null}},"public":true,"created_at":"2021-06-27T06:24:17Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"16942384820","type":"IssueCommentEvent","actor":{"id":36664211,"login":"vt-alt","display_login":"vt-alt","gravatar_id":"","url":"https://api.github.com/users/vt-alt","avatar_url":"https://avatars.githubusercontent.com/u/36664211?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037","id":930548190,"node_id":"MDExOlB1bGxSZXF1ZXN0Njc4MjIwMDM3","number":1037,"title":"Support for x86 and ppc64le architectures","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-06-25T22:52:19Z","updated_at":"2021-06-27T20:04:08Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/1037","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/1037.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/1037.patch"},"body":"As requested in https://github.com/open-quantum-safe/liboqs/issues/1019#issuecomment-868131725\r\nTwo commits to support builds on x86 (`i686`) and ppc64le, all algorithms are supposed to build as generic implementations.\r\n\r\nTested and all tests are passing on [ALT Linux](http://git.altlinux.org/people/vt/packages/?p=liboqs.git;a=shortlog;h=refs/tags/0.6.0-alt2). Our build logs (with tests run):\r\n* http://git.altlinux.org/tasks/archive/done/_269/275542/build/100/i586/log\r\n* http://git.altlinux.org/tasks/archive/done/_269/275542/build/100/ppc64le/log\r\n\r\nps. These two commits are just `cherry-pick`'ed from our downstream repo, with some conflict resolved for the second one.","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/869216997","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037#issuecomment-869216997","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037","id":869216997,"node_id":"MDEyOklzc3VlQ29tbWVudDg2OTIxNjk5Nw==","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"created_at":"2021-06-27T20:04:08Z","updated_at":"2021-06-27T20:04:08Z","author_association":"NONE","body":">  So you have such physical machines somewhere and \"simply\" build/test on them (?)\r\n\r\nYes. They are integrated into our build system and considered to be the main architectures.\r\n\r\n> So that indeed would call for emulated ppc64le or s390x -- which arguably is _way_ too slow, no?\r\n\r\nIt will be slower than native or KVM virtualization, but faster than full `qemu-system` emulation (with emulated userspace and kernel, while `qemu-user` only emulates userspace and pass-through the kernel).\r\n\r\nhttps://ahmedkrmn.github.io/TCG-Continuous-Benchmarking/Measuring-QEMU-Emulation-Efficiency/\r\nThis page measures ppc64le native to emulation instructions ratio from 1:6 (work with integers) to 1:58 (work with doubles). Our build and run_tests took `923.59user` cpu seconds, thus making an optimistic run starting from 46 minutes on emulation, or longer.\r\n\r\nThe only public ppc64le instances I know are Travis-CI and [GCC Compile Farm](https://cfarm.tetaneutral.net/machines/list/) (perhaps not suitable for automatic testing).\r\n","performed_via_github_app":null}},"public":true,"created_at":"2021-06-27T20:04:08Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"16942415301","type":"IssueCommentEvent","actor":{"id":36664211,"login":"vt-alt","display_login":"vt-alt","gravatar_id":"","url":"https://api.github.com/users/vt-alt","avatar_url":"https://avatars.githubusercontent.com/u/36664211?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037","id":930548190,"node_id":"MDExOlB1bGxSZXF1ZXN0Njc4MjIwMDM3","number":1037,"title":"Support for x86 and ppc64le architectures","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2021-06-25T22:52:19Z","updated_at":"2021-06-27T20:12:16Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/1037","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/1037.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/1037.patch"},"body":"As requested in https://github.com/open-quantum-safe/liboqs/issues/1019#issuecomment-868131725\r\nTwo commits to support builds on x86 (`i686`) and ppc64le, all algorithms are supposed to build as generic implementations.\r\n\r\nTested and all tests are passing on [ALT Linux](http://git.altlinux.org/people/vt/packages/?p=liboqs.git;a=shortlog;h=refs/tags/0.6.0-alt2). Our build logs (with tests run):\r\n* http://git.altlinux.org/tasks/archive/done/_269/275542/build/100/i586/log\r\n* http://git.altlinux.org/tasks/archive/done/_269/275542/build/100/ppc64le/log\r\n\r\nps. These two commits are just `cherry-pick`'ed from our downstream repo, with some conflict resolved for the second one.","performed_via_github_app":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/869217886","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1037#issuecomment-869217886","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1037","id":869217886,"node_id":"MDEyOklzc3VlQ29tbWVudDg2OTIxNzg4Ng==","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"created_at":"2021-06-27T20:12:16Z","updated_at":"2021-06-27T20:12:16Z","author_association":"NONE","body":"FYI. For the sake of curiosity, I tested `liboqs` on `ppc64` (which is the big-endian counterpart of `ppc64le`) (on the `gcc203` box of GCC Compile Farm) and it produces 28 test failures (and 1 build failure). So, I guess the code is not big-endian ready. (Not that we need it.)","performed_via_github_app":null}},"public":true,"created_at":"2021-06-27T20:12:16Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
