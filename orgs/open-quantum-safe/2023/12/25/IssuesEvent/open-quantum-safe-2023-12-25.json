{"id":"34395932546","type":"IssuesEvent","actor":{"id":13664257,"login":"vkosuri","display_login":"vkosuri","gravatar_id":"","url":"https://api.github.com/users/vkosuri","avatar_url":"https://avatars.githubusercontent.com/u/13664257?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"opened","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1642","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1642/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1642/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1642/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1642","id":2055511770,"node_id":"I_kwDOA-eq3c56hJ7a","number":1642,"title":"Objects of target \"oqs\" referenced but is not an OBJECT library.","user":{"login":"vkosuri","id":13664257,"node_id":"MDQ6VXNlcjEzNjY0MjU3","avatar_url":"https://avatars.githubusercontent.com/u/13664257?v=4","gravatar_id":"","url":"https://api.github.com/users/vkosuri","html_url":"https://github.com/vkosuri","followers_url":"https://api.github.com/users/vkosuri/followers","following_url":"https://api.github.com/users/vkosuri/following{/other_user}","gists_url":"https://api.github.com/users/vkosuri/gists{/gist_id}","starred_url":"https://api.github.com/users/vkosuri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vkosuri/subscriptions","organizations_url":"https://api.github.com/users/vkosuri/orgs","repos_url":"https://api.github.com/users/vkosuri/repos","events_url":"https://api.github.com/users/vkosuri/events{/privacy}","received_events_url":"https://api.github.com/users/vkosuri/received_events","type":"User","site_admin":false},"labels":[{"id":423520883,"node_id":"MDU6TGFiZWw0MjM1MjA4ODM=","url":"https://api.github.com/repos/open-quantum-safe/liboqs/labels/question","name":"question","color":"cc317c","default":true,"description":"Further information is requested"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-12-24T23:52:45Z","updated_at":"2023-12-25T08:29:24Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"liboqs build failed on ``Objects of target \"oqs\" referenced but is not an OBJECT library.`` I am using the Dockerfile of Python Buster\r\n\r\nI am trying to install all the debs through https://github.com/open-quantum-safe/oqs-provider/blob/main/scripts/fullbuild.sh\r\n\r\nIt seems that Python Buster using older CMake https://discourse.cmake.org/t/objects-of-target-x-referenced-but-is-not-an-object-library/3857\r\n\r\nIs there a way to fix this issue?\r\n\r\nMy Dockerfile \r\n\r\n```Dockerfile\r\nFROM python:3.8.12-buster\r\n\r\nRUN apt-get update && apt-get -y install --no-install-recommends \\\r\n    docker.io astyle cmake gcc ninja-build libssl-dev python3-pytest \\\r\n    python3-pytest-xdist unzip xsltproc doxygen graphviz python3-yaml valgrind\r\n```\r\n\r\n```sh\r\n#0 69.30 cloning liboqs main...\r\n#0 69.30 Cloning into 'liboqs'...\r\n#0 70.51 -- The C compiler identification is GNU 8.3.0\r\n#0 70.53 -- The ASM compiler identification is GNU\r\n#0 70.53 -- Found assembler: /usr/bin/cc\r\n#0 70.53 -- Check for working C compiler: /usr/bin/cc\r\n#0 70.63 -- Check for working C compiler: /usr/bin/cc -- works\r\n#0 70.64 -- Detecting C compiler ABI info\r\n#0 70.75 -- Detecting C compiler ABI info - done\r\n#0 70.75 -- Detecting C compile features\r\n#0 71.09 -- Detecting C compile features - done\r\n#0 71.10 -- Performing Test CC_SUPPORTS_WA_NOEXECSTACK\r\n#0 71.21 -- Performing Test CC_SUPPORTS_WA_NOEXECSTACK - Success\r\n#0 71.21 CMake Warning at .CMake/compiler_opts.cmake:35 (message):\r\n#0 71.21   Unable to check if '-Wl,-z,noexecstack' is supported.\r\n#0 71.21 Call Stack (most recent call first):\r\n#0 71.21   CMakeLists.txt:119 (include)\r\n#0 71.21\r\n#0 71.21\r\n#0 71.21 -- Looking for pthread.h\r\n#0 71.31 -- Looking for pthread.h - found\r\n#0 71.31 -- Looking for pthread_create\r\n#0 71.42 -- Looking for pthread_create - not found\r\n#0 71.43 -- Check if compiler accepts -pthread\r\n#0 71.54 -- Check if compiler accepts -pthread - yes\r\n#0 71.55 -- Found Threads: TRUE\r\n#0 71.57 -- Algorithms filtered for KEM_kyber_768\r\n#0 71.73 -- Found OpenSSL: /optbuild/oqs-provider/.local/lib/libcrypto.a (Required is at least version \"1.1.1\")\r\n#0 71.79 -- Looking for aligned_alloc\r\n#0 71.90 -- Looking for aligned_alloc - found\r\n#0 71.90 -- Looking for posix_memalign\r\n#0 72.02 -- Looking for posix_memalign - found\r\n#0 72.03 -- Looking for memalign\r\n#0 72.14 -- Looking for memalign - found\r\n#0 72.14 -- Looking for explicit_bzero\r\n#0 72.25 -- Looking for explicit_bzero - found\r\n#0 72.25 -- Looking for memset_s\r\n#0 72.30 -- Looking for memset_s - not found\r\n#0 72.66 -- Found Doxygen: /usr/bin/doxygen (found version \"1.8.13\") found components:  doxygen dot\r\n#0 72.74 -- Configuring done\r\n#0 72.74 CMake Error at tests/CMakeLists.txt:74 (add_executable):\r\n#0 72.74   Error evaluating generator expression:\r\n#0 72.74\r\n#0 72.74     $<TARGET_OBJECTS:oqs>\r\n#0 72.74\r\n#0 72.74   Objects of target \"oqs\" referenced but is not an OBJECT library.\r\n#0 72.74\r\n#0 72.74\r\n#0 72.75 -- Build files have been written to: /optbuild/oqs-provider/liboqs/build\r\n#0 72.75 CMake Error at tests/CMakeLists.txt:74 (add_executable):\r\n#0 72.75   No SOURCES given to target: kat_kem\r\n#0 72.75\r\n#0 72.75\r\n#0 72.75 liboqs build failed. Exiting.\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1642/timeline","performed_via_github_app":null,"state_reason":null}},"public":true,"created_at":"2023-12-25T08:29:25Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
