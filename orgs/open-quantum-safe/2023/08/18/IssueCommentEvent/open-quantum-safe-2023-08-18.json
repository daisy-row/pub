{"id":"31207565067","type":"IssueCommentEvent","actor":{"id":32701051,"login":"Krylol94","display_login":"Krylol94","gravatar_id":"","url":"https://api.github.com/users/Krylol94","avatar_url":"https://avatars.githubusercontent.com/u/32701051?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/231","id":1846864557,"node_id":"I_kwDOE_A9l85uFOqt","number":231,"title":"Example in USAGE.md: ","user":{"login":"cryptojane94","id":142023704,"node_id":"U_kgDOCHccGA","avatar_url":"https://avatars.githubusercontent.com/u/142023704?v=4","gravatar_id":"","url":"https://api.github.com/users/cryptojane94","html_url":"https://github.com/cryptojane94","followers_url":"https://api.github.com/users/cryptojane94/followers","following_url":"https://api.github.com/users/cryptojane94/following{/other_user}","gists_url":"https://api.github.com/users/cryptojane94/gists{/gist_id}","starred_url":"https://api.github.com/users/cryptojane94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cryptojane94/subscriptions","organizations_url":"https://api.github.com/users/cryptojane94/orgs","repos_url":"https://api.github.com/users/cryptojane94/repos","events_url":"https://api.github.com/users/cryptojane94/events{/privacy}","received_events_url":"https://api.github.com/users/cryptojane94/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":19,"created_at":"2023-08-11T13:51:04Z","updated_at":"2023-08-18T09:30:07Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nI generated the keys and ceritifcates following the procedure described, but when running the server the connection couldn't be established because I got the error:\r\n\r\nerror setting certificate\r\n80DBC4E8877F0000:error:0A0000F7:SSL routines:ssl_set_cert_unknown certificate type:ssl/ssl_rsa.c:257:\r\n\r\nI have installed Ubuntu 22.04.3 LTS and I am using OpenSSL 3.2.0-dev\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1683633290","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/231#issuecomment-1683633290","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231","id":1683633290,"node_id":"IC_kwDOE_A9l85kWjSK","user":{"login":"Krylol94","id":32701051,"node_id":"MDQ6VXNlcjMyNzAxMDUx","avatar_url":"https://avatars.githubusercontent.com/u/32701051?v=4","gravatar_id":"","url":"https://api.github.com/users/Krylol94","html_url":"https://github.com/Krylol94","followers_url":"https://api.github.com/users/Krylol94/followers","following_url":"https://api.github.com/users/Krylol94/following{/other_user}","gists_url":"https://api.github.com/users/Krylol94/gists{/gist_id}","starred_url":"https://api.github.com/users/Krylol94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Krylol94/subscriptions","organizations_url":"https://api.github.com/users/Krylol94/orgs","repos_url":"https://api.github.com/users/Krylol94/repos","events_url":"https://api.github.com/users/Krylol94/events{/privacy}","received_events_url":"https://api.github.com/users/Krylol94/received_events","type":"User","site_admin":false},"created_at":"2023-08-18T09:30:07Z","updated_at":"2023-08-18T09:30:07Z","author_association":"NONE","body":"\r\n> So _are_ you now using the correct version (3.2.0-dev)? And _are_ you certain to have generated _all_ certificates with the correct OpenSSL version? Verify the chain before use.\r\n> \r\n\r\n\r\nNow I am sure about it, the certificates has been generated with the correct OpenSSL version and again, the OQS provider is shown as actived.\r\n\r\n\r\n> > How should I use it?\r\n> \r\n> Usage is documented (https://hub.docker.com/repository/docker/openquantumsafe/oqs-ossl3/general)\r\n\r\nIn docker I tried to replicate the example is USAGE.md with certificate generation and the attempt to establish a server connection:\r\n\r\n- The certificates looks like the one I generated before, I suppose that this step has been done correctly:\r\n- The server connection shows else,\r\n\r\nwhen `openssl x509 -req -in dilithium3_srv.csr -out dilithium3_srv.crt -CA dilithium3_CA.crt -CAkey dilithium3_CA.key -CAcreateserial -days 365` is issued in the docker container I obtain:\r\n\r\n```\r\nUsing default temp DH parameters\r\n488BB3F8027F0000:error:80000062:system library:BIO_bind:Address in use:crypto/bio/bio_sock2.c:240:calling bind()\r\n488BB3F8027F0000:error:10000075:BIO routines:BIO_bind:unable to bind socket:crypto/bio/bio_sock2.c:242:\r\n   0 items in the session cache\r\n   0 client connects (SSL_connect())\r\n   0 client renegotiates (SSL_connect())\r\n   0 client connects that finished\r\n   0 server accepts (SSL_accept())\r\n   0 server renegotiates (SSL_accept())\r\n   0 server accepts that finished\r\n   0 session cache hits\r\n   0 session cache misses\r\n   0 session cache timeouts\r\n   0 callback cache hits\r\n   0 cache full overflows (128 allowed)\r\n```\r\n\r\n\r\nI am not sure if I am not using properly docker.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1683633290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-08-18T09:30:07Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"31209872061","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/231","id":1846864557,"node_id":"I_kwDOE_A9l85uFOqt","number":231,"title":"Example in USAGE.md: ","user":{"login":"cryptojane94","id":142023704,"node_id":"U_kgDOCHccGA","avatar_url":"https://avatars.githubusercontent.com/u/142023704?v=4","gravatar_id":"","url":"https://api.github.com/users/cryptojane94","html_url":"https://github.com/cryptojane94","followers_url":"https://api.github.com/users/cryptojane94/followers","following_url":"https://api.github.com/users/cryptojane94/following{/other_user}","gists_url":"https://api.github.com/users/cryptojane94/gists{/gist_id}","starred_url":"https://api.github.com/users/cryptojane94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cryptojane94/subscriptions","organizations_url":"https://api.github.com/users/cryptojane94/orgs","repos_url":"https://api.github.com/users/cryptojane94/repos","events_url":"https://api.github.com/users/cryptojane94/events{/privacy}","received_events_url":"https://api.github.com/users/cryptojane94/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":20,"created_at":"2023-08-11T13:51:04Z","updated_at":"2023-08-18T11:11:34Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nI generated the keys and ceritifcates following the procedure described, but when running the server the connection couldn't be established because I got the error:\r\n\r\nerror setting certificate\r\n80DBC4E8877F0000:error:0A0000F7:SSL routines:ssl_set_cert_unknown certificate type:ssl/ssl_rsa.c:257:\r\n\r\nI have installed Ubuntu 22.04.3 LTS and I am using OpenSSL 3.2.0-dev\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1683757994","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/231#issuecomment-1683757994","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231","id":1683757994,"node_id":"IC_kwDOE_A9l85kXBuq","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-08-18T11:11:34Z","updated_at":"2023-08-18T11:11:34Z","author_association":"MEMBER","body":"The error message above cannot be returned when issuing an `openssl x509` command, but only when setting up a server (`openssl s_server`). In in that case it is indicative of a server already using the same port -- which is the case if you started the docker without parameter: That image auto-starts a QSC-enabled TLS server. You can avoid that by passing the parameter `sh` to the docker invocation (`docker run -it openquantumsafe/oqs-ossl3 sh`). Please read up a bit on docker usage: It's really worthwhile knowing the basics of that -- if only to gain platform independence for your work.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1683757994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-08-18T11:11:35Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"31212610014","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/231","id":1846864557,"node_id":"I_kwDOE_A9l85uFOqt","number":231,"title":"Example in USAGE.md: ","user":{"login":"cryptojane94","id":142023704,"node_id":"U_kgDOCHccGA","avatar_url":"https://avatars.githubusercontent.com/u/142023704?v=4","gravatar_id":"","url":"https://api.github.com/users/cryptojane94","html_url":"https://github.com/cryptojane94","followers_url":"https://api.github.com/users/cryptojane94/followers","following_url":"https://api.github.com/users/cryptojane94/following{/other_user}","gists_url":"https://api.github.com/users/cryptojane94/gists{/gist_id}","starred_url":"https://api.github.com/users/cryptojane94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cryptojane94/subscriptions","organizations_url":"https://api.github.com/users/cryptojane94/orgs","repos_url":"https://api.github.com/users/cryptojane94/repos","events_url":"https://api.github.com/users/cryptojane94/events{/privacy}","received_events_url":"https://api.github.com/users/cryptojane94/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":22,"created_at":"2023-08-11T13:51:04Z","updated_at":"2023-08-18T13:11:10Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nI generated the keys and ceritifcates following the procedure described, but when running the server the connection couldn't be established because I got the error:\r\n\r\nerror setting certificate\r\n80DBC4E8877F0000:error:0A0000F7:SSL routines:ssl_set_cert_unknown certificate type:ssl/ssl_rsa.c:257:\r\n\r\nI have installed Ubuntu 22.04.3 LTS and I am using OpenSSL 3.2.0-dev\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1683900335","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/231#issuecomment-1683900335","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231","id":1683900335,"node_id":"IC_kwDOE_A9l85kXkev","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-08-18T13:11:10Z","updated_at":"2023-08-18T13:11:10Z","author_association":"MEMBER","body":"> Which commit ids of openssl and oqsprovider did you use to build this container?\r\n\r\nCI built the container: The log of the build is [this](https://app.circleci.com/pipelines/github/open-quantum-safe/oqs-demos/956/workflows/83f1ab51-d18f-4509-b922-14a0800a8580/jobs/5086) -- but I fail to spot the commit id :-( On the binary, I'm afraid I'm not aware of a mechanism to determine the commit id in an openssl build. `oqsprovider` is built from commit f463621 (available via `openssl list -verbose -providers`).\r\n\r\n> Is there anything I can do to diagnose this more precisely? Thanks.\r\n\r\nNot really -- this is pretty much all I'd have recommended. Just one question for me to try to reproduce: Which environment/platform are you using? OS, compiler, etc.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1683900335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-08-18T13:11:11Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"31213734537","type":"IssueCommentEvent","actor":{"id":89771619,"login":"cryptobsv","display_login":"cryptobsv","gravatar_id":"","url":"https://api.github.com/users/cryptobsv","avatar_url":"https://avatars.githubusercontent.com/u/89771619?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/231","id":1846864557,"node_id":"I_kwDOE_A9l85uFOqt","number":231,"title":"Example in USAGE.md: ","user":{"login":"cryptojane94","id":142023704,"node_id":"U_kgDOCHccGA","avatar_url":"https://avatars.githubusercontent.com/u/142023704?v=4","gravatar_id":"","url":"https://api.github.com/users/cryptojane94","html_url":"https://github.com/cryptojane94","followers_url":"https://api.github.com/users/cryptojane94/followers","following_url":"https://api.github.com/users/cryptojane94/following{/other_user}","gists_url":"https://api.github.com/users/cryptojane94/gists{/gist_id}","starred_url":"https://api.github.com/users/cryptojane94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cryptojane94/subscriptions","organizations_url":"https://api.github.com/users/cryptojane94/orgs","repos_url":"https://api.github.com/users/cryptojane94/repos","events_url":"https://api.github.com/users/cryptojane94/events{/privacy}","received_events_url":"https://api.github.com/users/cryptojane94/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":23,"created_at":"2023-08-11T13:51:04Z","updated_at":"2023-08-18T13:55:46Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nI generated the keys and ceritifcates following the procedure described, but when running the server the connection couldn't be established because I got the error:\r\n\r\nerror setting certificate\r\n80DBC4E8877F0000:error:0A0000F7:SSL routines:ssl_set_cert_unknown certificate type:ssl/ssl_rsa.c:257:\r\n\r\nI have installed Ubuntu 22.04.3 LTS and I am using OpenSSL 3.2.0-dev\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1683959728","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/231#issuecomment-1683959728","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231","id":1683959728,"node_id":"IC_kwDOE_A9l85kXy-w","user":{"login":"cryptobsv","id":89771619,"node_id":"MDQ6VXNlcjg5NzcxNjE5","avatar_url":"https://avatars.githubusercontent.com/u/89771619?v=4","gravatar_id":"","url":"https://api.github.com/users/cryptobsv","html_url":"https://github.com/cryptobsv","followers_url":"https://api.github.com/users/cryptobsv/followers","following_url":"https://api.github.com/users/cryptobsv/following{/other_user}","gists_url":"https://api.github.com/users/cryptobsv/gists{/gist_id}","starred_url":"https://api.github.com/users/cryptobsv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cryptobsv/subscriptions","organizations_url":"https://api.github.com/users/cryptobsv/orgs","repos_url":"https://api.github.com/users/cryptobsv/repos","events_url":"https://api.github.com/users/cryptobsv/events{/privacy}","received_events_url":"https://api.github.com/users/cryptobsv/received_events","type":"User","site_admin":false},"created_at":"2023-08-18T13:55:46Z","updated_at":"2023-08-18T13:55:46Z","author_association":"NONE","body":"\r\n    $ uname -a                                          \r\n    Linux kali 6.3.0-kali1-amd64 #1 SMP PREEMPT_DYNAMIC Debian 6.3.7-1kali1 (2023-06-29) x86_64 GNU/Linux\r\n\r\n    $ gcc --version                                                                              \r\n    gcc (Debian 13.1.0-6) 13.1.0\r\n\r\nAdditional info: I built openssl with debug info and stopped in `ssl_cert_lookup_by_pkey()`. I found that `ctx->sigalg_list_len` is zero. From there onwards, it is clear the error occurs. However, I don't understand why this variable is zero.\r\n\r\n    $ LD_LIBRARY_PATH=$PWD/lib64 bin/openssl list -signature-algorithms\r\n\r\nlists, among may others\r\n\r\n      dilithium2 @ oqsprovider\r\n\r\nDo you know where `ctx->sigalg_list_len` is initialized? Should I have a look there?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1683959728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-08-18T13:55:47Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"31215316417","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/231","id":1846864557,"node_id":"I_kwDOE_A9l85uFOqt","number":231,"title":"Example in USAGE.md: ","user":{"login":"cryptojane94","id":142023704,"node_id":"U_kgDOCHccGA","avatar_url":"https://avatars.githubusercontent.com/u/142023704?v=4","gravatar_id":"","url":"https://api.github.com/users/cryptojane94","html_url":"https://github.com/cryptojane94","followers_url":"https://api.github.com/users/cryptojane94/followers","following_url":"https://api.github.com/users/cryptojane94/following{/other_user}","gists_url":"https://api.github.com/users/cryptojane94/gists{/gist_id}","starred_url":"https://api.github.com/users/cryptojane94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cryptojane94/subscriptions","organizations_url":"https://api.github.com/users/cryptojane94/orgs","repos_url":"https://api.github.com/users/cryptojane94/repos","events_url":"https://api.github.com/users/cryptojane94/events{/privacy}","received_events_url":"https://api.github.com/users/cryptojane94/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":24,"created_at":"2023-08-11T13:51:04Z","updated_at":"2023-08-18T14:57:02Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nI generated the keys and ceritifcates following the procedure described, but when running the server the connection couldn't be established because I got the error:\r\n\r\nerror setting certificate\r\n80DBC4E8877F0000:error:0A0000F7:SSL routines:ssl_set_cert_unknown certificate type:ssl/ssl_rsa.c:257:\r\n\r\nI have installed Ubuntu 22.04.3 LTS and I am using OpenSSL 3.2.0-dev\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1684043256","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/231#issuecomment-1684043256","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231","id":1684043256,"node_id":"IC_kwDOE_A9l85kYHX4","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-08-18T14:57:01Z","updated_at":"2023-08-18T14:57:01Z","author_association":"MEMBER","body":"> Do you know where ctx->sigalg_list_len is initialized? \r\n\r\nI should as I added that code to OpenSSL in https://github.com/openssl/openssl/pull/19312: https://github.com/openssl/openssl/blob/6404d064b8012a2c353603a3b3effa6289313d61/ssl/t1_lib.c#L662 \r\n\r\n> Should I have a look there?\r\n\r\nIndeed that'd be the place to understand why the OQS sigalgs don't get \"accepted\" in your setup.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1684043256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-08-18T14:57:02Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"31216648654","type":"IssueCommentEvent","actor":{"id":89771619,"login":"cryptobsv","display_login":"cryptobsv","gravatar_id":"","url":"https://api.github.com/users/cryptobsv","avatar_url":"https://avatars.githubusercontent.com/u/89771619?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/231","id":1846864557,"node_id":"I_kwDOE_A9l85uFOqt","number":231,"title":"Example in USAGE.md: ","user":{"login":"cryptojane94","id":142023704,"node_id":"U_kgDOCHccGA","avatar_url":"https://avatars.githubusercontent.com/u/142023704?v=4","gravatar_id":"","url":"https://api.github.com/users/cryptojane94","html_url":"https://github.com/cryptojane94","followers_url":"https://api.github.com/users/cryptojane94/followers","following_url":"https://api.github.com/users/cryptojane94/following{/other_user}","gists_url":"https://api.github.com/users/cryptojane94/gists{/gist_id}","starred_url":"https://api.github.com/users/cryptojane94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cryptojane94/subscriptions","organizations_url":"https://api.github.com/users/cryptojane94/orgs","repos_url":"https://api.github.com/users/cryptojane94/repos","events_url":"https://api.github.com/users/cryptojane94/events{/privacy}","received_events_url":"https://api.github.com/users/cryptojane94/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":25,"created_at":"2023-08-11T13:51:04Z","updated_at":"2023-08-18T15:54:22Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nI generated the keys and ceritifcates following the procedure described, but when running the server the connection couldn't be established because I got the error:\r\n\r\nerror setting certificate\r\n80DBC4E8877F0000:error:0A0000F7:SSL routines:ssl_set_cert_unknown certificate type:ssl/ssl_rsa.c:257:\r\n\r\nI have installed Ubuntu 22.04.3 LTS and I am using OpenSSL 3.2.0-dev\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1684115815","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/231#issuecomment-1684115815","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231","id":1684115815,"node_id":"IC_kwDOE_A9l85kYZFn","user":{"login":"cryptobsv","id":89771619,"node_id":"MDQ6VXNlcjg5NzcxNjE5","avatar_url":"https://avatars.githubusercontent.com/u/89771619?v=4","gravatar_id":"","url":"https://api.github.com/users/cryptobsv","html_url":"https://github.com/cryptobsv","followers_url":"https://api.github.com/users/cryptobsv/followers","following_url":"https://api.github.com/users/cryptobsv/following{/other_user}","gists_url":"https://api.github.com/users/cryptobsv/gists{/gist_id}","starred_url":"https://api.github.com/users/cryptobsv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cryptobsv/subscriptions","organizations_url":"https://api.github.com/users/cryptobsv/orgs","repos_url":"https://api.github.com/users/cryptobsv/repos","events_url":"https://api.github.com/users/cryptobsv/events{/privacy}","received_events_url":"https://api.github.com/users/cryptobsv/received_events","type":"User","site_admin":false},"created_at":"2023-08-18T15:54:22Z","updated_at":"2023-08-18T15:54:22Z","author_association":"NONE","body":"It seems, the code referenced in the previous comment never runs in my setup. To investigate, I set a breakpoint on `ssl_load_sigalgs()`. Through a chain of functions this calls `oqs_provider_get_capabilities()` in oqsprovider. There, it seems, `OSSL_CAPABILITY_TLS_SIGALG_NAME` is undefined. So, when asked for the capability \"TLS-SIGALG\", the function returns 0.\r\nHence, I suspect something is wrong with my build configuration. Shouldn't `OSSL_CAPABILITY_TLS_SIGALG_NAME` be defined?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1684115815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-08-18T15:54:23Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"31219831280","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/231","id":1846864557,"node_id":"I_kwDOE_A9l85uFOqt","number":231,"title":"Example in USAGE.md: ","user":{"login":"cryptojane94","id":142023704,"node_id":"U_kgDOCHccGA","avatar_url":"https://avatars.githubusercontent.com/u/142023704?v=4","gravatar_id":"","url":"https://api.github.com/users/cryptojane94","html_url":"https://github.com/cryptojane94","followers_url":"https://api.github.com/users/cryptojane94/followers","following_url":"https://api.github.com/users/cryptojane94/following{/other_user}","gists_url":"https://api.github.com/users/cryptojane94/gists{/gist_id}","starred_url":"https://api.github.com/users/cryptojane94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cryptojane94/subscriptions","organizations_url":"https://api.github.com/users/cryptojane94/orgs","repos_url":"https://api.github.com/users/cryptojane94/repos","events_url":"https://api.github.com/users/cryptojane94/events{/privacy}","received_events_url":"https://api.github.com/users/cryptojane94/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":26,"created_at":"2023-08-11T13:51:04Z","updated_at":"2023-08-18T18:37:10Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nI generated the keys and ceritifcates following the procedure described, but when running the server the connection couldn't be established because I got the error:\r\n\r\nerror setting certificate\r\n80DBC4E8877F0000:error:0A0000F7:SSL routines:ssl_set_cert_unknown certificate type:ssl/ssl_rsa.c:257:\r\n\r\nI have installed Ubuntu 22.04.3 LTS and I am using OpenSSL 3.2.0-dev\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1684294588","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/231#issuecomment-1684294588","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231","id":1684294588,"node_id":"IC_kwDOE_A9l85kZEu8","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-08-18T18:37:10Z","updated_at":"2023-08-18T18:37:10Z","author_association":"MEMBER","body":"Very good analysis, Thanks @cryptobsv !\r\n\r\n> Shouldn't OSSL_CAPABILITY_TLS_SIGALG_NAME be defined?\r\n\r\nAbsolutely. Presence of that (OpenSSL) define is prerequisite for proper pluggable signature support: https://www.openssl.org/docs/manmaster/man7/provider-base.html. It would be a serious bummer for that define to not be available (in \"master\"/3.2.0-dev); unavailability of it in OpenSSL 3.1 or 3.0 in turn would be expected --- so my question is whether you have compiled `oqs-provider` using OpenSSL3.0 or 3.1 header files? Then indeed things would fail in just the way described: QSC certificates worked since OpenSSL3.0, but QSC-TLS-session setup only since/in/with 3.2(-dev).\r\n\r\nBefore you state it, I'll say it: Building `oqsprovider` with such old `openssl` code should at least issue a clear warning at build time about features not supported due to the given `openssl` (build) version. Will add that.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1684294588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-08-18T18:37:10Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"31222987325","type":"IssueCommentEvent","actor":{"id":89771619,"login":"cryptobsv","display_login":"cryptobsv","gravatar_id":"","url":"https://api.github.com/users/cryptobsv","avatar_url":"https://avatars.githubusercontent.com/u/89771619?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/231","id":1846864557,"node_id":"I_kwDOE_A9l85uFOqt","number":231,"title":"Example in USAGE.md: ","user":{"login":"cryptojane94","id":142023704,"node_id":"U_kgDOCHccGA","avatar_url":"https://avatars.githubusercontent.com/u/142023704?v=4","gravatar_id":"","url":"https://api.github.com/users/cryptojane94","html_url":"https://github.com/cryptojane94","followers_url":"https://api.github.com/users/cryptojane94/followers","following_url":"https://api.github.com/users/cryptojane94/following{/other_user}","gists_url":"https://api.github.com/users/cryptojane94/gists{/gist_id}","starred_url":"https://api.github.com/users/cryptojane94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cryptojane94/subscriptions","organizations_url":"https://api.github.com/users/cryptojane94/orgs","repos_url":"https://api.github.com/users/cryptojane94/repos","events_url":"https://api.github.com/users/cryptojane94/events{/privacy}","received_events_url":"https://api.github.com/users/cryptojane94/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":27,"created_at":"2023-08-11T13:51:04Z","updated_at":"2023-08-18T21:53:51Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nI generated the keys and ceritifcates following the procedure described, but when running the server the connection couldn't be established because I got the error:\r\n\r\nerror setting certificate\r\n80DBC4E8877F0000:error:0A0000F7:SSL routines:ssl_set_cert_unknown certificate type:ssl/ssl_rsa.c:257:\r\n\r\nI have installed Ubuntu 22.04.3 LTS and I am using OpenSSL 3.2.0-dev\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1684471043","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/231#issuecomment-1684471043","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/231","id":1684471043,"node_id":"IC_kwDOE_A9l85kZv0D","user":{"login":"cryptobsv","id":89771619,"node_id":"MDQ6VXNlcjg5NzcxNjE5","avatar_url":"https://avatars.githubusercontent.com/u/89771619?v=4","gravatar_id":"","url":"https://api.github.com/users/cryptobsv","html_url":"https://github.com/cryptobsv","followers_url":"https://api.github.com/users/cryptobsv/followers","following_url":"https://api.github.com/users/cryptobsv/following{/other_user}","gists_url":"https://api.github.com/users/cryptobsv/gists{/gist_id}","starred_url":"https://api.github.com/users/cryptobsv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cryptobsv/subscriptions","organizations_url":"https://api.github.com/users/cryptobsv/orgs","repos_url":"https://api.github.com/users/cryptobsv/repos","events_url":"https://api.github.com/users/cryptobsv/events{/privacy}","received_events_url":"https://api.github.com/users/cryptobsv/received_events","type":"User","site_admin":false},"created_at":"2023-08-18T21:53:50Z","updated_at":"2023-08-18T21:53:50Z","author_association":"NONE","body":"Yes, this is it. I built oqsprovider with `scripts/fullbuild.sh`. I had `OPENSSL_INSTALL` point to my local openssl 3.2.0-dev. I had a look into `_build/CMakeCache.txt`. The cmake variables `OPEN_SSL_CRYPTO_LIBRARY`, `OPENSSL_ROOT_DIR` and `OPENSSL_SSL_LIBRARY` were all pointing to the right place, i.e. my local openssl 3.2.0-dev installation. However, `OPENSSL_INCLUDE_DIR` pointed to `/usr/include`. Hence, the headers of my openssl system installation were used. I changed this manually to point to the include directory of my local openssl installation, rebuilt oqsprovider, with `cmake --build .` and now everything works.\r\nPerhaps `OPENSSL_INCLUDE_DIR` should be set in `scripts/fullbuild.sh` or in some `CMakeLists.txt\", depending on `OPENSSL_INSTALL`?\r\nAnyway, thanks for the quick responses.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1684471043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-08-18T21:53:51Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
