{"id":"31150453007","type":"IssuesEvent","actor":{"id":32169747,"login":"mukeshmohanan","display_login":"mukeshmohanan","gravatar_id":"","url":"https://api.github.com/users/mukeshmohanan","avatar_url":"https://avatars.githubusercontent.com/u/32169747?"},"repo":{"id":218087071,"name":"open-quantum-safe/oqs-demos","url":"https://api.github.com/repos/open-quantum-safe/oqs-demos"},"payload":{"action":"opened","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/226","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/226/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/226/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/226/events","html_url":"https://github.com/open-quantum-safe/oqs-demos/issues/226","id":1852867863,"node_id":"I_kwDODP--n85ucIUX","number":226,"title":"haproxy build failed on MacOS ","user":{"login":"mukeshmohanan","id":32169747,"node_id":"MDQ6VXNlcjMyMTY5NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/32169747?v=4","gravatar_id":"","url":"https://api.github.com/users/mukeshmohanan","html_url":"https://github.com/mukeshmohanan","followers_url":"https://api.github.com/users/mukeshmohanan/followers","following_url":"https://api.github.com/users/mukeshmohanan/following{/other_user}","gists_url":"https://api.github.com/users/mukeshmohanan/gists{/gist_id}","starred_url":"https://api.github.com/users/mukeshmohanan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mukeshmohanan/subscriptions","organizations_url":"https://api.github.com/users/mukeshmohanan/orgs","repos_url":"https://api.github.com/users/mukeshmohanan/repos","events_url":"https://api.github.com/users/mukeshmohanan/events{/privacy}","received_events_url":"https://api.github.com/users/mukeshmohanan/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-08-16T09:35:09Z","updated_at":"2023-08-16T09:35:09Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"haproxy build failing in MacOS\r\n\r\naishwaryanarayanan@Aishwaryas-MBP haproxy % uname -a\r\nDarwin Aishwaryas-MBP.fritz.box 22.5.0 Darwin Kernel Version 22.5.0: Thu Jun  8 22:22:20 PDT 2023; root:xnu-8796.121.3~7/RELEASE_ARM64_T6000 arm64\r\naishwaryanarayanan@Aishwaryas-MBP haproxy % \r\n\r\nerror message captured below, I tried to the Dockerfile with darwin64-arm64-cc arg against the ./Configure but that does not help \r\n\r\nam missing some pre-requisite to build this in MacOS ?\r\n\r\n```\r\n=> ERROR [intermediate  8/12] RUN LDFLAGS=\"-Wl,-rpath -Wl,/opt/oqssa/lib\" ./Configure linux-x86_64 -lm --prefix=/opt/oqssa && if [[ -z \"\" ]] ; then nproc=$(getconf _NPROCESSORS_ONLN) && MAKE_DEFINES=\"-j $np  1.7s\r\n------                                                                                                                                                                                                                \r\n > [intermediate  8/12] RUN LDFLAGS=\"-Wl,-rpath -Wl,/opt/oqssa/lib\" ./Configure linux-x86_64 -lm --prefix=/opt/oqssa && if [[ -z \"\" ]] ; then nproc=$(getconf _NPROCESSORS_ONLN) && MAKE_DEFINES=\"-j $nproc\"; fi && make  && make install_sw:                                                                                                                                                                                               \r\n#12 0.345 Configuring OpenSSL version 1.1.1u (0x1010115fL) for linux-x86_64                                                                                                                                           \r\n#12 0.345 Using os-specific seed configuration                                                                                                                                                                        \r\n#12 1.399 Creating configdata.pm                                                                                                                                                                                      \r\n#12 1.399 Creating Makefile\r\n#12 1.492 \r\n#12 1.492 **********************************************************************\r\n#12 1.492 ***                                                                ***\r\n#12 1.492 ***   OpenSSL has been successfully configured                     ***\r\n#12 1.492 ***                                                                ***\r\n#12 1.492 ***   If you encounter a problem while building, please open an    ***\r\n#12 1.492 ***   issue on GitHub <https://github.com/openssl/openssl/issues>  ***\r\n#12 1.492 ***   and include the output from the following command:           ***\r\n#12 1.492 ***                                                                ***\r\n#12 1.492 ***       perl configdata.pm --dump                                ***\r\n#12 1.492 ***                                                                ***\r\n#12 1.492 ***   (If you are new to OpenSSL, you might want to consult the    ***\r\n#12 1.492 ***   'Troubleshooting' section in the INSTALL file first)         ***\r\n#12 1.492 ***                                                                ***\r\n#12 1.492 **********************************************************************\r\n#12 1.522 perl \"-I.\" -Mconfigdata \"util/dofile.pl\" \\\r\n#12 1.522     \"-oMakefile\" include/crypto/bn_conf.h.in > include/crypto/bn_conf.h\r\n#12 1.522 perl \"-I.\" -Mconfigdata \"util/dofile.pl\" \\\r\n#12 1.522     \"-oMakefile\" include/crypto/dso_conf.h.in > include/crypto/dso_conf.h\r\n#12 1.523 perl \"-I.\" -Mconfigdata \"util/dofile.pl\" \\\r\n#12 1.523     \"-oMakefile\" include/openssl/opensslconf.h.in > include/openssl/opensslconf.h\r\n#12 1.578 make depend && make _all\r\n#12 1.589 make[1]: Entering directory '/root/openssl'\r\n#12 1.653 make[1]: Leaving directory '/root/openssl'\r\n#12 1.672 make[1]: Entering directory '/root/openssl'\r\n#12 1.672 gcc  -I. -Iinclude -fPIC -pthread -m64 -Ioqs/include -Wa,--noexecstack -Wall -O3 -DOPENSSL_USE_NODELETE -DL_ENDIAN -DOPENSSL_PIC -DOPENSSL_CPUID_OBJ -DOPENSSL_IA32_SSE2 -DOPENSSL_BN_ASM_MONT -DOPENSSL_BN_ASM_MONT5 -DOPENSSL_BN_ASM_GF2m -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DKECCAK1600_ASM -DRC4_ASM -DMD5_ASM -DAESNI_ASM -DVPAES_ASM -DGHASH_ASM -DECP_NISTZ256_ASM -DX25519_ASM -DPOLY1305_ASM -DOPENSSLDIR=\"\\\"/opt/oqssa/ssl\\\"\" -DENGINESDIR=\"\\\"/opt/oqssa/lib/engines-1.1\\\"\" -DNDEBUG  -MMD -MF apps/app_rand.d.tmp -MT apps/app_rand.o -c -o apps/app_rand.o apps/app_rand.c\r\n#12 1.672 gcc  -I. -Iinclude -fPIC -pthread -m64 -Ioqs/include -Wa,--noexecstack -Wall -O3 -DOPENSSL_USE_NODELETE -DL_ENDIAN -DOPENSSL_PIC -DOPENSSL_CPUID_OBJ -DOPENSSL_IA32_SSE2 -DOPENSSL_BN_ASM_MONT -DOPENSSL_BN_ASM_MONT5 -DOPENSSL_BN_ASM_GF2m -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DKECCAK1600_ASM -DRC4_ASM -DMD5_ASM -DAESNI_ASM -DVPAES_ASM -DGHASH_ASM -DECP_NISTZ256_ASM -DX25519_ASM -DPOLY1305_ASM -DOPENSSLDIR=\"\\\"/opt/oqssa/ssl\\\"\" -DENGINESDIR=\"\\\"/opt/oqssa/lib/engines-1.1\\\"\" -DNDEBUG  -MMD -MF apps/apps.d.tmp -MT apps/apps.o -c -o apps/apps.o apps/apps.c\r\n#12 1.673 gcc  -I. -Iinclude -fPIC -pthread -m64 -Ioqs/include -Wa,--noexecstack -Wall -O3 -DOPENSSL_USE_NODELETE -DL_ENDIAN -DOPENSSL_PIC -DOPENSSL_CPUID_OBJ -DOPENSSL_IA32_SSE2 -DOPENSSL_BN_ASM_MONT -DOPENSSL_BN_ASM_MONT5 -DOPENSSL_BN_ASM_GF2m -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DKECCAK1600_ASM -DRC4_ASM -DMD5_ASM -DAESNI_ASM -DVPAES_ASM -DGHASH_ASM -DECP_NISTZ256_ASM -DX25519_ASM -DPOLY1305_ASM -DOPENSSLDIR=\"\\\"/opt/oqssa/ssl\\\"\" -DENGINESDIR=\"\\\"/opt/oqssa/lib/engines-1.1\\\"\" -DNDEBUG  -MMD -MF apps/bf_prefix.d.tmp -MT apps/bf_prefix.o -c -o apps/bf_prefix.o apps/bf_prefix.c\r\n#12 1.673 gcc  -I. -Iinclude -fPIC -pthread -m64 -Ioqs/include -Wa,--noexecstack -Wall -O3 -DOPENSSL_USE_NODELETE -DL_ENDIAN -DOPENSSL_PIC -DOPENSSL_CPUID_OBJ -DOPENSSL_IA32_SSE2 -DOPENSSL_BN_ASM_MONT -DOPENSSL_BN_ASM_MONT5 -DOPENSSL_BN_ASM_GF2m -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DKECCAK1600_ASM -DRC4_ASM -DMD5_ASM -DAESNI_ASM -DVPAES_ASM -DGHASH_ASM -DECP_NISTZ256_ASM -DX25519_ASM -DPOLY1305_ASM -DOPENSSLDIR=\"\\\"/opt/oqssa/ssl\\\"\" -DENGINESDIR=\"\\\"/opt/oqssa/lib/engines-1.1\\\"\" -DNDEBUG  -MMD -MF apps/opt.d.tmp -MT apps/opt.o -c -o apps/opt.o apps/opt.c\r\n#12 1.674 gcc  -I. -Iinclude -fPIC -pthread -m64 -Ioqs/include -Wa,--noexecstack -Wall -O3 -DOPENSSL_USE_NODELETE -DL_ENDIAN -DOPENSSL_PIC -DOPENSSL_CPUID_OBJ -DOPENSSL_IA32_SSE2 -DOPENSSL_BN_ASM_MONT -DOPENSSL_BN_ASM_MONT5 -DOPENSSL_BN_ASM_GF2m -DSHA1_ASM -DSHA256_ASM -DSHA512_ASM -DKECCAK1600_ASM -DRC4_ASM -DMD5_ASM -DAESNI_ASM -DVPAES_ASM -DGHASH_ASM -DECP_NISTZ256_ASM -DX25519_ASM -DPOLY1305_ASM -DOPENSSLDIR=\"\\\"/opt/oqssa/ssl\\\"\" -DENGINESDIR=\"\\\"/opt/oqssa/lib/engines-1.1\\\"\" -DNDEBUG  -MMD -MF apps/s_cb.d.tmp -MT apps/s_cb.o -c -o apps/s_cb.o apps/s_cb.c\r\n#12 1.675 gcc: error: unrecognized command-line option '-m64'\r\n#12 1.675 gcc: error: unrecognized command-line option '-m64'\r\n#12 1.676 make[1]: *** [Makefile:756: apps/app_rand.o] Error 1\r\n#12 1.676 make[1]: *** Waiting for unfinished jobs....\r\n#12 1.676 gcc: error: unrecognized command-line option '-m64'\r\n#12 1.676 make[1]: *** [Makefile:764: apps/apps.o] Error 1\r\n#12 1.676 make[1]: *** [Makefile:772: apps/bf_prefix.o] Error 1\r\n#12 1.678 gcc: error: unrecognized command-line option '-m64'\r\n#12 1.678 gcc: error: unrecognized command-line option '-m64'\r\n#12 1.678 make[1]: *** [Makefile:780: apps/opt.o] Error 1\r\n#12 1.678 make[1]: *** [Makefile:788: apps/s_cb.o] Error 1\r\n#12 1.678 make[1]: Leaving directory '/root/openssl'\r\n#12 1.679 make: *** [Makefile:175: all] Error 2\r\n```","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/226/timeline","performed_via_github_app":null,"state_reason":null}},"public":true,"created_at":"2023-08-16T09:35:11Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
