{"id":"31625866390","type":"PullRequestReviewEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","review":{"id":1612474054,"node_id":"PRR_kwDOE_A9l85gHGbG","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"body":null,"commit_id":"fe9d50d5b1a227b1ab749f7d61576d8482d75cb5","submitted_at":"2023-09-06T05:18:11Z","state":"commented","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/245#pullrequestreview-1612474054","pull_request_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/245","author_association":"MEMBER","_links":{"html":{"href":"https://github.com/open-quantum-safe/oqs-provider/pull/245#pullrequestreview-1612474054"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/245"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/245","id":1503033314,"node_id":"PR_kwDOE_A9l85Zlnfi","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/245","diff_url":"https://github.com/open-quantum-safe/oqs-provider/pull/245.diff","patch_url":"https://github.com/open-quantum-safe/oqs-provider/pull/245.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/245","number":245,"state":"open","locked":false,"title":"Fix various memory leaks.","user":{"login":"thb-sb","id":108470890,"node_id":"U_kgDOBnciag","avatar_url":"https://avatars.githubusercontent.com/u/108470890?v=4","gravatar_id":"","url":"https://api.github.com/users/thb-sb","html_url":"https://github.com/thb-sb","followers_url":"https://api.github.com/users/thb-sb/followers","following_url":"https://api.github.com/users/thb-sb/following{/other_user}","gists_url":"https://api.github.com/users/thb-sb/gists{/gist_id}","starred_url":"https://api.github.com/users/thb-sb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thb-sb/subscriptions","organizations_url":"https://api.github.com/users/thb-sb/orgs","repos_url":"https://api.github.com/users/thb-sb/repos","events_url":"https://api.github.com/users/thb-sb/events{/privacy}","received_events_url":"https://api.github.com/users/thb-sb/received_events","type":"User","site_admin":false},"body":"This commit fixes various memory leaks that have been found using ASan.\r\n\r\nNote: I will soon add a CI job for testing oqs-provider against memory leaks with ASan.\r\n\r\n\r\n## 1. Memory leak in `oqs_test_signatures`.\r\n\r\nIn `oqs_test_signatures`, [`OPENSSL_free`] was used with `EVP_PKEY_CTX`. However, the right destructor function for `EVP_PKEY_CTX` is [`EVP_PKEY_CTX_free`].\r\n\r\n## 2. a selftest key that wasn't freed.\r\n\r\nIn `oqsprov/oqsprov_keys.c`, `d2i_PrivateKey` is used to verify that we the key we've just generated is sound.\r\nHowever, the returned object wasn't freed.\r\nASan trace that helped me finding this one:\r\n\r\n```\r\nIndirect leak of 96 byte(s) in 4 object(s) allocated from:\r\n    #0 0x5651eef1428e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_signatures+0xb928e) (BuildId: 6cc7ebd4bc73a0c78b2ab8d7b9dcb8b165d88e74)\r\n    #1 0x7fb7a23a946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x7fb7a23a94a2 in CRYPTO_zalloc /home/pawn/work/openssl/crypto/mem.c:197:11\r\n    #3 0x7fb7a209cdcd in BN_new /home/pawn/work/openssl/crypto/bn/bn_lib.c:247:16\r\n    #4 0x7fb7a2224a00 in ossl_ec_GFp_mont_group_set_curve /home/pawn/work/openssl/crypto/ec/ecp_mont.c:169:11\r\n    #5 0x7fb7a220f5fa in EC_GROUP_set_curve /home/pawn/work/openssl/crypto/ec/ec_lib.c:562:12\r\n    #6 0x7fb7a2202d75 in EC_GROUP_new_curve_GFp /home/pawn/work/openssl/crypto/ec/ec_cvt.c:61:10\r\n    #7 0x7fb7a220184d in ec_group_new_from_data /home/pawn/work/openssl/crypto/ec/ec_curve.c:3179:22\r\n    #8 0x7fb7a2200ff9 in EC_GROUP_new_by_curve_name_ex /home/pawn/work/openssl/crypto/ec/ec_curve.c:3287:19\r\n    #9 0x7fb7a2201ed9 in EC_GROUP_new_by_curve_name /home/pawn/work/openssl/crypto/ec/ec_curve.c:3303:12\r\n    #10 0x7fb7a21f84e2 in EC_GROUP_new_from_ecpkparameters /home/pawn/work/openssl/crypto/ec/ec_asn1.c:863:20\r\n    #11 0x7fb7a21f8f28 in d2i_ECPrivateKey /home/pawn/work/openssl/crypto/ec/ec_asn1.c:956:22\r\n    #12 0x7fb7a270b4b5 in der2key_decode /home/pawn/work/openssl/providers/implementations/encode_decode/decode_der2key.c:220:19\r\n    #13 0x7fb7a226eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #14 0x7fb7a226d106 in OSSL_DECODER_from_bio /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:82:10\r\n    #15 0x7fb7a226f007 in OSSL_DECODER_from_data /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:157:9\r\n    #16 0x7fb7a200e123 in d2i_PrivateKey_decoder /home/pawn/work/openssl/crypto/asn1/d2i_pr.c:74:11\r\n    #17 0x7fb7a200dbba in d2i_PrivateKey_ex /home/pawn/work/openssl/crypto/asn1/d2i_pr.c:162:11\r\n    #18 0x7fb7a200e3d2 in d2i_PrivateKey /home/pawn/work/openssl/crypto/asn1/d2i_pr.c:172:12\r\n    #19 0x7fb79dc6a22e in oqsx_key_gen_evp_key /home/pawn/work/oqs-provider/oqsprov/oqsprov_keys.c:1036:25\r\n    #20 0x7fb79dc68f3f in oqsx_key_gen /home/pawn/work/oqs-provider/oqsprov/oqsprov_keys.c:1077:16\r\n    #21 0x7fb79dc7164a in oqsx_genkey /home/pawn/work/oqs-provider/oqsprov/oqs_kmgmt.c:496:9\r\n    #22 0x7fb79dc6d9f8 in oqsx_gen /home/pawn/work/oqs-provider/oqsprov/oqs_kmgmt.c:509:12\r\n    #23 0x7fb7a23373c7 in evp_keymgmt_gen /home/pawn/work/openssl/crypto/evp/keymgmt_meth.c:366:12\r\n    #24 0x7fb7a2334b58 in evp_keymgmt_util_gen /home/pawn/work/openssl/crypto/evp/keymgmt_lib.c:517:20\r\n    #25 0x7fb7a235a775 in EVP_PKEY_generate /home/pawn/work/openssl/crypto/evp/pmeth_gn.c:189:13\r\n    #26 0x5651eef4f2bd in test_oqs_signatures /home/pawn/work/oqs-provider/test/oqs_test_signatures.c:39:48\r\n    #27 0x5651eef4ee3d in main /home/pawn/work/oqs-provider/test/oqs_test_signatures.c:114:17\r\n    #28 0x7fb7a1b671c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n```\r\n\r\n## 3. a `EVP_PKEY_CTX` that wasn't freed.\r\n\r\nIn `oqsx_key_free`, `key->oqsx_provider_ctx.oqsx_evp_ctx->ctx` is freed if the keytype is `ECP_HYB_KEM` or `ECX_HYB_KEM`. However, `key->oqsx_provider_ctx.oqsx_evp_ctx->ctx` is also used for signatures. In that case, a call to `EVP_PKEY_CTX_free` was missing. ASan trace that helped me finding this one:\r\n\r\n```\r\nIndirect leak of 7 byte(s) in 2 object(s) allocated from:\r\n    #0 0x55b6fc8d427e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_signatures+0xb927e) (BuildId: 3a8bff15d3315ba7ac1746fdc7b67eb464c607a1)\r\n    #1 0x7ff34dfa946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x7ff34dfac50a in CRYPTO_strndup /home/pawn/work/openssl/crypto/o_str.c:43:11\r\n    #3 0x7ff34df9d152 in ossl_algorithm_get1_first_name /home/pawn/work/openssl/crypto/core_algorithm.c:195:11\r\n    #4 0x7ff34df353a1 in keymgmt_from_algorithm /home/pawn/work/openssl/crypto/evp/keymgmt_meth.c:50:31\r\n    #5 0x7ff34df15e44 in construct_evp_method /home/pawn/work/openssl/crypto/evp/evp_fetch.c:219:14\r\n    #6 0x7ff34df9e3ce in ossl_method_construct_this /home/pawn/work/openssl/crypto/core_fetch.c:109:19\r\n    #7 0x7ff34df9d740 in algorithm_do_map /home/pawn/work/openssl/crypto/core_algorithm.c:77:13\r\n    #8 0x7ff34df9ce88 in algorithm_do_this /home/pawn/work/openssl/crypto/core_algorithm.c:122:15\r\n    #9 0x7ff34dfcce3e in ossl_provider_doall_activated /home/pawn/work/openssl/crypto/provider_core.c:1423:14\r\n    #10 0x7ff34df9ca64 in ossl_algorithm_do_all /home/pawn/work/openssl/crypto/core_algorithm.c:162:9\r\n    #11 0x7ff34df9dd64 in ossl_method_construct /home/pawn/work/openssl/crypto/core_fetch.c:153:5\r\n    #12 0x7ff34df13b6f in inner_evp_generic_fetch /home/pawn/work/openssl/crypto/evp/evp_fetch.c:312:23\r\n    #13 0x7ff34df13226 in evp_generic_fetch /home/pawn/work/openssl/crypto/evp/evp_fetch.c:364:14\r\n    #14 0x7ff34df36a42 in EVP_KEYMGMT_fetch /home/pawn/work/openssl/crypto/evp/keymgmt_meth.c:220:12\r\n    #15 0x7ff34df5d6e4 in int_ctx_new /home/pawn/work/openssl/crypto/evp/pmeth_lib.c:280:23\r\n    #16 0x7ff34df5f0a9 in EVP_PKEY_CTX_new_id /home/pawn/work/openssl/crypto/evp/pmeth_lib.c:469:12\r\n    #17 0x7ff349865bcb in oqsx_hybsig_init /home/pawn/work/oqs-provider/oqsprov/oqsprov_keys.c:578:20\r\n    #18 0x7ff349865157 in oqsx_key_new /home/pawn/work/oqs-provider/oqsprov/oqsprov_keys.c:791:16\r\n    #19 0x7ff3498715a3 in oqsx_genkey /home/pawn/work/oqs-provider/oqsprov/oqs_kmgmt.c:487:16\r\n    #20 0x7ff34986da08 in oqsx_gen /home/pawn/work/oqs-provider/oqsprov/oqs_kmgmt.c:509:12\r\n    #21 0x7ff34df373c7 in evp_keymgmt_gen /home/pawn/work/openssl/crypto/evp/keymgmt_meth.c:366:12\r\n    #22 0x7ff34df34b58 in evp_keymgmt_util_gen /home/pawn/work/openssl/crypto/evp/keymgmt_lib.c:517:20\r\n    #23 0x7ff34df5a775 in EVP_PKEY_generate /home/pawn/work/openssl/crypto/evp/pmeth_gn.c:189:13\r\n    #24 0x55b6fc90f2ad in test_oqs_signatures /home/pawn/work/oqs-provider/test/oqs_test_signatures.c:39:48\r\n    #25 0x55b6fc90ee2d in main /home/pawn/work/oqs-provider/test/oqs_test_signatures.c:114:17\r\n    #26 0x7ff34d8461c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n```\r\n\r\n## 4. Missing `EVP_PKEY_CTX_free` in case of error.\r\n\r\nIn `oqsx_hybsig_init`, a `EVP_PKEY_CTX` is initialized using `EVP_PKEY_CTX_new_id`. However, later in the code, some extra work is done, and in case of error, the `EVP_PKEY_CTX` wasn't freed.\r\n\r\n(I couldn't recover the ASan message for this oneâ€¦)\r\n\r\n\r\n## 5. `OPENSSL_free` instead of `EVP_PKEY_free`.\r\n\r\nIn `oqsx_key_gen`, when a classical private key is generated, the field `classical_pkey` of a `OQSX_KEY` is set with a value of type `EVP_PKEY`.\r\n\r\nHowever, in `oqsx_key_free`, `OPENSSL_free` was used on `classical_pkey` instead of `EVP_PKEY_free`.\r\n\r\nASan trace that helped me finding this one:\r\n\r\n```\r\n   #0 0x555a6b1b728e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_signatures+0xb928e) (BuildId: 6cc7ebd4bc73a0c78b2ab8d7b9dcb8b165d88e74)\r\n    #1 0x7f59a93a946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x7f59a93a94a2 in CRYPTO_zalloc /home/pawn/work/openssl/crypto/mem.c:197:11\r\n    #3 0x7f59a909cdcd in BN_new /home/pawn/work/openssl/crypto/bn/bn_lib.c:247:16\r\n    #4 0x7f59a920b955 in ossl_ec_group_new_ex /home/pawn/work/openssl/crypto/ec/ec_lib.c:61:25\r\n    #5 0x7f59a920dd55 in EC_GROUP_dup /home/pawn/work/openssl/crypto/ec/ec_lib.c:273:14\r\n    #6 0x7f59a9207774 in EC_KEY_set_group /home/pawn/work/openssl/crypto/ec/ec_key.c:733:18\r\n    #7 0x7f59a975b3b5 in ec_gen_assign_group /home/pawn/work/openssl/providers/implementations/keymgmt/ec_kmgmt.c:1236:12\r\n    #8 0x7f59a9758bdb in ec_gen /home/pawn/work/openssl/providers/implementations/keymgmt/ec_kmgmt.c:1274:11\r\n    #9 0x7f59a93373c7 in evp_keymgmt_gen /home/pawn/work/openssl/crypto/evp/keymgmt_meth.c:366:12\r\n    #10 0x7f59a9334b58 in evp_keymgmt_util_gen /home/pawn/work/openssl/crypto/evp/keymgmt_lib.c:517:20\r\n    #11 0x7f59a935a775 in EVP_PKEY_generate /home/pawn/work/openssl/crypto/evp/pmeth_gn.c:189:13\r\n    #12 0x7f59a935b404 in EVP_PKEY_keygen /home/pawn/work/openssl/crypto/evp/pmeth_gn.c:274:12\r\n    #13 0x7f59a4c69a51 in oqsx_key_gen_evp_key /home/pawn/work/oqs-provider/oqsprov/oqsprov_keys.c:1012:12\r\n    #14 0x7f59a4c68faf in oqsx_key_gen /home/pawn/work/oqs-provider/oqsprov/oqsprov_keys.c:1084:16\r\n    #15 0x7f59a4c716ca in oqsx_genkey /home/pawn/work/oqs-provider/oqsprov/oqs_kmgmt.c:496:9\r\n    #16 0x7f59a4c6da78 in oqsx_gen /home/pawn/work/oqs-provider/oqsprov/oqs_kmgmt.c:509:12\r\n    #17 0x7f59a93373c7 in evp_keymgmt_gen /home/pawn/work/openssl/crypto/evp/keymgmt_meth.c:366:12\r\n    #18 0x7f59a9334b58 in evp_keymgmt_util_gen /home/pawn/work/openssl/crypto/evp/keymgmt_lib.c:517:20\r\n    #19 0x7f59a935a775 in EVP_PKEY_generate /home/pawn/work/openssl/crypto/evp/pmeth_gn.c:189:13\r\n    #20 0x555a6b1f2890 in test_oqs_signatures /home/pawn/work/oqs-provider/test/oqs_test_signatures.c:68:44\r\n    #21 0x555a6b1f1e3d in main /home/pawn/work/oqs-provider/test/oqs_test_signatures.c:114:17\r\n    #22 0x7f59a8c461c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n```\r\n\r\n## 6. Some `OPENSSL_free` were missing in `oqs_test_kems.c`\r\n\r\n```\r\n==569479==ERROR: LeakSanitizer: detected memory leaks\r\n\r\nDirect leak of 346035 byte(s) in 42 object(s) allocated from:\r\n    #0 0x559c76ef524e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_kems+0xb924e) (BuildId: 76a98f5859ba3c90334cef4286e89aa76436b1ae)\r\n    #1 0x7f04407a946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x559c76f30389 in test_oqs_kems /home/pawn/work/oqs-provider/test/oqs_test_kems.c:44:26\r\n    #3 0x559c76f2fdfd in main /home/pawn/work/oqs-provider/test/oqs_test_kems.c:93:17\r\n    #4 0x7f04400461c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n\r\nDirect leak of 2690 byte(s) in 42 object(s) allocated from:\r\n    #0 0x559c76ef524e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_kems+0xb924e) (BuildId: 76a98f5859ba3c90334cef4286e89aa76436b1ae)\r\n    #1 0x7f04407a946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x559c76f304a5 in test_oqs_kems /home/pawn/work/oqs-provider/test/oqs_test_kems.c:47:29\r\n    #3 0x559c76f2fdfd in main /home/pawn/work/oqs-provider/test/oqs_test_kems.c:93:17\r\n    #4 0x7f04400461c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n\r\nDirect leak of 2690 byte(s) in 42 object(s) allocated from:\r\n    #0 0x559c76ef524e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_kems+0xb924e) (BuildId: 76a98f5859ba3c90334cef4286e89aa76436b1ae)\r\n    #1 0x7f04407a946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x559c76f303e4 in test_oqs_kems /home/pawn/work/oqs-provider/test/oqs_test_kems.c:45:29\r\n    #3 0x559c76f2fdfd in main /home/pawn/work/oqs-provider/test/oqs_test_kems.c:93:17\r\n    #4 0x7f04400461c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n```\r\n\r\n## 7. Missing `X509_PUBKEY_free` in `oqsx_d2i_PUBKEY`.<a name=\"pubkey\"></a>\r\n\r\nThis was probably the hardest one for me to track down.\r\n\r\nIn `oqsx_d2i_PUBKEY`, a call is done to `oqsx_d2i_X509_PUBKEY_INTERNAL`.\r\nHowever, the returned value (of type `X509_PUBKEY`) wasn't freed.\r\n\r\nASan:\r\n\r\n```\r\nDirect leak of 48 byte(s) in 1 object(s) allocated from:\r\n    #0 0x55610d68132e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_endecode+0xb932e) (BuildId: 53bfaa0a3b850edc7328f30be8b047ab6675ba3c)\r\n    #1 0x7f68999a946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x7f68999a94a2 in CRYPTO_zalloc /home/pawn/work/openssl/crypto/mem.c:197:11\r\n    #3 0x7f6895295897  (<unknown module>)\r\n    #4 0x7f6895295ce4  (<unknown module>)\r\n    #5 0x7f6895296a6c  (<unknown module>)\r\n    #6 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #7 0x7f6899d13383 in spki2typespki_decode /home/pawn/work/openssl/providers/implementations/encode_decode/decode_spki2typespki.c:111:10\r\n    #8 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #9 0x7f6899d114d3 in pem2der_decode /home/pawn/work/openssl/providers/implementations/encode_decode/decode_pem2der.c:204:14\r\n    #10 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #11 0x7f689986d106 in OSSL_DECODER_from_bio /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:82:10\r\n    #12 0x55610d6bd407 in decode_EVP_PKEY_prov /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:151:10\r\n    #13 0x55610d6bc75b in test_oqs_encdec /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:188:14\r\n    #14 0x55610d6bbf37 in main /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:240:17\r\n    #15 0x7f68991671c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n\r\nIndirect leak of 1312 byte(s) in 1 object(s) allocated from:\r\n    #0 0x55610d68132e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_endecode+0xb932e) (BuildId: 53bfaa0a3b850edc7328f30be8b047ab6675ba3c)\r\n    #1 0x7f68999a946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x7f68995d6b99 in ossl_c2i_ASN1_BIT_STRING /home/pawn/work/openssl/crypto/asn1/a_bitstr.c:117:13\r\n    #3 0x7f689961f659 in asn1_ex_c2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:885:14\r\n    #4 0x7f689961bbc9 in asn1_d2i_ex_primitive /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:818:10\r\n    #5 0x7f6899618054 in asn1_item_embed_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:217:16\r\n    #6 0x7f689961e02f in asn1_template_noexp_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:682:15\r\n    #7 0x7f689961a7b4 in asn1_template_ex_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:558:16\r\n    #8 0x7f689961986a in asn1_item_embed_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:422:19\r\n    #9 0x7f68996175c8 in asn1_item_ex_d2i_intern /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:118:10\r\n    #10 0x7f68996177da in ASN1_item_d2i_ex /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:144:9\r\n    #11 0x7f6895295926  (<unknown module>)\r\n    #12 0x7f6895295ce4  (<unknown module>)\r\n    #13 0x7f6895296a6c  (<unknown module>)\r\n    #14 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #15 0x7f6899d13383 in spki2typespki_decode /home/pawn/work/openssl/providers/implementations/encode_decode/decode_spki2typespki.c:111:10\r\n    #16 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #17 0x7f6899d114d3 in pem2der_decode /home/pawn/work/openssl/providers/implementations/encode_decode/decode_pem2der.c:204:14\r\n    #18 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #19 0x7f689986d106 in OSSL_DECODER_from_bio /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:82:10\r\n    #20 0x55610d6bd407 in decode_EVP_PKEY_prov /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:151:10\r\n    #21 0x55610d6bc75b in test_oqs_encdec /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:188:14\r\n    #22 0x55610d6bbf37 in main /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:240:17\r\n    #23 0x7f68991671c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n\r\nIndirect leak of 24 byte(s) in 1 object(s) allocated from:\r\n    #0 0x55610d68132e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_endecode+0xb932e) (BuildId: 53bfaa0a3b850edc7328f30be8b047ab6675ba3c)\r\n    #1 0x7f68999a946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x7f68999a94a2 in CRYPTO_zalloc /home/pawn/work/openssl/crypto/mem.c:197:11\r\n    #3 0x7f68995fde90 in ASN1_STRING_type_new /home/pawn/work/openssl/crypto/asn1/asn1_lib.c:350:11\r\n    #4 0x7f689962a7dd in ASN1_BIT_STRING_new /home/pawn/work/openssl/crypto/asn1/tasn_typ.c:31:1\r\n    #5 0x7f68995d6a0f in ossl_c2i_ASN1_BIT_STRING /home/pawn/work/openssl/crypto/asn1/a_bitstr.c:98:20\r\n    #6 0x7f689961f659 in asn1_ex_c2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:885:14\r\n    #7 0x7f689961bbc9 in asn1_d2i_ex_primitive /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:818:10\r\n    #8 0x7f6899618054 in asn1_item_embed_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:217:16\r\n    #9 0x7f689961e02f in asn1_template_noexp_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:682:15\r\n    #10 0x7f689961a7b4 in asn1_template_ex_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:558:16\r\n    #11 0x7f689961986a in asn1_item_embed_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:422:19\r\n    #12 0x7f68996175c8 in asn1_item_ex_d2i_intern /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:118:10\r\n    #13 0x7f68996177da in ASN1_item_d2i_ex /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:144:9\r\n    #14 0x7f6895295926  (<unknown module>)\r\n    #15 0x7f6895295ce4  (<unknown module>)\r\n    #16 0x7f6895296a6c  (<unknown module>)\r\n    #17 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #18 0x7f6899d13383 in spki2typespki_decode /home/pawn/work/openssl/providers/implementations/encode_decode/decode_spki2typespki.c:111:10\r\n    #19 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #20 0x7f6899d114d3 in pem2der_decode /home/pawn/work/openssl/providers/implementations/encode_decode/decode_pem2der.c:204:14\r\n    #21 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #22 0x7f689986d106 in OSSL_DECODER_from_bio /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:82:10\r\n    #23 0x55610d6bd407 in decode_EVP_PKEY_prov /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:151:10\r\n    #24 0x55610d6bc75b in test_oqs_encdec /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:188:14\r\n    #25 0x55610d6bbf37 in main /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:240:17\r\n    #26 0x7f68991671c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n\r\nIndirect leak of 16 byte(s) in 1 object(s) allocated from:\r\n    #0 0x55610d68132e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_endecode+0xb932e) (BuildId: 53bfaa0a3b850edc7328f30be8b047ab6675ba3c)\r\n    #1 0x7f68999a946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x7f68999a94a2 in CRYPTO_zalloc /home/pawn/work/openssl/crypto/mem.c:197:11\r\n    #3 0x7f6899625ed4 in asn1_item_embed_new /home/pawn/work/openssl/crypto/asn1/tasn_new.c:136:21\r\n    #4 0x7f689962620e in ossl_asn1_item_ex_new_intern /home/pawn/work/openssl/crypto/asn1/tasn_new.c:52:12\r\n    #5 0x7f68996191a5 in asn1_item_embed_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:366:21\r\n    #6 0x7f689961e02f in asn1_template_noexp_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:682:15\r\n    #7 0x7f689961a7b4 in asn1_template_ex_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:558:16\r\n    #8 0x7f689961986a in asn1_item_embed_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:422:19\r\n    #9 0x7f68996175c8 in asn1_item_ex_d2i_intern /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:118:10\r\n    #10 0x7f68996177da in ASN1_item_d2i_ex /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:144:9\r\n    #11 0x7f6895295926  (<unknown module>)\r\n    #12 0x7f6895295ce4  (<unknown module>)\r\n    #13 0x7f6895296a6c  (<unknown module>)\r\n    #14 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #15 0x7f6899d13383 in spki2typespki_decode /home/pawn/work/openssl/providers/implementations/encode_decode/decode_spki2typespki.c:111:10\r\n    #16 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #17 0x7f6899d114d3 in pem2der_decode /home/pawn/work/openssl/providers/implementations/encode_decode/decode_pem2der.c:204:14\r\n    #18 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #19 0x7f689986d106 in OSSL_DECODER_from_bio /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:82:10\r\n    #20 0x55610d6bd407 in decode_EVP_PKEY_prov /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:151:10\r\n    #21 0x55610d6bc75b in test_oqs_encdec /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:188:14\r\n    #22 0x55610d6bbf37 in main /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:240:17\r\n    #23 0x7f68991671c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n\r\nSUMMARY: AddressSanitizer: 1400 byte(s) leaked in 4 allocation(s).\r\n```\r\n\r\n## 8. Bonus point: fix a potential double-free.\r\n\r\nIn `oqsx_key_gen`, when the keytype isn't `KEY_TYPE_HYB_SIG`, the generated `pkey` is freed, and the flow goes down to the `err` label:\r\n\r\nhttps://github.com/open-quantum-safe/oqs-provider/blob/cc3895f208730abfe1efc15f7c3ff4358ac6e4c0/oqsprov/oqsprov_keys.c#L1089-L1104\r\n\r\nThere is a potential double-free bug here: if `oqsx_key_gen_oqs` fails, then `EVP_PKEY_free` will be called twice on the same `pkey` pointer.\r\n\r\nNote that it is very unlikely that `oqsx_key_gen_oqs` fails, since it only calls `OQS_KEM_keypair`/`OQS_SIG_keypair`.\r\n\r\n[`OPENSSL_free`]: https://www.openssl.org/docs/man3.0/man3/OPENSSL_free.html\r\n[`EVP_PKEY_CTX_free`]: https://www.openssl.org/docs/man3.0/man3/EVP_PKEY_CTX_free.html\r\n","created_at":"2023-09-05T15:40:50Z","updated_at":"2023-09-06T05:18:11Z","closed_at":null,"merged_at":null,"merge_commit_sha":"fbc69afef0f2135e88fa42f8cd89b61c569ee638","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/245/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/245/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/245/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/statuses/fe9d50d5b1a227b1ab749f7d61576d8482d75cb5","head":{"label":"thb-sb:fix_memory_leaks","ref":"fix_memory_leaks","sha":"fe9d50d5b1a227b1ab749f7d61576d8482d75cb5","user":{"login":"thb-sb","id":108470890,"node_id":"U_kgDOBnciag","avatar_url":"https://avatars.githubusercontent.com/u/108470890?v=4","gravatar_id":"","url":"https://api.github.com/users/thb-sb","html_url":"https://github.com/thb-sb","followers_url":"https://api.github.com/users/thb-sb/followers","following_url":"https://api.github.com/users/thb-sb/following{/other_user}","gists_url":"https://api.github.com/users/thb-sb/gists{/gist_id}","starred_url":"https://api.github.com/users/thb-sb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thb-sb/subscriptions","organizations_url":"https://api.github.com/users/thb-sb/orgs","repos_url":"https://api.github.com/users/thb-sb/repos","events_url":"https://api.github.com/users/thb-sb/events{/privacy}","received_events_url":"https://api.github.com/users/thb-sb/received_events","type":"User","site_admin":false},"repo":{"id":660254715,"node_id":"R_kgDOJ1qv-w","name":"oqs-provider","full_name":"thb-sb/oqs-provider","private":false,"owner":{"login":"thb-sb","id":108470890,"node_id":"U_kgDOBnciag","avatar_url":"https://avatars.githubusercontent.com/u/108470890?v=4","gravatar_id":"","url":"https://api.github.com/users/thb-sb","html_url":"https://github.com/thb-sb","followers_url":"https://api.github.com/users/thb-sb/followers","following_url":"https://api.github.com/users/thb-sb/following{/other_user}","gists_url":"https://api.github.com/users/thb-sb/gists{/gist_id}","starred_url":"https://api.github.com/users/thb-sb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thb-sb/subscriptions","organizations_url":"https://api.github.com/users/thb-sb/orgs","repos_url":"https://api.github.com/users/thb-sb/repos","events_url":"https://api.github.com/users/thb-sb/events{/privacy}","received_events_url":"https://api.github.com/users/thb-sb/received_events","type":"User","site_admin":false},"html_url":"https://github.com/thb-sb/oqs-provider","description":"OpenSSL 3 provider containing post-quantum algorithms","fork":true,"url":"https://api.github.com/repos/thb-sb/oqs-provider","forks_url":"https://api.github.com/repos/thb-sb/oqs-provider/forks","keys_url":"https://api.github.com/repos/thb-sb/oqs-provider/keys{/key_id}","collaborators_url":"https://api.github.com/repos/thb-sb/oqs-provider/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/thb-sb/oqs-provider/teams","hooks_url":"https://api.github.com/repos/thb-sb/oqs-provider/hooks","issue_events_url":"https://api.github.com/repos/thb-sb/oqs-provider/issues/events{/number}","events_url":"https://api.github.com/repos/thb-sb/oqs-provider/events","assignees_url":"https://api.github.com/repos/thb-sb/oqs-provider/assignees{/user}","branches_url":"https://api.github.com/repos/thb-sb/oqs-provider/branches{/branch}","tags_url":"https://api.github.com/repos/thb-sb/oqs-provider/tags","blobs_url":"https://api.github.com/repos/thb-sb/oqs-provider/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/thb-sb/oqs-provider/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/thb-sb/oqs-provider/git/refs{/sha}","trees_url":"https://api.github.com/repos/thb-sb/oqs-provider/git/trees{/sha}","statuses_url":"https://api.github.com/repos/thb-sb/oqs-provider/statuses/{sha}","languages_url":"https://api.github.com/repos/thb-sb/oqs-provider/languages","stargazers_url":"https://api.github.com/repos/thb-sb/oqs-provider/stargazers","contributors_url":"https://api.github.com/repos/thb-sb/oqs-provider/contributors","subscribers_url":"https://api.github.com/repos/thb-sb/oqs-provider/subscribers","subscription_url":"https://api.github.com/repos/thb-sb/oqs-provider/subscription","commits_url":"https://api.github.com/repos/thb-sb/oqs-provider/commits{/sha}","git_commits_url":"https://api.github.com/repos/thb-sb/oqs-provider/git/commits{/sha}","comments_url":"https://api.github.com/repos/thb-sb/oqs-provider/comments{/number}","issue_comment_url":"https://api.github.com/repos/thb-sb/oqs-provider/issues/comments{/number}","contents_url":"https://api.github.com/repos/thb-sb/oqs-provider/contents/{+path}","compare_url":"https://api.github.com/repos/thb-sb/oqs-provider/compare/{base}...{head}","merges_url":"https://api.github.com/repos/thb-sb/oqs-provider/merges","archive_url":"https://api.github.com/repos/thb-sb/oqs-provider/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/thb-sb/oqs-provider/downloads","issues_url":"https://api.github.com/repos/thb-sb/oqs-provider/issues{/number}","pulls_url":"https://api.github.com/repos/thb-sb/oqs-provider/pulls{/number}","milestones_url":"https://api.github.com/repos/thb-sb/oqs-provider/milestones{/number}","notifications_url":"https://api.github.com/repos/thb-sb/oqs-provider/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/thb-sb/oqs-provider/labels{/name}","releases_url":"https://api.github.com/repos/thb-sb/oqs-provider/releases{/id}","deployments_url":"https://api.github.com/repos/thb-sb/oqs-provider/deployments","created_at":"2023-06-29T15:30:27Z","updated_at":"2023-08-31T07:24:18Z","pushed_at":"2023-09-05T18:21:53Z","git_url":"git://github.com/thb-sb/oqs-provider.git","ssh_url":"git@github.com:thb-sb/oqs-provider.git","clone_url":"https://github.com/thb-sb/oqs-provider.git","svn_url":"https://github.com/thb-sb/oqs-provider","homepage":"https://openquantumsafe.org","size":390,"stargazers_count":0,"watchers_count":0,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"main"}},"base":{"label":"open-quantum-safe:main","ref":"main","sha":"cc3895f208730abfe1efc15f7c3ff4358ac6e4c0","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":334511511,"node_id":"MDEwOlJlcG9zaXRvcnkzMzQ1MTE1MTE=","name":"oqs-provider","full_name":"open-quantum-safe/oqs-provider","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/oqs-provider","description":"OpenSSL 3 provider containing post-quantum algorithms","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","forks_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/deployments","created_at":"2021-01-30T21:07:15Z","updated_at":"2023-09-05T07:56:49Z","pushed_at":"2023-09-06T05:11:01Z","git_url":"git://github.com/open-quantum-safe/oqs-provider.git","ssh_url":"git@github.com:open-quantum-safe/oqs-provider.git","clone_url":"https://github.com/open-quantum-safe/oqs-provider.git","svn_url":"https://github.com/open-quantum-safe/oqs-provider","homepage":"https://openquantumsafe.org","size":426,"stargazers_count":70,"watchers_count":70,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":33,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":13,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cryptography","openssl","post-quantum","provider"],"visibility":"public","forks":33,"open_issues":13,"watchers":70,"default_branch":"main"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/245"},"html":{"href":"https://github.com/open-quantum-safe/oqs-provider/pull/245"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/245"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/245/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/245/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/245/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/statuses/fe9d50d5b1a227b1ab749f7d61576d8482d75cb5"}},"author_association":"COLLABORATOR","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2023-09-06T05:18:12Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"31626049891","type":"PullRequestReviewEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","review":{"id":1612488733,"node_id":"PRR_kwDOE_A9l85gHKAd","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"body":"Except one nit LGTM. Very nice work with good explanations. Thanks!","commit_id":"fe9d50d5b1a227b1ab749f7d61576d8482d75cb5","submitted_at":"2023-09-06T05:29:14Z","state":"approved","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/245#pullrequestreview-1612488733","pull_request_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/245","author_association":"MEMBER","_links":{"html":{"href":"https://github.com/open-quantum-safe/oqs-provider/pull/245#pullrequestreview-1612488733"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/245"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/245","id":1503033314,"node_id":"PR_kwDOE_A9l85Zlnfi","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/245","diff_url":"https://github.com/open-quantum-safe/oqs-provider/pull/245.diff","patch_url":"https://github.com/open-quantum-safe/oqs-provider/pull/245.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/245","number":245,"state":"open","locked":false,"title":"Fix various memory leaks.","user":{"login":"thb-sb","id":108470890,"node_id":"U_kgDOBnciag","avatar_url":"https://avatars.githubusercontent.com/u/108470890?v=4","gravatar_id":"","url":"https://api.github.com/users/thb-sb","html_url":"https://github.com/thb-sb","followers_url":"https://api.github.com/users/thb-sb/followers","following_url":"https://api.github.com/users/thb-sb/following{/other_user}","gists_url":"https://api.github.com/users/thb-sb/gists{/gist_id}","starred_url":"https://api.github.com/users/thb-sb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thb-sb/subscriptions","organizations_url":"https://api.github.com/users/thb-sb/orgs","repos_url":"https://api.github.com/users/thb-sb/repos","events_url":"https://api.github.com/users/thb-sb/events{/privacy}","received_events_url":"https://api.github.com/users/thb-sb/received_events","type":"User","site_admin":false},"body":"This commit fixes various memory leaks that have been found using ASan.\r\n\r\nNote: I will soon add a CI job for testing oqs-provider against memory leaks with ASan.\r\n\r\n\r\n## 1. Memory leak in `oqs_test_signatures`.\r\n\r\nIn `oqs_test_signatures`, [`OPENSSL_free`] was used with `EVP_PKEY_CTX`. However, the right destructor function for `EVP_PKEY_CTX` is [`EVP_PKEY_CTX_free`].\r\n\r\n## 2. a selftest key that wasn't freed.\r\n\r\nIn `oqsprov/oqsprov_keys.c`, `d2i_PrivateKey` is used to verify that we the key we've just generated is sound.\r\nHowever, the returned object wasn't freed.\r\nASan trace that helped me finding this one:\r\n\r\n```\r\nIndirect leak of 96 byte(s) in 4 object(s) allocated from:\r\n    #0 0x5651eef1428e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_signatures+0xb928e) (BuildId: 6cc7ebd4bc73a0c78b2ab8d7b9dcb8b165d88e74)\r\n    #1 0x7fb7a23a946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x7fb7a23a94a2 in CRYPTO_zalloc /home/pawn/work/openssl/crypto/mem.c:197:11\r\n    #3 0x7fb7a209cdcd in BN_new /home/pawn/work/openssl/crypto/bn/bn_lib.c:247:16\r\n    #4 0x7fb7a2224a00 in ossl_ec_GFp_mont_group_set_curve /home/pawn/work/openssl/crypto/ec/ecp_mont.c:169:11\r\n    #5 0x7fb7a220f5fa in EC_GROUP_set_curve /home/pawn/work/openssl/crypto/ec/ec_lib.c:562:12\r\n    #6 0x7fb7a2202d75 in EC_GROUP_new_curve_GFp /home/pawn/work/openssl/crypto/ec/ec_cvt.c:61:10\r\n    #7 0x7fb7a220184d in ec_group_new_from_data /home/pawn/work/openssl/crypto/ec/ec_curve.c:3179:22\r\n    #8 0x7fb7a2200ff9 in EC_GROUP_new_by_curve_name_ex /home/pawn/work/openssl/crypto/ec/ec_curve.c:3287:19\r\n    #9 0x7fb7a2201ed9 in EC_GROUP_new_by_curve_name /home/pawn/work/openssl/crypto/ec/ec_curve.c:3303:12\r\n    #10 0x7fb7a21f84e2 in EC_GROUP_new_from_ecpkparameters /home/pawn/work/openssl/crypto/ec/ec_asn1.c:863:20\r\n    #11 0x7fb7a21f8f28 in d2i_ECPrivateKey /home/pawn/work/openssl/crypto/ec/ec_asn1.c:956:22\r\n    #12 0x7fb7a270b4b5 in der2key_decode /home/pawn/work/openssl/providers/implementations/encode_decode/decode_der2key.c:220:19\r\n    #13 0x7fb7a226eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #14 0x7fb7a226d106 in OSSL_DECODER_from_bio /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:82:10\r\n    #15 0x7fb7a226f007 in OSSL_DECODER_from_data /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:157:9\r\n    #16 0x7fb7a200e123 in d2i_PrivateKey_decoder /home/pawn/work/openssl/crypto/asn1/d2i_pr.c:74:11\r\n    #17 0x7fb7a200dbba in d2i_PrivateKey_ex /home/pawn/work/openssl/crypto/asn1/d2i_pr.c:162:11\r\n    #18 0x7fb7a200e3d2 in d2i_PrivateKey /home/pawn/work/openssl/crypto/asn1/d2i_pr.c:172:12\r\n    #19 0x7fb79dc6a22e in oqsx_key_gen_evp_key /home/pawn/work/oqs-provider/oqsprov/oqsprov_keys.c:1036:25\r\n    #20 0x7fb79dc68f3f in oqsx_key_gen /home/pawn/work/oqs-provider/oqsprov/oqsprov_keys.c:1077:16\r\n    #21 0x7fb79dc7164a in oqsx_genkey /home/pawn/work/oqs-provider/oqsprov/oqs_kmgmt.c:496:9\r\n    #22 0x7fb79dc6d9f8 in oqsx_gen /home/pawn/work/oqs-provider/oqsprov/oqs_kmgmt.c:509:12\r\n    #23 0x7fb7a23373c7 in evp_keymgmt_gen /home/pawn/work/openssl/crypto/evp/keymgmt_meth.c:366:12\r\n    #24 0x7fb7a2334b58 in evp_keymgmt_util_gen /home/pawn/work/openssl/crypto/evp/keymgmt_lib.c:517:20\r\n    #25 0x7fb7a235a775 in EVP_PKEY_generate /home/pawn/work/openssl/crypto/evp/pmeth_gn.c:189:13\r\n    #26 0x5651eef4f2bd in test_oqs_signatures /home/pawn/work/oqs-provider/test/oqs_test_signatures.c:39:48\r\n    #27 0x5651eef4ee3d in main /home/pawn/work/oqs-provider/test/oqs_test_signatures.c:114:17\r\n    #28 0x7fb7a1b671c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n```\r\n\r\n## 3. a `EVP_PKEY_CTX` that wasn't freed.\r\n\r\nIn `oqsx_key_free`, `key->oqsx_provider_ctx.oqsx_evp_ctx->ctx` is freed if the keytype is `ECP_HYB_KEM` or `ECX_HYB_KEM`. However, `key->oqsx_provider_ctx.oqsx_evp_ctx->ctx` is also used for signatures. In that case, a call to `EVP_PKEY_CTX_free` was missing. ASan trace that helped me finding this one:\r\n\r\n```\r\nIndirect leak of 7 byte(s) in 2 object(s) allocated from:\r\n    #0 0x55b6fc8d427e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_signatures+0xb927e) (BuildId: 3a8bff15d3315ba7ac1746fdc7b67eb464c607a1)\r\n    #1 0x7ff34dfa946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x7ff34dfac50a in CRYPTO_strndup /home/pawn/work/openssl/crypto/o_str.c:43:11\r\n    #3 0x7ff34df9d152 in ossl_algorithm_get1_first_name /home/pawn/work/openssl/crypto/core_algorithm.c:195:11\r\n    #4 0x7ff34df353a1 in keymgmt_from_algorithm /home/pawn/work/openssl/crypto/evp/keymgmt_meth.c:50:31\r\n    #5 0x7ff34df15e44 in construct_evp_method /home/pawn/work/openssl/crypto/evp/evp_fetch.c:219:14\r\n    #6 0x7ff34df9e3ce in ossl_method_construct_this /home/pawn/work/openssl/crypto/core_fetch.c:109:19\r\n    #7 0x7ff34df9d740 in algorithm_do_map /home/pawn/work/openssl/crypto/core_algorithm.c:77:13\r\n    #8 0x7ff34df9ce88 in algorithm_do_this /home/pawn/work/openssl/crypto/core_algorithm.c:122:15\r\n    #9 0x7ff34dfcce3e in ossl_provider_doall_activated /home/pawn/work/openssl/crypto/provider_core.c:1423:14\r\n    #10 0x7ff34df9ca64 in ossl_algorithm_do_all /home/pawn/work/openssl/crypto/core_algorithm.c:162:9\r\n    #11 0x7ff34df9dd64 in ossl_method_construct /home/pawn/work/openssl/crypto/core_fetch.c:153:5\r\n    #12 0x7ff34df13b6f in inner_evp_generic_fetch /home/pawn/work/openssl/crypto/evp/evp_fetch.c:312:23\r\n    #13 0x7ff34df13226 in evp_generic_fetch /home/pawn/work/openssl/crypto/evp/evp_fetch.c:364:14\r\n    #14 0x7ff34df36a42 in EVP_KEYMGMT_fetch /home/pawn/work/openssl/crypto/evp/keymgmt_meth.c:220:12\r\n    #15 0x7ff34df5d6e4 in int_ctx_new /home/pawn/work/openssl/crypto/evp/pmeth_lib.c:280:23\r\n    #16 0x7ff34df5f0a9 in EVP_PKEY_CTX_new_id /home/pawn/work/openssl/crypto/evp/pmeth_lib.c:469:12\r\n    #17 0x7ff349865bcb in oqsx_hybsig_init /home/pawn/work/oqs-provider/oqsprov/oqsprov_keys.c:578:20\r\n    #18 0x7ff349865157 in oqsx_key_new /home/pawn/work/oqs-provider/oqsprov/oqsprov_keys.c:791:16\r\n    #19 0x7ff3498715a3 in oqsx_genkey /home/pawn/work/oqs-provider/oqsprov/oqs_kmgmt.c:487:16\r\n    #20 0x7ff34986da08 in oqsx_gen /home/pawn/work/oqs-provider/oqsprov/oqs_kmgmt.c:509:12\r\n    #21 0x7ff34df373c7 in evp_keymgmt_gen /home/pawn/work/openssl/crypto/evp/keymgmt_meth.c:366:12\r\n    #22 0x7ff34df34b58 in evp_keymgmt_util_gen /home/pawn/work/openssl/crypto/evp/keymgmt_lib.c:517:20\r\n    #23 0x7ff34df5a775 in EVP_PKEY_generate /home/pawn/work/openssl/crypto/evp/pmeth_gn.c:189:13\r\n    #24 0x55b6fc90f2ad in test_oqs_signatures /home/pawn/work/oqs-provider/test/oqs_test_signatures.c:39:48\r\n    #25 0x55b6fc90ee2d in main /home/pawn/work/oqs-provider/test/oqs_test_signatures.c:114:17\r\n    #26 0x7ff34d8461c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n```\r\n\r\n## 4. Missing `EVP_PKEY_CTX_free` in case of error.\r\n\r\nIn `oqsx_hybsig_init`, a `EVP_PKEY_CTX` is initialized using `EVP_PKEY_CTX_new_id`. However, later in the code, some extra work is done, and in case of error, the `EVP_PKEY_CTX` wasn't freed.\r\n\r\n(I couldn't recover the ASan message for this oneâ€¦)\r\n\r\n\r\n## 5. `OPENSSL_free` instead of `EVP_PKEY_free`.\r\n\r\nIn `oqsx_key_gen`, when a classical private key is generated, the field `classical_pkey` of a `OQSX_KEY` is set with a value of type `EVP_PKEY`.\r\n\r\nHowever, in `oqsx_key_free`, `OPENSSL_free` was used on `classical_pkey` instead of `EVP_PKEY_free`.\r\n\r\nASan trace that helped me finding this one:\r\n\r\n```\r\n   #0 0x555a6b1b728e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_signatures+0xb928e) (BuildId: 6cc7ebd4bc73a0c78b2ab8d7b9dcb8b165d88e74)\r\n    #1 0x7f59a93a946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x7f59a93a94a2 in CRYPTO_zalloc /home/pawn/work/openssl/crypto/mem.c:197:11\r\n    #3 0x7f59a909cdcd in BN_new /home/pawn/work/openssl/crypto/bn/bn_lib.c:247:16\r\n    #4 0x7f59a920b955 in ossl_ec_group_new_ex /home/pawn/work/openssl/crypto/ec/ec_lib.c:61:25\r\n    #5 0x7f59a920dd55 in EC_GROUP_dup /home/pawn/work/openssl/crypto/ec/ec_lib.c:273:14\r\n    #6 0x7f59a9207774 in EC_KEY_set_group /home/pawn/work/openssl/crypto/ec/ec_key.c:733:18\r\n    #7 0x7f59a975b3b5 in ec_gen_assign_group /home/pawn/work/openssl/providers/implementations/keymgmt/ec_kmgmt.c:1236:12\r\n    #8 0x7f59a9758bdb in ec_gen /home/pawn/work/openssl/providers/implementations/keymgmt/ec_kmgmt.c:1274:11\r\n    #9 0x7f59a93373c7 in evp_keymgmt_gen /home/pawn/work/openssl/crypto/evp/keymgmt_meth.c:366:12\r\n    #10 0x7f59a9334b58 in evp_keymgmt_util_gen /home/pawn/work/openssl/crypto/evp/keymgmt_lib.c:517:20\r\n    #11 0x7f59a935a775 in EVP_PKEY_generate /home/pawn/work/openssl/crypto/evp/pmeth_gn.c:189:13\r\n    #12 0x7f59a935b404 in EVP_PKEY_keygen /home/pawn/work/openssl/crypto/evp/pmeth_gn.c:274:12\r\n    #13 0x7f59a4c69a51 in oqsx_key_gen_evp_key /home/pawn/work/oqs-provider/oqsprov/oqsprov_keys.c:1012:12\r\n    #14 0x7f59a4c68faf in oqsx_key_gen /home/pawn/work/oqs-provider/oqsprov/oqsprov_keys.c:1084:16\r\n    #15 0x7f59a4c716ca in oqsx_genkey /home/pawn/work/oqs-provider/oqsprov/oqs_kmgmt.c:496:9\r\n    #16 0x7f59a4c6da78 in oqsx_gen /home/pawn/work/oqs-provider/oqsprov/oqs_kmgmt.c:509:12\r\n    #17 0x7f59a93373c7 in evp_keymgmt_gen /home/pawn/work/openssl/crypto/evp/keymgmt_meth.c:366:12\r\n    #18 0x7f59a9334b58 in evp_keymgmt_util_gen /home/pawn/work/openssl/crypto/evp/keymgmt_lib.c:517:20\r\n    #19 0x7f59a935a775 in EVP_PKEY_generate /home/pawn/work/openssl/crypto/evp/pmeth_gn.c:189:13\r\n    #20 0x555a6b1f2890 in test_oqs_signatures /home/pawn/work/oqs-provider/test/oqs_test_signatures.c:68:44\r\n    #21 0x555a6b1f1e3d in main /home/pawn/work/oqs-provider/test/oqs_test_signatures.c:114:17\r\n    #22 0x7f59a8c461c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n```\r\n\r\n## 6. Some `OPENSSL_free` were missing in `oqs_test_kems.c`\r\n\r\n```\r\n==569479==ERROR: LeakSanitizer: detected memory leaks\r\n\r\nDirect leak of 346035 byte(s) in 42 object(s) allocated from:\r\n    #0 0x559c76ef524e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_kems+0xb924e) (BuildId: 76a98f5859ba3c90334cef4286e89aa76436b1ae)\r\n    #1 0x7f04407a946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x559c76f30389 in test_oqs_kems /home/pawn/work/oqs-provider/test/oqs_test_kems.c:44:26\r\n    #3 0x559c76f2fdfd in main /home/pawn/work/oqs-provider/test/oqs_test_kems.c:93:17\r\n    #4 0x7f04400461c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n\r\nDirect leak of 2690 byte(s) in 42 object(s) allocated from:\r\n    #0 0x559c76ef524e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_kems+0xb924e) (BuildId: 76a98f5859ba3c90334cef4286e89aa76436b1ae)\r\n    #1 0x7f04407a946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x559c76f304a5 in test_oqs_kems /home/pawn/work/oqs-provider/test/oqs_test_kems.c:47:29\r\n    #3 0x559c76f2fdfd in main /home/pawn/work/oqs-provider/test/oqs_test_kems.c:93:17\r\n    #4 0x7f04400461c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n\r\nDirect leak of 2690 byte(s) in 42 object(s) allocated from:\r\n    #0 0x559c76ef524e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_kems+0xb924e) (BuildId: 76a98f5859ba3c90334cef4286e89aa76436b1ae)\r\n    #1 0x7f04407a946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x559c76f303e4 in test_oqs_kems /home/pawn/work/oqs-provider/test/oqs_test_kems.c:45:29\r\n    #3 0x559c76f2fdfd in main /home/pawn/work/oqs-provider/test/oqs_test_kems.c:93:17\r\n    #4 0x7f04400461c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n```\r\n\r\n## 7. Missing `X509_PUBKEY_free` in `oqsx_d2i_PUBKEY`.<a name=\"pubkey\"></a>\r\n\r\nThis was probably the hardest one for me to track down.\r\n\r\nIn `oqsx_d2i_PUBKEY`, a call is done to `oqsx_d2i_X509_PUBKEY_INTERNAL`.\r\nHowever, the returned value (of type `X509_PUBKEY`) wasn't freed.\r\n\r\nASan:\r\n\r\n```\r\nDirect leak of 48 byte(s) in 1 object(s) allocated from:\r\n    #0 0x55610d68132e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_endecode+0xb932e) (BuildId: 53bfaa0a3b850edc7328f30be8b047ab6675ba3c)\r\n    #1 0x7f68999a946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x7f68999a94a2 in CRYPTO_zalloc /home/pawn/work/openssl/crypto/mem.c:197:11\r\n    #3 0x7f6895295897  (<unknown module>)\r\n    #4 0x7f6895295ce4  (<unknown module>)\r\n    #5 0x7f6895296a6c  (<unknown module>)\r\n    #6 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #7 0x7f6899d13383 in spki2typespki_decode /home/pawn/work/openssl/providers/implementations/encode_decode/decode_spki2typespki.c:111:10\r\n    #8 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #9 0x7f6899d114d3 in pem2der_decode /home/pawn/work/openssl/providers/implementations/encode_decode/decode_pem2der.c:204:14\r\n    #10 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #11 0x7f689986d106 in OSSL_DECODER_from_bio /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:82:10\r\n    #12 0x55610d6bd407 in decode_EVP_PKEY_prov /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:151:10\r\n    #13 0x55610d6bc75b in test_oqs_encdec /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:188:14\r\n    #14 0x55610d6bbf37 in main /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:240:17\r\n    #15 0x7f68991671c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n\r\nIndirect leak of 1312 byte(s) in 1 object(s) allocated from:\r\n    #0 0x55610d68132e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_endecode+0xb932e) (BuildId: 53bfaa0a3b850edc7328f30be8b047ab6675ba3c)\r\n    #1 0x7f68999a946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x7f68995d6b99 in ossl_c2i_ASN1_BIT_STRING /home/pawn/work/openssl/crypto/asn1/a_bitstr.c:117:13\r\n    #3 0x7f689961f659 in asn1_ex_c2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:885:14\r\n    #4 0x7f689961bbc9 in asn1_d2i_ex_primitive /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:818:10\r\n    #5 0x7f6899618054 in asn1_item_embed_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:217:16\r\n    #6 0x7f689961e02f in asn1_template_noexp_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:682:15\r\n    #7 0x7f689961a7b4 in asn1_template_ex_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:558:16\r\n    #8 0x7f689961986a in asn1_item_embed_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:422:19\r\n    #9 0x7f68996175c8 in asn1_item_ex_d2i_intern /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:118:10\r\n    #10 0x7f68996177da in ASN1_item_d2i_ex /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:144:9\r\n    #11 0x7f6895295926  (<unknown module>)\r\n    #12 0x7f6895295ce4  (<unknown module>)\r\n    #13 0x7f6895296a6c  (<unknown module>)\r\n    #14 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #15 0x7f6899d13383 in spki2typespki_decode /home/pawn/work/openssl/providers/implementations/encode_decode/decode_spki2typespki.c:111:10\r\n    #16 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #17 0x7f6899d114d3 in pem2der_decode /home/pawn/work/openssl/providers/implementations/encode_decode/decode_pem2der.c:204:14\r\n    #18 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #19 0x7f689986d106 in OSSL_DECODER_from_bio /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:82:10\r\n    #20 0x55610d6bd407 in decode_EVP_PKEY_prov /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:151:10\r\n    #21 0x55610d6bc75b in test_oqs_encdec /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:188:14\r\n    #22 0x55610d6bbf37 in main /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:240:17\r\n    #23 0x7f68991671c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n\r\nIndirect leak of 24 byte(s) in 1 object(s) allocated from:\r\n    #0 0x55610d68132e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_endecode+0xb932e) (BuildId: 53bfaa0a3b850edc7328f30be8b047ab6675ba3c)\r\n    #1 0x7f68999a946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x7f68999a94a2 in CRYPTO_zalloc /home/pawn/work/openssl/crypto/mem.c:197:11\r\n    #3 0x7f68995fde90 in ASN1_STRING_type_new /home/pawn/work/openssl/crypto/asn1/asn1_lib.c:350:11\r\n    #4 0x7f689962a7dd in ASN1_BIT_STRING_new /home/pawn/work/openssl/crypto/asn1/tasn_typ.c:31:1\r\n    #5 0x7f68995d6a0f in ossl_c2i_ASN1_BIT_STRING /home/pawn/work/openssl/crypto/asn1/a_bitstr.c:98:20\r\n    #6 0x7f689961f659 in asn1_ex_c2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:885:14\r\n    #7 0x7f689961bbc9 in asn1_d2i_ex_primitive /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:818:10\r\n    #8 0x7f6899618054 in asn1_item_embed_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:217:16\r\n    #9 0x7f689961e02f in asn1_template_noexp_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:682:15\r\n    #10 0x7f689961a7b4 in asn1_template_ex_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:558:16\r\n    #11 0x7f689961986a in asn1_item_embed_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:422:19\r\n    #12 0x7f68996175c8 in asn1_item_ex_d2i_intern /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:118:10\r\n    #13 0x7f68996177da in ASN1_item_d2i_ex /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:144:9\r\n    #14 0x7f6895295926  (<unknown module>)\r\n    #15 0x7f6895295ce4  (<unknown module>)\r\n    #16 0x7f6895296a6c  (<unknown module>)\r\n    #17 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #18 0x7f6899d13383 in spki2typespki_decode /home/pawn/work/openssl/providers/implementations/encode_decode/decode_spki2typespki.c:111:10\r\n    #19 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #20 0x7f6899d114d3 in pem2der_decode /home/pawn/work/openssl/providers/implementations/encode_decode/decode_pem2der.c:204:14\r\n    #21 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #22 0x7f689986d106 in OSSL_DECODER_from_bio /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:82:10\r\n    #23 0x55610d6bd407 in decode_EVP_PKEY_prov /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:151:10\r\n    #24 0x55610d6bc75b in test_oqs_encdec /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:188:14\r\n    #25 0x55610d6bbf37 in main /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:240:17\r\n    #26 0x7f68991671c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n\r\nIndirect leak of 16 byte(s) in 1 object(s) allocated from:\r\n    #0 0x55610d68132e in malloc (/home/pawn/work/oqs-provider/build/test/oqs_test_endecode+0xb932e) (BuildId: 53bfaa0a3b850edc7328f30be8b047ab6675ba3c)\r\n    #1 0x7f68999a946b in CRYPTO_malloc /home/pawn/work/openssl/crypto/mem.c:190:12\r\n    #2 0x7f68999a94a2 in CRYPTO_zalloc /home/pawn/work/openssl/crypto/mem.c:197:11\r\n    #3 0x7f6899625ed4 in asn1_item_embed_new /home/pawn/work/openssl/crypto/asn1/tasn_new.c:136:21\r\n    #4 0x7f689962620e in ossl_asn1_item_ex_new_intern /home/pawn/work/openssl/crypto/asn1/tasn_new.c:52:12\r\n    #5 0x7f68996191a5 in asn1_item_embed_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:366:21\r\n    #6 0x7f689961e02f in asn1_template_noexp_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:682:15\r\n    #7 0x7f689961a7b4 in asn1_template_ex_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:558:16\r\n    #8 0x7f689961986a in asn1_item_embed_d2i /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:422:19\r\n    #9 0x7f68996175c8 in asn1_item_ex_d2i_intern /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:118:10\r\n    #10 0x7f68996177da in ASN1_item_d2i_ex /home/pawn/work/openssl/crypto/asn1/tasn_dec.c:144:9\r\n    #11 0x7f6895295926  (<unknown module>)\r\n    #12 0x7f6895295ce4  (<unknown module>)\r\n    #13 0x7f6895296a6c  (<unknown module>)\r\n    #14 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #15 0x7f6899d13383 in spki2typespki_decode /home/pawn/work/openssl/providers/implementations/encode_decode/decode_spki2typespki.c:111:10\r\n    #16 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #17 0x7f6899d114d3 in pem2der_decode /home/pawn/work/openssl/providers/implementations/encode_decode/decode_pem2der.c:204:14\r\n    #18 0x7f689986eae8 in decoder_process /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:971:14\r\n    #19 0x7f689986d106 in OSSL_DECODER_from_bio /home/pawn/work/openssl/crypto/encode_decode/decoder_lib.c:82:10\r\n    #20 0x55610d6bd407 in decode_EVP_PKEY_prov /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:151:10\r\n    #21 0x55610d6bc75b in test_oqs_encdec /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:188:14\r\n    #22 0x55610d6bbf37 in main /home/pawn/work/oqs-provider/test/oqs_test_endecode.c:240:17\r\n    #23 0x7f68991671c9 in __libc_start_call_main csu/../sysdeps/nptl/libc_start_call_main.h:58:16\r\n\r\nSUMMARY: AddressSanitizer: 1400 byte(s) leaked in 4 allocation(s).\r\n```\r\n\r\n## 8. Bonus point: fix a potential double-free.\r\n\r\nIn `oqsx_key_gen`, when the keytype isn't `KEY_TYPE_HYB_SIG`, the generated `pkey` is freed, and the flow goes down to the `err` label:\r\n\r\nhttps://github.com/open-quantum-safe/oqs-provider/blob/cc3895f208730abfe1efc15f7c3ff4358ac6e4c0/oqsprov/oqsprov_keys.c#L1089-L1104\r\n\r\nThere is a potential double-free bug here: if `oqsx_key_gen_oqs` fails, then `EVP_PKEY_free` will be called twice on the same `pkey` pointer.\r\n\r\nNote that it is very unlikely that `oqsx_key_gen_oqs` fails, since it only calls `OQS_KEM_keypair`/`OQS_SIG_keypair`.\r\n\r\n[`OPENSSL_free`]: https://www.openssl.org/docs/man3.0/man3/OPENSSL_free.html\r\n[`EVP_PKEY_CTX_free`]: https://www.openssl.org/docs/man3.0/man3/EVP_PKEY_CTX_free.html\r\n","created_at":"2023-09-05T15:40:50Z","updated_at":"2023-09-06T05:29:14Z","closed_at":null,"merged_at":null,"merge_commit_sha":"fbc69afef0f2135e88fa42f8cd89b61c569ee638","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/245/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/245/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/245/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/statuses/fe9d50d5b1a227b1ab749f7d61576d8482d75cb5","head":{"label":"thb-sb:fix_memory_leaks","ref":"fix_memory_leaks","sha":"fe9d50d5b1a227b1ab749f7d61576d8482d75cb5","user":{"login":"thb-sb","id":108470890,"node_id":"U_kgDOBnciag","avatar_url":"https://avatars.githubusercontent.com/u/108470890?v=4","gravatar_id":"","url":"https://api.github.com/users/thb-sb","html_url":"https://github.com/thb-sb","followers_url":"https://api.github.com/users/thb-sb/followers","following_url":"https://api.github.com/users/thb-sb/following{/other_user}","gists_url":"https://api.github.com/users/thb-sb/gists{/gist_id}","starred_url":"https://api.github.com/users/thb-sb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thb-sb/subscriptions","organizations_url":"https://api.github.com/users/thb-sb/orgs","repos_url":"https://api.github.com/users/thb-sb/repos","events_url":"https://api.github.com/users/thb-sb/events{/privacy}","received_events_url":"https://api.github.com/users/thb-sb/received_events","type":"User","site_admin":false},"repo":{"id":660254715,"node_id":"R_kgDOJ1qv-w","name":"oqs-provider","full_name":"thb-sb/oqs-provider","private":false,"owner":{"login":"thb-sb","id":108470890,"node_id":"U_kgDOBnciag","avatar_url":"https://avatars.githubusercontent.com/u/108470890?v=4","gravatar_id":"","url":"https://api.github.com/users/thb-sb","html_url":"https://github.com/thb-sb","followers_url":"https://api.github.com/users/thb-sb/followers","following_url":"https://api.github.com/users/thb-sb/following{/other_user}","gists_url":"https://api.github.com/users/thb-sb/gists{/gist_id}","starred_url":"https://api.github.com/users/thb-sb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thb-sb/subscriptions","organizations_url":"https://api.github.com/users/thb-sb/orgs","repos_url":"https://api.github.com/users/thb-sb/repos","events_url":"https://api.github.com/users/thb-sb/events{/privacy}","received_events_url":"https://api.github.com/users/thb-sb/received_events","type":"User","site_admin":false},"html_url":"https://github.com/thb-sb/oqs-provider","description":"OpenSSL 3 provider containing post-quantum algorithms","fork":true,"url":"https://api.github.com/repos/thb-sb/oqs-provider","forks_url":"https://api.github.com/repos/thb-sb/oqs-provider/forks","keys_url":"https://api.github.com/repos/thb-sb/oqs-provider/keys{/key_id}","collaborators_url":"https://api.github.com/repos/thb-sb/oqs-provider/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/thb-sb/oqs-provider/teams","hooks_url":"https://api.github.com/repos/thb-sb/oqs-provider/hooks","issue_events_url":"https://api.github.com/repos/thb-sb/oqs-provider/issues/events{/number}","events_url":"https://api.github.com/repos/thb-sb/oqs-provider/events","assignees_url":"https://api.github.com/repos/thb-sb/oqs-provider/assignees{/user}","branches_url":"https://api.github.com/repos/thb-sb/oqs-provider/branches{/branch}","tags_url":"https://api.github.com/repos/thb-sb/oqs-provider/tags","blobs_url":"https://api.github.com/repos/thb-sb/oqs-provider/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/thb-sb/oqs-provider/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/thb-sb/oqs-provider/git/refs{/sha}","trees_url":"https://api.github.com/repos/thb-sb/oqs-provider/git/trees{/sha}","statuses_url":"https://api.github.com/repos/thb-sb/oqs-provider/statuses/{sha}","languages_url":"https://api.github.com/repos/thb-sb/oqs-provider/languages","stargazers_url":"https://api.github.com/repos/thb-sb/oqs-provider/stargazers","contributors_url":"https://api.github.com/repos/thb-sb/oqs-provider/contributors","subscribers_url":"https://api.github.com/repos/thb-sb/oqs-provider/subscribers","subscription_url":"https://api.github.com/repos/thb-sb/oqs-provider/subscription","commits_url":"https://api.github.com/repos/thb-sb/oqs-provider/commits{/sha}","git_commits_url":"https://api.github.com/repos/thb-sb/oqs-provider/git/commits{/sha}","comments_url":"https://api.github.com/repos/thb-sb/oqs-provider/comments{/number}","issue_comment_url":"https://api.github.com/repos/thb-sb/oqs-provider/issues/comments{/number}","contents_url":"https://api.github.com/repos/thb-sb/oqs-provider/contents/{+path}","compare_url":"https://api.github.com/repos/thb-sb/oqs-provider/compare/{base}...{head}","merges_url":"https://api.github.com/repos/thb-sb/oqs-provider/merges","archive_url":"https://api.github.com/repos/thb-sb/oqs-provider/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/thb-sb/oqs-provider/downloads","issues_url":"https://api.github.com/repos/thb-sb/oqs-provider/issues{/number}","pulls_url":"https://api.github.com/repos/thb-sb/oqs-provider/pulls{/number}","milestones_url":"https://api.github.com/repos/thb-sb/oqs-provider/milestones{/number}","notifications_url":"https://api.github.com/repos/thb-sb/oqs-provider/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/thb-sb/oqs-provider/labels{/name}","releases_url":"https://api.github.com/repos/thb-sb/oqs-provider/releases{/id}","deployments_url":"https://api.github.com/repos/thb-sb/oqs-provider/deployments","created_at":"2023-06-29T15:30:27Z","updated_at":"2023-08-31T07:24:18Z","pushed_at":"2023-09-05T18:21:53Z","git_url":"git://github.com/thb-sb/oqs-provider.git","ssh_url":"git@github.com:thb-sb/oqs-provider.git","clone_url":"https://github.com/thb-sb/oqs-provider.git","svn_url":"https://github.com/thb-sb/oqs-provider","homepage":"https://openquantumsafe.org","size":390,"stargazers_count":0,"watchers_count":0,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"main"}},"base":{"label":"open-quantum-safe:main","ref":"main","sha":"cc3895f208730abfe1efc15f7c3ff4358ac6e4c0","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":334511511,"node_id":"MDEwOlJlcG9zaXRvcnkzMzQ1MTE1MTE=","name":"oqs-provider","full_name":"open-quantum-safe/oqs-provider","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/oqs-provider","description":"OpenSSL 3 provider containing post-quantum algorithms","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","forks_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/deployments","created_at":"2021-01-30T21:07:15Z","updated_at":"2023-09-05T07:56:49Z","pushed_at":"2023-09-06T05:11:01Z","git_url":"git://github.com/open-quantum-safe/oqs-provider.git","ssh_url":"git@github.com:open-quantum-safe/oqs-provider.git","clone_url":"https://github.com/open-quantum-safe/oqs-provider.git","svn_url":"https://github.com/open-quantum-safe/oqs-provider","homepage":"https://openquantumsafe.org","size":426,"stargazers_count":70,"watchers_count":70,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":33,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":13,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cryptography","openssl","post-quantum","provider"],"visibility":"public","forks":33,"open_issues":13,"watchers":70,"default_branch":"main"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/245"},"html":{"href":"https://github.com/open-quantum-safe/oqs-provider/pull/245"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/245"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/245/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/245/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/245/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/statuses/fe9d50d5b1a227b1ab749f7d61576d8482d75cb5"}},"author_association":"COLLABORATOR","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2023-09-06T05:29:14Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"31626193665","type":"PullRequestReviewEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","review":{"id":1612506221,"node_id":"PRR_kwDOE_A9l85gHORt","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"body":"LGTM. Thanks for this \"long-term\" memory consistency protection for the project! Please feel free to merge if you'd like to keep this on CCI for some reason and for the time being. Otherwise, a switch to github CI would be nice.","commit_id":"fdfed92738133b01d8584cc9a228dfb62aa6509f","submitted_at":"2023-09-06T05:38:49Z","state":"approved","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/246#pullrequestreview-1612506221","pull_request_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/246","author_association":"MEMBER","_links":{"html":{"href":"https://github.com/open-quantum-safe/oqs-provider/pull/246#pullrequestreview-1612506221"},"pull_request":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/246"}}},"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/246","id":1503270986,"node_id":"PR_kwDOE_A9l85ZmhhK","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/246","diff_url":"https://github.com/open-quantum-safe/oqs-provider/pull/246.diff","patch_url":"https://github.com/open-quantum-safe/oqs-provider/pull/246.patch","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/246","number":246,"state":"open","locked":false,"title":"Add a CircleCI job to test oqs-provider against memory leaks.","user":{"login":"thb-sb","id":108470890,"node_id":"U_kgDOBnciag","avatar_url":"https://avatars.githubusercontent.com/u/108470890?v=4","gravatar_id":"","url":"https://api.github.com/users/thb-sb","html_url":"https://github.com/thb-sb","followers_url":"https://api.github.com/users/thb-sb/followers","following_url":"https://api.github.com/users/thb-sb/following{/other_user}","gists_url":"https://api.github.com/users/thb-sb/gists{/gist_id}","starred_url":"https://api.github.com/users/thb-sb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thb-sb/subscriptions","organizations_url":"https://api.github.com/users/thb-sb/orgs","repos_url":"https://api.github.com/users/thb-sb/repos","events_url":"https://api.github.com/users/thb-sb/events{/privacy}","received_events_url":"https://api.github.com/users/thb-sb/received_events","type":"User","site_admin":false},"body":"This commit introduces a new CircleCI job called `check-ASan-tests` that compiles OpenSSL 3, liboqs and oqs-provider with ASan (`-fsanitize=address`). Then, it runs the CTest suite.\r\n\r\nIf any memory leak occurs somewhere and is triggered in one of the various unit tests, then this CircleCI job fails and displays the ASan trace.\r\n\r\nThis job should fail until https://github.com/open-quantum-safe/oqs-provider/pull/245 is merged.","created_at":"2023-09-05T18:06:05Z","updated_at":"2023-09-06T05:38:49Z","closed_at":null,"merged_at":null,"merge_commit_sha":"14b8e0222f950befce45cb9463d789b04c6f7e06","assignee":null,"assignees":[],"requested_reviewers":[],"requested_teams":[],"labels":[],"milestone":null,"draft":false,"commits_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/246/commits","review_comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/246/comments","review_comment_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/comments{/number}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/246/comments","statuses_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/statuses/fdfed92738133b01d8584cc9a228dfb62aa6509f","head":{"label":"thb-sb:asan_job","ref":"asan_job","sha":"fdfed92738133b01d8584cc9a228dfb62aa6509f","user":{"login":"thb-sb","id":108470890,"node_id":"U_kgDOBnciag","avatar_url":"https://avatars.githubusercontent.com/u/108470890?v=4","gravatar_id":"","url":"https://api.github.com/users/thb-sb","html_url":"https://github.com/thb-sb","followers_url":"https://api.github.com/users/thb-sb/followers","following_url":"https://api.github.com/users/thb-sb/following{/other_user}","gists_url":"https://api.github.com/users/thb-sb/gists{/gist_id}","starred_url":"https://api.github.com/users/thb-sb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thb-sb/subscriptions","organizations_url":"https://api.github.com/users/thb-sb/orgs","repos_url":"https://api.github.com/users/thb-sb/repos","events_url":"https://api.github.com/users/thb-sb/events{/privacy}","received_events_url":"https://api.github.com/users/thb-sb/received_events","type":"User","site_admin":false},"repo":{"id":660254715,"node_id":"R_kgDOJ1qv-w","name":"oqs-provider","full_name":"thb-sb/oqs-provider","private":false,"owner":{"login":"thb-sb","id":108470890,"node_id":"U_kgDOBnciag","avatar_url":"https://avatars.githubusercontent.com/u/108470890?v=4","gravatar_id":"","url":"https://api.github.com/users/thb-sb","html_url":"https://github.com/thb-sb","followers_url":"https://api.github.com/users/thb-sb/followers","following_url":"https://api.github.com/users/thb-sb/following{/other_user}","gists_url":"https://api.github.com/users/thb-sb/gists{/gist_id}","starred_url":"https://api.github.com/users/thb-sb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thb-sb/subscriptions","organizations_url":"https://api.github.com/users/thb-sb/orgs","repos_url":"https://api.github.com/users/thb-sb/repos","events_url":"https://api.github.com/users/thb-sb/events{/privacy}","received_events_url":"https://api.github.com/users/thb-sb/received_events","type":"User","site_admin":false},"html_url":"https://github.com/thb-sb/oqs-provider","description":"OpenSSL 3 provider containing post-quantum algorithms","fork":true,"url":"https://api.github.com/repos/thb-sb/oqs-provider","forks_url":"https://api.github.com/repos/thb-sb/oqs-provider/forks","keys_url":"https://api.github.com/repos/thb-sb/oqs-provider/keys{/key_id}","collaborators_url":"https://api.github.com/repos/thb-sb/oqs-provider/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/thb-sb/oqs-provider/teams","hooks_url":"https://api.github.com/repos/thb-sb/oqs-provider/hooks","issue_events_url":"https://api.github.com/repos/thb-sb/oqs-provider/issues/events{/number}","events_url":"https://api.github.com/repos/thb-sb/oqs-provider/events","assignees_url":"https://api.github.com/repos/thb-sb/oqs-provider/assignees{/user}","branches_url":"https://api.github.com/repos/thb-sb/oqs-provider/branches{/branch}","tags_url":"https://api.github.com/repos/thb-sb/oqs-provider/tags","blobs_url":"https://api.github.com/repos/thb-sb/oqs-provider/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/thb-sb/oqs-provider/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/thb-sb/oqs-provider/git/refs{/sha}","trees_url":"https://api.github.com/repos/thb-sb/oqs-provider/git/trees{/sha}","statuses_url":"https://api.github.com/repos/thb-sb/oqs-provider/statuses/{sha}","languages_url":"https://api.github.com/repos/thb-sb/oqs-provider/languages","stargazers_url":"https://api.github.com/repos/thb-sb/oqs-provider/stargazers","contributors_url":"https://api.github.com/repos/thb-sb/oqs-provider/contributors","subscribers_url":"https://api.github.com/repos/thb-sb/oqs-provider/subscribers","subscription_url":"https://api.github.com/repos/thb-sb/oqs-provider/subscription","commits_url":"https://api.github.com/repos/thb-sb/oqs-provider/commits{/sha}","git_commits_url":"https://api.github.com/repos/thb-sb/oqs-provider/git/commits{/sha}","comments_url":"https://api.github.com/repos/thb-sb/oqs-provider/comments{/number}","issue_comment_url":"https://api.github.com/repos/thb-sb/oqs-provider/issues/comments{/number}","contents_url":"https://api.github.com/repos/thb-sb/oqs-provider/contents/{+path}","compare_url":"https://api.github.com/repos/thb-sb/oqs-provider/compare/{base}...{head}","merges_url":"https://api.github.com/repos/thb-sb/oqs-provider/merges","archive_url":"https://api.github.com/repos/thb-sb/oqs-provider/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/thb-sb/oqs-provider/downloads","issues_url":"https://api.github.com/repos/thb-sb/oqs-provider/issues{/number}","pulls_url":"https://api.github.com/repos/thb-sb/oqs-provider/pulls{/number}","milestones_url":"https://api.github.com/repos/thb-sb/oqs-provider/milestones{/number}","notifications_url":"https://api.github.com/repos/thb-sb/oqs-provider/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/thb-sb/oqs-provider/labels{/name}","releases_url":"https://api.github.com/repos/thb-sb/oqs-provider/releases{/id}","deployments_url":"https://api.github.com/repos/thb-sb/oqs-provider/deployments","created_at":"2023-06-29T15:30:27Z","updated_at":"2023-08-31T07:24:18Z","pushed_at":"2023-09-05T18:21:53Z","git_url":"git://github.com/thb-sb/oqs-provider.git","ssh_url":"git@github.com:thb-sb/oqs-provider.git","clone_url":"https://github.com/thb-sb/oqs-provider.git","svn_url":"https://github.com/thb-sb/oqs-provider","homepage":"https://openquantumsafe.org","size":390,"stargazers_count":0,"watchers_count":0,"language":"C","has_issues":false,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":0,"open_issues":0,"watchers":0,"default_branch":"main"}},"base":{"label":"open-quantum-safe:main","ref":"main","sha":"cc3895f208730abfe1efc15f7c3ff4358ac6e4c0","user":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"repo":{"id":334511511,"node_id":"MDEwOlJlcG9zaXRvcnkzMzQ1MTE1MTE=","name":"oqs-provider","full_name":"open-quantum-safe/oqs-provider","private":false,"owner":{"login":"open-quantum-safe","id":20689385,"node_id":"MDEyOk9yZ2FuaXphdGlvbjIwNjg5Mzg1","avatar_url":"https://avatars.githubusercontent.com/u/20689385?v=4","gravatar_id":"","url":"https://api.github.com/users/open-quantum-safe","html_url":"https://github.com/open-quantum-safe","followers_url":"https://api.github.com/users/open-quantum-safe/followers","following_url":"https://api.github.com/users/open-quantum-safe/following{/other_user}","gists_url":"https://api.github.com/users/open-quantum-safe/gists{/gist_id}","starred_url":"https://api.github.com/users/open-quantum-safe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/open-quantum-safe/subscriptions","organizations_url":"https://api.github.com/users/open-quantum-safe/orgs","repos_url":"https://api.github.com/users/open-quantum-safe/repos","events_url":"https://api.github.com/users/open-quantum-safe/events{/privacy}","received_events_url":"https://api.github.com/users/open-quantum-safe/received_events","type":"Organization","site_admin":false},"html_url":"https://github.com/open-quantum-safe/oqs-provider","description":"OpenSSL 3 provider containing post-quantum algorithms","fork":false,"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","forks_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/forks","keys_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/keys{/key_id}","collaborators_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/teams","hooks_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/hooks","issue_events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/events{/number}","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/events","assignees_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/assignees{/user}","branches_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/branches{/branch}","tags_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/tags","blobs_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/git/refs{/sha}","trees_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/git/trees{/sha}","statuses_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/statuses/{sha}","languages_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/languages","stargazers_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/stargazers","contributors_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/contributors","subscribers_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/subscribers","subscription_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/subscription","commits_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/commits{/sha}","git_commits_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/git/commits{/sha}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/comments{/number}","issue_comment_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments{/number}","contents_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/contents/{+path}","compare_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/compare/{base}...{head}","merges_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/merges","archive_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/downloads","issues_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues{/number}","pulls_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls{/number}","milestones_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/milestones{/number}","notifications_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/labels{/name}","releases_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/releases{/id}","deployments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/deployments","created_at":"2021-01-30T21:07:15Z","updated_at":"2023-09-05T07:56:49Z","pushed_at":"2023-09-06T05:11:01Z","git_url":"git://github.com/open-quantum-safe/oqs-provider.git","ssh_url":"git@github.com:open-quantum-safe/oqs-provider.git","clone_url":"https://github.com/open-quantum-safe/oqs-provider.git","svn_url":"https://github.com/open-quantum-safe/oqs-provider","homepage":"https://openquantumsafe.org","size":426,"stargazers_count":70,"watchers_count":70,"language":"C","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":true,"forks_count":33,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":13,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cryptography","openssl","post-quantum","provider"],"visibility":"public","forks":33,"open_issues":13,"watchers":70,"default_branch":"main"}},"_links":{"self":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/246"},"html":{"href":"https://github.com/open-quantum-safe/oqs-provider/pull/246"},"issue":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/246"},"comments":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/246/comments"},"review_comments":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/246/comments"},"review_comment":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/comments{/number}"},"commits":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/246/commits"},"statuses":{"href":"https://api.github.com/repos/open-quantum-safe/oqs-provider/statuses/fdfed92738133b01d8584cc9a228dfb62aa6509f"}},"author_association":"COLLABORATOR","auto_merge":null,"active_lock_reason":null}},"public":true,"created_at":"2023-09-06T05:38:49Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
