{"id":"32201550714","type":"IssuesEvent","actor":{"id":39264796,"login":"SWilson4","display_login":"SWilson4","gravatar_id":"","url":"https://api.github.com/users/SWilson4","avatar_url":"https://avatars.githubusercontent.com/u/39264796?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"opened","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1569","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1569/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1569/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1569/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1569","id":1919247195,"node_id":"I_kwDOA-eq3c5yZWNb","number":1569,"title":"Docker pull sometimes fails in CI","user":{"login":"SWilson4","id":39264796,"node_id":"MDQ6VXNlcjM5MjY0Nzk2","avatar_url":"https://avatars.githubusercontent.com/u/39264796?v=4","gravatar_id":"","url":"https://api.github.com/users/SWilson4","html_url":"https://github.com/SWilson4","followers_url":"https://api.github.com/users/SWilson4/followers","following_url":"https://api.github.com/users/SWilson4/following{/other_user}","gists_url":"https://api.github.com/users/SWilson4/gists{/gist_id}","starred_url":"https://api.github.com/users/SWilson4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SWilson4/subscriptions","organizations_url":"https://api.github.com/users/SWilson4/orgs","repos_url":"https://api.github.com/users/SWilson4/repos","events_url":"https://api.github.com/users/SWilson4/events{/privacy}","received_events_url":"https://api.github.com/users/SWilson4/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-09-29T13:10:30Z","updated_at":"2023-09-29T13:10:30Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\n`docker pull` has been flaky in both CircleCI and GitHub Actions, sometimes failing with a 503 status code.\r\n\r\n**To Reproduce**\r\nSee https://github.com/open-quantum-safe/liboqs/actions/runs/6343943016 and https://app.circleci.com/pipelines/github/open-quantum-safe/liboqs/2854/workflows/18e3969f-ba5e-4aaf-b29b-e6b19634608a.\r\n\r\n**Expected behavior**\r\n`docker pull` should complete successfully, as it usually does.\r\n\r\n**Additional context**\r\nAs of now, this is a very low urgency issue. (Maybe a one-day problem? We'll see.) That said, if it persists, it will get in the way of our development work, so it's worth tracking.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1569/timeline","performed_via_github_app":null,"state_reason":null}},"public":true,"created_at":"2023-09-29T13:10:30Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"32205878104","type":"IssuesEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"closed","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/265","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/265/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/265/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/265/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/265","id":1915667043,"node_id":"I_kwDOE_A9l85yLsJj","number":265,"title":"cmake Issues building with an existing OpenSSL build: liboqs_DiR ?","user":{"login":"planetf1","id":7292002,"node_id":"MDQ6VXNlcjcyOTIwMDI=","avatar_url":"https://avatars.githubusercontent.com/u/7292002?v=4","gravatar_id":"","url":"https://api.github.com/users/planetf1","html_url":"https://github.com/planetf1","followers_url":"https://api.github.com/users/planetf1/followers","following_url":"https://api.github.com/users/planetf1/following{/other_user}","gists_url":"https://api.github.com/users/planetf1/gists{/gist_id}","starred_url":"https://api.github.com/users/planetf1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/planetf1/subscriptions","organizations_url":"https://api.github.com/users/planetf1/orgs","repos_url":"https://api.github.com/users/planetf1/repos","events_url":"https://api.github.com/users/planetf1/events{/privacy}","received_events_url":"https://api.github.com/users/planetf1/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2023-09-27T14:04:10Z","updated_at":"2023-09-29T15:51:48Z","closed_at":"2023-09-29T15:51:48Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\ncmake Issues building with an existing OpenSSL build\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\nI am trying to build openssl, liboqs & oqs-provider from scratch.\r\nFedora 39. Both clang and gcc installed\r\nConfiguring in visual studio code using make, cmake, c/c++ plugins\r\n\r\nsource is under /home/jonesn/src\r\n\r\n1. Build openSSL\r\n* `./Configure --prefix=/home/jonesn/opt/openssl --openssldir=/home/jonesn/usr/local/ssl `\r\n* `make`\r\n* Observe: libssl.a & libcrypto.a are in the top level source directory (no specific build output directory), whilst shared library versions such as libcrypto.so & libssl.so are in /home/jonesn/opt/ssl/lib\r\n\r\n2. Build liboqs\r\n* Configure cmake with `-DCMAKE_BUILD_TYPE=Debug -DOPENSSL_ROOT_DIR=/home/jonesn/opt/openssl -DCMAKE_INSTALL_PREFIX=/home/jonesn/usr/local`\r\n* build with cmake\r\n* Observe: output file is build/lib/liboqs.a - this is the default build target \r\n\r\n3. Attempt to build provider\r\n* Use same cmake options as in step 2\r\n* Also set `-D-Dliboqs_DIR=/home/jonesn/src/liboqs/build`\r\n\r\nConfiguration fails \r\n```\r\n[proc] Executing command: /usr/bin/cmake --no-warn-unused-cli -DCMAKE_BUILD_TYPE=Debug -DCMAKE_INSTALL_PREFIX=/home/jonesn/usr/local -DOPENSSL_ROOT_DIR=/home/jonesn/opt/openssl -Dliboqs_DIR=/home/jonesn/src/liboqs/build/src -DCMAKE_BUILD_TYPE:STRING=Debug -DCMAKE_EXPORT_COMPILE_COMMANDS:BOOL=TRUE -DCMAKE_C_COMPILER:FILEPATH=/usr/bin/clang -DCMAKE_CXX_COMPILER:FILEPATH=/usr/bin/clang++ -S/home/jonesn/src/oqs-provider -B/home/jonesn/src/oqs-provider/_build -G \"Unix Makefiles\"\r\n....\r\n[cmake] CMake Error at /home/jonesn/src/liboqs/build/src/liboqsConfig.cmake:29 (include):\r\n[cmake]   include could not find requested file:\r\n[cmake] \r\n[cmake]     /home/jonesn/src/liboqs/build/src/liboqsTargets.cmake\r\n```\r\nThis file is actually in `./liboqs/build/src/cmake/liboqsTargets.cmake` ie the cmake subdirectory\r\n\r\nthe source line from liboqs is \r\n```\r\ninclude(\"${CMAKE_CURRENT_LIST_DIR}/liboqsTargets.cmake\")\r\n```\r\nso I presume something isn't quite right with the context in which this is run\r\n\r\n**Expected behavior**\r\nAbility to build liboqs, openssl, oqs_provider all from source\r\n\r\n**Screenshots**\r\nnone\r\n\r\n**Environment (please complete the following information):**\r\n - OS: Fedora 39\r\n - OpenSSL version: 3.2.0-alpha2-dev\r\n - oqsprovider version: main (HEAD @ 6d1ce1862b83cf73bcf410132a2c0699e962177b )\r\n\r\nPlease run the following commands to obtain the version information:\r\n - For OpenSSL: `openssl version` -> see above\r\n - For oqsprovider: `openssl list -providers` -> not build\r\n\r\n\r\n**Additional context**\r\nThe build instructions are not used verbatim - but the configuration documents & steps for configuring and building for each product have been used- I am trying to get the build working within vscode to provide myself with a smoother dev environment & share with colleagues - and community if useful. \r\n\r\n\r\n**Hints**\r\n\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/265/timeline","performed_via_github_app":null,"state_reason":"completed"}},"public":true,"created_at":"2023-09-29T15:51:49Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
