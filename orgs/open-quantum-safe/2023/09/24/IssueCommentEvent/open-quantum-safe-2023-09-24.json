{"id":"32058884978","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/256","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/256/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/256/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/256/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/256","id":1899848056,"node_id":"PR_kwDOE_A9l85agxuC","number":256,"title":"Fix OQS_ADDL_SOCKET_LIBS setting for cmake","user":{"login":"qnfm","id":104289862,"node_id":"U_kgDOBjdWRg","avatar_url":"https://avatars.githubusercontent.com/u/104289862?v=4","gravatar_id":"","url":"https://api.github.com/users/qnfm","html_url":"https://github.com/qnfm","followers_url":"https://api.github.com/users/qnfm/followers","following_url":"https://api.github.com/users/qnfm/following{/other_user}","gists_url":"https://api.github.com/users/qnfm/gists{/gist_id}","starred_url":"https://api.github.com/users/qnfm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qnfm/subscriptions","organizations_url":"https://api.github.com/users/qnfm/orgs","repos_url":"https://api.github.com/users/qnfm/repos","events_url":"https://api.github.com/users/qnfm/events{/privacy}","received_events_url":"https://api.github.com/users/qnfm/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2023-09-17T16:58:43Z","updated_at":"2023-09-24T12:26:28Z","closed_at":"2023-09-24T12:26:28Z","author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/256","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/256","diff_url":"https://github.com/open-quantum-safe/oqs-provider/pull/256.diff","patch_url":"https://github.com/open-quantum-safe/oqs-provider/pull/256.patch","merged_at":null},"body":"This fixes the cmake flag so it generates the right lib dependencies for msvc build. Otherwise, ths VS would complain about:\r\n**LINK : fatal error LNK1104: cannot open file 'ws2_32.lib gdi32.lib crypt32.lib'**\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/256/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1732559565","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/256#issuecomment-1732559565","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/256","id":1732559565,"node_id":"IC_kwDOE_A9l85nRMLN","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-09-24T12:26:28Z","updated_at":"2023-09-24T12:26:28Z","author_association":"MEMBER","body":"Superceded/replaced by #263 ","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1732559565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-09-24T12:26:29Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"32058917611","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/255","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/255/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/255/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/255/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/255","id":1897683687,"node_id":"I_kwDOE_A9l85xHFrn","number":255,"title":"main branch build error in Win11 amd64 MSVC","user":{"login":"roelds","id":33097828,"node_id":"MDQ6VXNlcjMzMDk3ODI4","avatar_url":"https://avatars.githubusercontent.com/u/33097828?v=4","gravatar_id":"","url":"https://api.github.com/users/roelds","html_url":"https://github.com/roelds","followers_url":"https://api.github.com/users/roelds/followers","following_url":"https://api.github.com/users/roelds/following{/other_user}","gists_url":"https://api.github.com/users/roelds/gists{/gist_id}","starred_url":"https://api.github.com/users/roelds/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roelds/subscriptions","organizations_url":"https://api.github.com/users/roelds/orgs","repos_url":"https://api.github.com/users/roelds/repos","events_url":"https://api.github.com/users/roelds/events{/privacy}","received_events_url":"https://api.github.com/users/roelds/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-09-15T04:23:26Z","updated_at":"2023-09-24T12:30:31Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nmain branch build error in Win11 amd64 MSVC\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\nWindows Sandbox (or VM in VMware Workstation 16)\r\n\r\ninstalled all prereqs & added to PATH:\r\nVS Pro 2022\r\n\tall current desktop C/C++ options\r\nWin64OpenSSL-3_1_2.msi\r\n\tPATH env var += C:\\Program Files\\OpenSSL-Win64\\bin\\\r\nninja\r\n\tPATH env var += C:\\a\\ninja-win\r\nps7\r\npython\r\ncmake\r\ngraphviz\r\ngit\r\ndoxygen\r\npip install pytest pytest-xdist pyyaml\r\n\r\nbuilt liboqs ok using MSVC, not Ninja (see cmd output at bottom)\r\ntried oqs-provider build using Ninja, fails with this error:\r\n...\r\nC:\\b\\oqs-provider\\oqsprov\\oqsprov_capabilities.c(222): error C2059: syntax error: '}'\r\n...\r\n(or see cmd output at bottom)\r\n**Expected behavior**\r\nbuild ok\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\nsee cmd output at bottom, from msvc x64 cmd prompt run as admin\r\n\r\n**Environment (please complete the following information):**\r\n - OS: [e.g. Ubuntu 20] Win11 amd64 all updates, in Windows Sandbox (also occurs in Win10 VM in VMware Workstation 16)\r\n - OpenSSL version [e.g., 3.2.0-dev] Win64OpenSSL-3_1_2.msi installed & found by build script\r\n - oqsprovider version [e.g. 0.4.0] current main branch\r\n\r\nPlease run the following commands to obtain the version information:\r\n - For OpenSSL: `openssl version` \r\n - For oqsprovider: `openssl list -providers` N/A : this is build error report\r\nI have manually added openssl to PATH\r\nC:\\b\\oqs-provider\\_build>openssl version -a\r\nOpenSSL 3.1.2 1 Aug 2023 (Library: OpenSSL 3.1.2 1 Aug 2023)\r\nbuilt on: Wed Aug  2 14:43:24 2023 UTC\r\nplatform: VC-WIN64A\r\noptions:  bn(64,64)\r\ncompiler: cl  /Z7 /Fdossl_static.pdb /Gs0 /GF /Gy /MD /W3 /wd4090 /nologo /O2 -DL_ENDIAN -DOPENSSL_PIC -D_USING_V110_SDK71_ -D_WINSOCK_DEPRECATED_NO_WARNINGS -D_WIN32_WINNT=0x0502\r\nOPENSSLDIR: \"C:\\Program Files\\Common Files\\SSL\"\r\nENGINESDIR: \"C:\\Program Files\\OpenSSL\\lib\\engines-3\"\r\nMODULESDIR: \"C:\\Program Files\\OpenSSL\\lib\\ossl-modules\"\r\nSeeding source: os-specific\r\nCPUINFO: OPENSSL_ia32cap=0xfefab2035f8bffff:0x405f46f2bf27a9\r\n\r\nIf `oqsprovider` is not listed as active, be sure to first follow all\r\n[USAGE guidance](https://github.com/open-quantum-safe/oqs-provider/blob/main/USAGE.md).\r\nN/A : this is build error report\r\n\r\nIf reporting bugs triggered by OpenSSL API integrations, e.g. running\r\na provider build [statically](https://github.com/open-quantum-safe/oqs-provider/blob/main/CONFIGURE.md#oqs_provider_build_static)\r\nor directly invoking any OpenSSL API, be sure to retrieve and report all errors\r\nreported by using the OpenSSL [ERR_get_error_all](https://www.openssl.org/docs/man3.1/man3/ERR_get_error_all.html)\r\nfunction.\r\nN/A : this is build error report\r\n\r\nBug reports generated from [Debug builds](https://github.com/open-quantum-safe/oqs-provider/wiki/Debugging)\r\nwth the debug environment variable \"OQSPROV=1\" set will be particularly helpful to find underlying\r\nproblems.\r\nN/A : this is build error report\r\n\r\n**Additional context**\r\nI'd like to build win bin so I can try out the sphincsshake256 alg, since I don't see it provided by the released win bin\r\n\r\n**Hints**\r\nTo exclude a build/setup error, please consider running your test\r\ncommands to reproduce the problem in our [pre-build docker image](https://hub.docker.com/repository/docker/openquantumsafe/oqs-ossl3/general),\r\ne.g. as such: `docker run -it openquantumsafe/oqs-ossl3` and\r\nprovide full command input and output traces in the bug report.\r\n\r\nI don't see sphincsshake256ssimple or sphincsshake256256srobust listed as available in this docker image\r\n\r\n[syntax_err.txt](https://github.com/open-quantum-safe/oqs-provider/files/12615463/syntax_err.txt)\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/255/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1732560264","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/255#issuecomment-1732560264","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/255","id":1732560264,"node_id":"IC_kwDOE_A9l85nRMWI","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-09-24T12:30:31Z","updated_at":"2023-09-24T12:30:31Z","author_association":"MEMBER","body":"Please check again as #263 has now landed and MSVC building has been improved.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1732560264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-09-24T12:30:31Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
