{"id":"30389676319","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":288761656,"name":"open-quantum-safe/profiling","url":"https://api.github.com/repos/open-quantum-safe/profiling"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/102","repository_url":"https://api.github.com/repos/open-quantum-safe/profiling","labels_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/102/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/102/comments","events_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/102/events","html_url":"https://github.com/open-quantum-safe/profiling/issues/102","id":1798110616,"node_id":"I_kwDOETYnOM5rLP2Y","number":102,"title":"Data collection inconsistent","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-07-11T05:13:18Z","updated_at":"2023-07-13T05:45:02Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"Data as requested by @christianpaquin in #93 is being collected (see e.g. https://openquantumsafe.org/benchmarking/visualization/2023-07-08/handshakes.json) but in an inconsistent manner: Many algorithm combinations deliver results on `x64` but not `aarch64` and `m1` and in many cases it's the opposite. Investigation warranted -- as on the many other issues in this project. Not fun being alone looking at these...","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/102/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/comments/1633587649","html_url":"https://github.com/open-quantum-safe/profiling/issues/102#issuecomment-1633587649","issue_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/102","id":1633587649,"node_id":"IC_kwDOETYnOM5hXpHB","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-07-13T05:45:02Z","updated_at":"2023-07-13T05:45:02Z","author_association":"MEMBER","body":"@SWilson4 Thanks very much for your willingness to help sort through this mess grown over the years with pretty much no feedback to \"keep me honest\"!\r\n\r\nI started to analyse some of the issues and a first problem became visible (#103). Along similar lines `aarch64` profiling uses a different `Dockerfile-arm64` than `x64` based profiling (`Dockerfile`) and I _think_ the two are in sync (please take an \"independent\" look): This separation surely is not ideal. Maybe a single Dockerfile for all platforms should/could be used? Also I don't recall the reason for existence of the two additonal \"...arm64...\" Dockerfiles, so they might be removed for clarity.\r\n\r\nAlso not ideal is the result file collation in https://github.com/open-quantum-safe/profiling/blob/main/perf/scripts/combine.py: It had been based on the assumption of daily tests (and consequently quick purging of outdated run results). This assumption no longer holds as we began to run only once a week, thus allowing 10 week old test runs to still have a reading on which test results are presented. Also visible in that script is a hack to \"resolve\" differences in test result output parsing caused by the differences between how `openssl3` (now) reports test results and how the old `oqs-openssl111` used to report those. With the latter getting into EOL quite some logic there could be streamlined (and quite possibly be made less bug-infested).\r\n\r\nLots of room for improvement -- so, please let me know when you have had a chance to go through this all and come up with more questions/suggestions for improvement. I'm surely open to any ideas to make this better (and close the issues for good).\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/comments/1633587649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-07-13T05:45:03Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"30402317433","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":288761656,"name":"open-quantum-safe/profiling","url":"https://api.github.com/repos/open-quantum-safe/profiling"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/103","repository_url":"https://api.github.com/repos/open-quantum-safe/profiling","labels_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/103/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/103/comments","events_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/103/events","html_url":"https://github.com/open-quantum-safe/profiling/issues/103","id":1802195193,"node_id":"I_kwDOETYnOM5ra1D5","number":103,"title":"Automate M1 profiling image build & use","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-07-13T05:22:41Z","updated_at":"2023-07-13T14:06:28Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"Due to the unavailability (at time of creating the tests) of M1 VMs in AWS and unlike the timed AWS-based runs for `x64` and `aarch64`, the profiling run on `m1` is currently triggered by a `cron` job on a dedicated laptop like this:\r\n\r\n    docker run --privileged openquantumsafe/oqs-perf bash -c \"cd /opt/test && ./run-tests-m1.sh\" > /Users/baentsch/profiling/docker-run-m1.log 2>&1\r\n\r\nIn particular, this means the dedicated `Dockerfile-m1` dockerfile is _not_ used for M1 profiling. This may or may not be sensible -- but at least confuses me (why do we still have this file)? If we decide to keep this file, the corresponding image should be built in CI and be used (and not the more generic `aarch64` linux image). Also, would running the code in a comparable (VM-based) manner be possible? In which infrastructure? How do we ascertain that the functionality being tested on all platforms remains in sync with the main `Dockerfile` (used for `x64`)?\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/103/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/comments/1634310418","html_url":"https://github.com/open-quantum-safe/profiling/issues/103#issuecomment-1634310418","issue_url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/103","id":1634310418,"node_id":"IC_kwDOETYnOM5haZkS","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2023-07-13T14:06:28Z","updated_at":"2023-07-13T14:06:28Z","author_association":"MEMBER","body":"I don't have any particular opinions. It should be possible to run the data collection on our M1 inside a Docker container.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/profiling/issues/comments/1634310418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-07-13T14:06:29Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"30409283877","type":"IssueCommentEvent","actor":{"id":876514,"login":"aaupov","display_login":"aaupov","gravatar_id":"","url":"https://api.github.com/users/aaupov","avatar_url":"https://avatars.githubusercontent.com/u/876514?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1508","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1508/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1508/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1508/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1508","id":1803307043,"node_id":"PR_kwDOA-eq3c5Vb51i","number":1508,"title":"[NFCI] Move Keccak rhotates tables to rodata","user":{"login":"aaupov","id":876514,"node_id":"MDQ6VXNlcjg3NjUxNA==","avatar_url":"https://avatars.githubusercontent.com/u/876514?v=4","gravatar_id":"","url":"https://api.github.com/users/aaupov","html_url":"https://github.com/aaupov","followers_url":"https://api.github.com/users/aaupov/followers","following_url":"https://api.github.com/users/aaupov/following{/other_user}","gists_url":"https://api.github.com/users/aaupov/gists{/gist_id}","starred_url":"https://api.github.com/users/aaupov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aaupov/subscriptions","organizations_url":"https://api.github.com/users/aaupov/orgs","repos_url":"https://api.github.com/users/aaupov/repos","events_url":"https://api.github.com/users/aaupov/events{/privacy}","received_events_url":"https://api.github.com/users/aaupov/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-07-13T15:48:39Z","updated_at":"2023-07-13T18:44:39Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/1508","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1508","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/1508.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/1508.patch","merged_at":null},"body":"rhotates tables are placed to .text section which confuses tools such as BOLT. Move them to rodata to unbreak and avoid polluting icache/iTLB with data.\r\n\r\nSync with OpenSSL https://github.com/openssl/openssl/pull/21440\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1508/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1634725334","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1508#issuecomment-1634725334","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1508","id":1634725334,"node_id":"IC_kwDOA-eq3c5hb-3W","user":{"login":"aaupov","id":876514,"node_id":"MDQ6VXNlcjg3NjUxNA==","avatar_url":"https://avatars.githubusercontent.com/u/876514?v=4","gravatar_id":"","url":"https://api.github.com/users/aaupov","html_url":"https://github.com/aaupov","followers_url":"https://api.github.com/users/aaupov/followers","following_url":"https://api.github.com/users/aaupov/following{/other_user}","gists_url":"https://api.github.com/users/aaupov/gists{/gist_id}","starred_url":"https://api.github.com/users/aaupov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aaupov/subscriptions","organizations_url":"https://api.github.com/users/aaupov/orgs","repos_url":"https://api.github.com/users/aaupov/repos","events_url":"https://api.github.com/users/aaupov/events{/privacy}","received_events_url":"https://api.github.com/users/aaupov/received_events","type":"User","site_admin":false},"created_at":"2023-07-13T18:44:39Z","updated_at":"2023-07-13T18:44:39Z","author_association":"NONE","body":"Darwin enables `old_gas_syntax` variable, and maintains the set of patches. Dropping this PR for maintainers to figure out the proper way to include this change.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1634725334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-07-13T18:44:40Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
