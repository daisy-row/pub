{"id":"33726333123","type":"IssuesEvent","actor":{"id":72304830,"login":"eimalnuaimi","display_login":"eimalnuaimi","gravatar_id":"","url":"https://api.github.com/users/eimalnuaimi","avatar_url":"https://avatars.githubusercontent.com/u/72304830?"},"repo":{"id":247826799,"name":"open-quantum-safe/liboqs-java","url":"https://api.github.com/repos/open-quantum-safe/liboqs-java"},"payload":{"action":"opened","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-java/issues/22","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs-java","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs-java/issues/22/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs-java/issues/22/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs-java/issues/22/events","html_url":"https://github.com/open-quantum-safe/liboqs-java/issues/22","id":2017027937,"node_id":"I_kwDODsWJb854OWdh","number":22,"title":"Undefined references while compiling tests/example_sig.c ","user":{"login":"eimalnuaimi","id":72304830,"node_id":"MDQ6VXNlcjcyMzA0ODMw","avatar_url":"https://avatars.githubusercontent.com/u/72304830?v=4","gravatar_id":"","url":"https://api.github.com/users/eimalnuaimi","html_url":"https://github.com/eimalnuaimi","followers_url":"https://api.github.com/users/eimalnuaimi/followers","following_url":"https://api.github.com/users/eimalnuaimi/following{/other_user}","gists_url":"https://api.github.com/users/eimalnuaimi/gists{/gist_id}","starred_url":"https://api.github.com/users/eimalnuaimi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eimalnuaimi/subscriptions","organizations_url":"https://api.github.com/users/eimalnuaimi/orgs","repos_url":"https://api.github.com/users/eimalnuaimi/repos","events_url":"https://api.github.com/users/eimalnuaimi/events{/privacy}","received_events_url":"https://api.github.com/users/eimalnuaimi/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-06-21T06:42:52Z","updated_at":"2023-11-29T16:55:24Z","closed_at":"2022-06-28T20:24:28Z","author_association":"NONE","active_lock_reason":null,"body":"I tried compiling the tests/example_sig.c example using the command `gcc -Ibuild/include -Lbuild/lib tests/example_sig.c -o example_sig -loqs` and got the following dump: \r\n\r\n> /usr/bin/ld: build/lib/liboqs.a(rand.c.o): in function `OQS_randombytes_openssl':\r\n> rand.c:(.text.OQS_randombytes_openssl+0x1d): undefined reference to `RAND_status'\r\n> /usr/bin/ld: rand.c:(.text.OQS_randombytes_openssl+0x27): undefined reference to `RAND_poll'\r\n> /usr/bin/ld: rand.c:(.text.OQS_randombytes_openssl+0x35): undefined reference to `RAND_bytes'\r\n> /usr/bin/ld: build/lib/liboqs.a(rand_nist.c.o): in function `handleErrors':\r\n> rand_nist.c:(.text.handleErrors+0x11): undefined reference to `ERR_print_errors_fp'\r\n> /usr/bin/ld: build/lib/liboqs.a(rand_nist.c.o): in function `AES256_CTR_DRBG_Update.constprop.0':\r\n> rand_nist.c:(.text.AES256_CTR_DRBG_Update.constprop.0+0x19a): undefined reference to `EVP_CIPHER_CTX_new'\r\n> /usr/bin/ld: rand_nist.c:(.text.AES256_CTR_DRBG_Update.constprop.0+0x1ab): undefined reference to `EVP_aes_256_ecb'\r\n> /usr/bin/ld: rand_nist.c:(.text.AES256_CTR_DRBG_Update.constprop.0+0x1c2): undefined reference to `EVP_EncryptInit_ex'\r\n> /usr/bin/ld: rand_nist.c:(.text.AES256_CTR_DRBG_Update.constprop.0+0x1e4): undefined reference to `EVP_EncryptUpdate'\r\n> /usr/bin/ld: rand_nist.c:(.text.AES256_CTR_DRBG_Update.constprop.0+0x1f9): undefined reference to `EVP_CIPHER_CTX_free'\r\n> /usr/bin/ld: build/lib/liboqs.a(rand_nist.c.o): in function `OQS_randombytes_nist_kat':\r\n> rand_nist.c:(.text.OQS_randombytes_nist_kat+0x19a): undefined reference to `EVP_CIPHER_CTX_new'\r\n> /usr/bin/ld: rand_nist.c:(.text.OQS_randombytes_nist_kat+0x1ab): undefined reference to `EVP_aes_256_ecb'\r\n> /usr/bin/ld: rand_nist.c:(.text.OQS_randombytes_nist_kat+0x1c2): undefined reference to `EVP_EncryptInit_ex'\r\n> /usr/bin/ld: rand_nist.c:(.text.OQS_randombytes_nist_kat+0x1ed): undefined reference to `EVP_EncryptUpdate'\r\n> /usr/bin/ld: rand_nist.c:(.text.OQS_randombytes_nist_kat+0x1fe): undefined reference to `EVP_CIPHER_CTX_free'\r\n> /usr/bin/ld: build/lib/liboqs.a(sha2_ossl.c.o): in function `OQS_SHA2_sha256':\r\n> sha2_ossl.c:(.text.OQS_SHA2_sha256+0x2b): undefined reference to `EVP_sha256'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha256+0x33): undefined reference to `EVP_MD_CTX_new'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha256+0x43): undefined reference to `EVP_DigestInit_ex'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha256+0x51): undefined reference to `EVP_DigestUpdate'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha256+0x61): undefined reference to `EVP_DigestFinal_ex'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha256+0x69): undefined reference to `EVP_MD_CTX_free'\r\n> /usr/bin/ld: build/lib/liboqs.a(sha2_ossl.c.o): in function `OQS_SHA2_sha384':\r\n> sha2_ossl.c:(.text.OQS_SHA2_sha384+0x2b): undefined reference to `EVP_sha384'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha384+0x33): undefined reference to `EVP_MD_CTX_new'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha384+0x43): undefined reference to `EVP_DigestInit_ex'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha384+0x51): undefined reference to `EVP_DigestUpdate'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha384+0x61): undefined reference to `EVP_DigestFinal_ex'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha384+0x69): undefined reference to `EVP_MD_CTX_free'\r\n> /usr/bin/ld: build/lib/liboqs.a(sha2_ossl.c.o): in function `OQS_SHA2_sha512':\r\n> sha2_ossl.c:(.text.OQS_SHA2_sha512+0x2b): undefined reference to `EVP_sha512'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha512+0x33): undefined reference to `EVP_MD_CTX_new'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha512+0x43): undefined reference to `EVP_DigestInit_ex'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha512+0x51): undefined reference to `EVP_DigestUpdate'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha512+0x61): undefined reference to `EVP_DigestFinal_ex'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha512+0x69): undefined reference to `EVP_MD_CTX_free'\r\n> /usr/bin/ld: build/lib/liboqs.a(sha2_ossl.c.o): in function `OQS_SHA2_sha256_inc_init':\r\n> sha2_ossl.c:(.text.OQS_SHA2_sha256_inc_init+0xc): undefined reference to `EVP_sha256'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha256_inc_init+0x19): undefined reference to `EVP_MD_CTX_new'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha256_inc_init+0x29): undefined reference to `EVP_DigestInit_ex'\r\n> /usr/bin/ld: build/lib/liboqs.a(sha2_ossl.c.o): in function `OQS_SHA2_sha256_inc_blocks':\r\n> sha2_ossl.c:(.text.OQS_SHA2_sha256_inc_blocks+0xc): undefined reference to `EVP_DigestUpdate'\r\n> /usr/bin/ld: build/lib/liboqs.a(sha2_ossl.c.o): in function `OQS_SHA2_sha256_inc_finalize':\r\n> sha2_ossl.c:(.text.OQS_SHA2_sha256_inc_finalize+0x31): undefined reference to `EVP_DigestFinal_ex'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha256_inc_finalize+0x39): undefined reference to `EVP_MD_CTX_free'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha256_inc_finalize+0x5f): undefined reference to `EVP_DigestUpdate'\r\n> /usr/bin/ld: build/lib/liboqs.a(sha2_ossl.c.o): in function `OQS_SHA2_sha256_inc_ctx_release':\r\n> sha2_ossl.c:(.text.OQS_SHA2_sha256_inc_ctx_release+0x8): undefined reference to `EVP_MD_CTX_free'\r\n> /usr/bin/ld: build/lib/liboqs.a(sha2_ossl.c.o): in function `OQS_SHA2_sha256_inc_ctx_clone':\r\n> sha2_ossl.c:(.text.OQS_SHA2_sha256_inc_ctx_clone+0x15): undefined reference to `EVP_sha256'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha256_inc_ctx_clone+0x22): undefined reference to `EVP_MD_CTX_new'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha256_inc_ctx_clone+0x32): undefined reference to `EVP_DigestInit_ex'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha256_inc_ctx_clone+0x4b): undefined reference to `EVP_MD_CTX_copy_ex'\r\n> /usr/bin/ld: build/lib/liboqs.a(sha2_ossl.c.o): in function `OQS_SHA2_sha384_inc_init':\r\n> sha2_ossl.c:(.text.OQS_SHA2_sha384_inc_init+0xc): undefined reference to `EVP_sha384'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha384_inc_init+0x19): undefined reference to `EVP_MD_CTX_new'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha384_inc_init+0x29): undefined reference to `EVP_DigestInit_ex'\r\n> /usr/bin/ld: build/lib/liboqs.a(sha2_ossl.c.o): in function `OQS_SHA2_sha384_inc_blocks':\r\n> sha2_ossl.c:(.text.OQS_SHA2_sha384_inc_blocks+0xc): undefined reference to `EVP_DigestUpdate'\r\n> /usr/bin/ld: build/lib/liboqs.a(sha2_ossl.c.o): in function `OQS_SHA2_sha384_inc_finalize':\r\n> sha2_ossl.c:(.text.OQS_SHA2_sha384_inc_finalize+0x31): undefined reference to `EVP_DigestFinal_ex'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha384_inc_finalize+0x39): undefined reference to `EVP_MD_CTX_free'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha384_inc_finalize+0x5f): undefined reference to `EVP_DigestUpdate'\r\n> /usr/bin/ld: build/lib/liboqs.a(sha2_ossl.c.o): in function `OQS_SHA2_sha384_inc_ctx_release':\r\n> sha2_ossl.c:(.text.OQS_SHA2_sha384_inc_ctx_release+0x8): undefined reference to `EVP_MD_CTX_free'\r\n> /usr/bin/ld: build/lib/liboqs.a(sha2_ossl.c.o): in function `OQS_SHA2_sha384_inc_ctx_clone':\r\n> sha2_ossl.c:(.text.OQS_SHA2_sha384_inc_ctx_clone+0x15): undefined reference to `EVP_sha384'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha384_inc_ctx_clone+0x22): undefined reference to `EVP_MD_CTX_new'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha384_inc_ctx_clone+0x32): undefined reference to `EVP_DigestInit_ex'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha384_inc_ctx_clone+0x4b): undefined reference to `EVP_MD_CTX_copy_ex'\r\n> /usr/bin/ld: build/lib/liboqs.a(sha2_ossl.c.o): in function `OQS_SHA2_sha512_inc_init':\r\n> sha2_ossl.c:(.text.OQS_SHA2_sha512_inc_init+0xc): undefined reference to `EVP_sha512'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha512_inc_init+0x19): undefined reference to `EVP_MD_CTX_new'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha512_inc_init+0x29): undefined reference to `EVP_DigestInit_ex'\r\n> /usr/bin/ld: build/lib/liboqs.a(sha2_ossl.c.o): in function `OQS_SHA2_sha512_inc_blocks':\r\n> sha2_ossl.c:(.text.OQS_SHA2_sha512_inc_blocks+0xc): undefined reference to `EVP_DigestUpdate'\r\n> /usr/bin/ld: build/lib/liboqs.a(sha2_ossl.c.o): in function `OQS_SHA2_sha512_inc_finalize':\r\n> sha2_ossl.c:(.text.OQS_SHA2_sha512_inc_finalize+0x31): undefined reference to `EVP_DigestFinal_ex'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha512_inc_finalize+0x39): undefined reference to `EVP_MD_CTX_free'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha512_inc_finalize+0x5f): undefined reference to `EVP_DigestUpdate'\r\n> /usr/bin/ld: build/lib/liboqs.a(sha2_ossl.c.o): in function `OQS_SHA2_sha512_inc_ctx_release':\r\n> sha2_ossl.c:(.text.OQS_SHA2_sha512_inc_ctx_release+0x8): undefined reference to `EVP_MD_CTX_free'\r\n> /usr/bin/ld: build/lib/liboqs.a(sha2_ossl.c.o): in function `OQS_SHA2_sha512_inc_ctx_clone':\r\n> sha2_ossl.c:(.text.OQS_SHA2_sha512_inc_ctx_clone+0x15): undefined reference to `EVP_sha512'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha512_inc_ctx_clone+0x22): undefined reference to `EVP_MD_CTX_new'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha512_inc_ctx_clone+0x32): undefined reference to `EVP_DigestInit_ex'\r\n> /usr/bin/ld: sha2_ossl.c:(.text.OQS_SHA2_sha512_inc_ctx_clone+0x4b): undefined reference to `EVP_MD_CTX_copy_ex'\r\n> /usr/bin/ld: build/lib/liboqs.a(aes_ossl.c.o): in function `OQS_AES128_ECB_load_schedule':\r\n> aes_ossl.c:(.text.OQS_AES128_ECB_load_schedule+0x2b): undefined reference to `EVP_CIPHER_CTX_new'\r\n> /usr/bin/ld: aes_ossl.c:(.text.OQS_AES128_ECB_load_schedule+0x39): undefined reference to `EVP_aes_128_ecb'\r\n> /usr/bin/ld: aes_ossl.c:(.text.OQS_AES128_ECB_load_schedule+0x4d): undefined reference to `EVP_EncryptInit_ex'\r\n> /usr/bin/ld: aes_ossl.c:(.text.OQS_AES128_ECB_load_schedule+0x61): undefined reference to `EVP_CIPHER_CTX_set_padding'\r\n> /usr/bin/ld: build/lib/liboqs.a(aes_ossl.c.o): in function `OQS_AES128_free_schedule':\r\n> aes_ossl.c:(.text.OQS_AES128_free_schedule+0x17): undefined reference to `EVP_CIPHER_CTX_free'\r\n> /usr/bin/ld: build/lib/liboqs.a(aes_ossl.c.o): in function `OQS_AES128_ECB_enc':\r\n> aes_ossl.c:(.text.OQS_AES128_ECB_enc+0x71): undefined reference to `EVP_EncryptUpdate'\r\n> /usr/bin/ld: aes_ossl.c:(.text.OQS_AES128_ECB_enc+0x8c): undefined reference to `EVP_EncryptFinal_ex'\r\n> /usr/bin/ld: aes_ossl.c:(.text.OQS_AES128_ECB_enc+0xa9): undefined reference to `EVP_CIPHER_CTX_free'\r\n> /usr/bin/ld: build/lib/liboqs.a(aes_ossl.c.o): in function `OQS_AES128_ECB_enc_sch':\r\n> aes_ossl.c:(.text.OQS_AES128_ECB_enc_sch+0x4f): undefined reference to `EVP_EncryptUpdate'\r\n> /usr/bin/ld: aes_ossl.c:(.text.OQS_AES128_ECB_enc_sch+0x6a): undefined reference to `EVP_EncryptFinal_ex'\r\n> /usr/bin/ld: build/lib/liboqs.a(aes_ossl.c.o): in function `OQS_AES256_ECB_load_schedule':\r\n> aes_ossl.c:(.text.OQS_AES256_ECB_load_schedule+0x2b): undefined reference to `EVP_CIPHER_CTX_new'\r\n> /usr/bin/ld: aes_ossl.c:(.text.OQS_AES256_ECB_load_schedule+0x39): undefined reference to `EVP_aes_256_ecb'\r\n> /usr/bin/ld: aes_ossl.c:(.text.OQS_AES256_ECB_load_schedule+0x4d): undefined reference to `EVP_EncryptInit_ex'\r\n> /usr/bin/ld: aes_ossl.c:(.text.OQS_AES256_ECB_load_schedule+0x61): undefined reference to `EVP_CIPHER_CTX_set_padding'\r\n> /usr/bin/ld: build/lib/liboqs.a(aes_ossl.c.o): in function `OQS_AES256_free_schedule':\r\n> aes_ossl.c:(.text.OQS_AES256_free_schedule+0x17): undefined reference to `EVP_CIPHER_CTX_free'\r\n> /usr/bin/ld: build/lib/liboqs.a(aes_ossl.c.o): in function `OQS_AES256_ECB_enc':\r\n> aes_ossl.c:(.text.OQS_AES256_ECB_enc+0x71): undefined reference to `EVP_EncryptUpdate'\r\n> /usr/bin/ld: aes_ossl.c:(.text.OQS_AES256_ECB_enc+0x8c): undefined reference to `EVP_EncryptFinal_ex'\r\n> /usr/bin/ld: aes_ossl.c:(.text.OQS_AES256_ECB_enc+0xa9): undefined reference to `EVP_CIPHER_CTX_free'\r\n> /usr/bin/ld: build/lib/liboqs.a(aes_ossl.c.o): in function `OQS_AES256_ECB_enc_sch':\r\n> aes_ossl.c:(.text.OQS_AES256_ECB_enc_sch+0x4f): undefined reference to `EVP_EncryptUpdate'\r\n> /usr/bin/ld: aes_ossl.c:(.text.OQS_AES256_ECB_enc_sch+0x6a): undefined reference to `EVP_EncryptFinal_ex'\r\n> /usr/bin/ld: build/lib/liboqs.a(aes_ossl.c.o): in function `OQS_AES256_CTR_sch':\r\n> aes_ossl.c:(.text.OQS_AES256_CTR_sch+0x32): undefined reference to `EVP_CIPHER_CTX_new'\r\n> /usr/bin/ld: aes_ossl.c:(.text.OQS_AES256_CTR_sch+0x62): undefined reference to `EVP_aes_256_ctr'\r\n> /usr/bin/ld: aes_ossl.c:(.text.OQS_AES256_CTR_sch+0x79): undefined reference to `EVP_EncryptInit_ex'\r\n> /usr/bin/ld: aes_ossl.c:(.text.OQS_AES256_CTR_sch+0xb5): undefined reference to `EVP_EncryptUpdate'\r\n> /usr/bin/ld: aes_ossl.c:(.text.OQS_AES256_CTR_sch+0xcd): undefined reference to `EVP_EncryptFinal_ex'\r\n> /usr/bin/ld: aes_ossl.c:(.text.OQS_AES256_CTR_sch+0xda): undefined reference to `EVP_CIPHER_CTX_free'\r\n> collect2: error: ld returned 1 exit status\r\n\r\nPrior to that, I have built liboqs library sucessfully using these commands: \r\n```\r\nmkdir build && cd build\r\ncmake -GNinja .. \r\nninja \r\n```\r\nRunning the complete test suite using the command `ninja run_tests` was succesful. \r\n\r\nI had an issue with running the compile command eailer but it was 'fixed' by setting the default compiler to gcc (`export cc=gcc`) open-quantum-safe/liboqs#1230 \r\n\r\nI'm using Ubuntu 20.04.3 LTS\r\n\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-java/issues/22/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs-java/issues/22/timeline","performed_via_github_app":null,"state_reason":"completed"}},"public":true,"created_at":"2023-11-29T16:55:24Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
