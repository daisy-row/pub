{"id":"27354504057","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":218087071,"name":"open-quantum-safe/oqs-demos","url":"https://api.github.com/repos/open-quantum-safe/oqs-demos"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183/events","html_url":"https://github.com/open-quantum-safe/oqs-demos/issues/183","id":1601006073,"node_id":"I_kwDODP--n85fbWn5","number":183,"title":"error when using openvpn with OQS signature","user":{"login":"k-Artin","id":120385775,"node_id":"U_kgDOByzw7w","avatar_url":"https://avatars.githubusercontent.com/u/120385775?v=4","gravatar_id":"","url":"https://api.github.com/users/k-Artin","html_url":"https://github.com/k-Artin","followers_url":"https://api.github.com/users/k-Artin/followers","following_url":"https://api.github.com/users/k-Artin/following{/other_user}","gists_url":"https://api.github.com/users/k-Artin/gists{/gist_id}","starred_url":"https://api.github.com/users/k-Artin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k-Artin/subscriptions","organizations_url":"https://api.github.com/users/k-Artin/orgs","repos_url":"https://api.github.com/users/k-Artin/repos","events_url":"https://api.github.com/users/k-Artin/events{/privacy}","received_events_url":"https://api.github.com/users/k-Artin/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-02-27T11:32:20Z","updated_at":"2023-02-27T11:55:22Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"hello \r\ni am getting the following error when using openvpn with OQS signature:\r\n\r\n2023-02-27 13:18:36 us=339169 Control Channel: TLSv1.3, cipher TLSv1.3 TLS_AES_256_GCM_SHA384, peer certificate: 256 bit unknown type, signature: p521_falcon1024\r\n2023-02-27 13:18:36 us=362887 [test server] Peer Connection Initiated with [AF_INET]myip:2234\r\n2023-02-27 13:18:36 us=365937 OpenSSL: error:04000065:object identifier routines::unknown nid\r\n2023-02-27 13:18:36 us=368782 TLS_ERROR: BIO read tls_read_plaintext error\r\n2023-02-27 13:18:36 us=371915 TLS Error: TLS object -> incoming plaintext read error\r\n2023-02-27 13:18:36 us=374594 TLS Error: TLS handshake failed\r\n2023-02-27 13:18:36 us=377651 Fatal TLS error (check_tls_errors_co), restarting\r\n2023-02-27 13:18:36 us=380265 TCP/UDP: Closing socket\r\n\r\nthe signature algorithm is p521_falcon1024 and the key of CA certificateØŒ server key and server certificate is p521_falcon1024.\r\nI can communicate between the openssl s_server and openssl s_client with this certificates and keys.\r\nthe openssl and openvpn version is :\r\nopenssl 3.2.0-dev\r\nOpenVPN 2.7_git\r\n\r\nand the OS is windows 10.\r\n\r\ni think something wrong.\r\nThank you in advance!","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/comments/1446196069","html_url":"https://github.com/open-quantum-safe/oqs-demos/issues/183#issuecomment-1446196069","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183","id":1446196069,"node_id":"IC_kwDODP--n85WMzNl","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-02-27T11:55:21Z","updated_at":"2023-02-27T11:55:21Z","author_association":"MEMBER","body":"Thanks for this report. Is the problem only with falcon? In other words, can you successfully use other signature algorithms, e.g., p521_dilithium5? Or is it only the p521_falcon1024 hybrid and plain falcon1024 works? Final question: Have you built this yourself (using oqs-provider current `main` branch)?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/comments/1446196069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-02-27T11:55:22Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"27354715213","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1395","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1395/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1395/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1395/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1395","id":1591464579,"node_id":"PR_kwDOA-eq3c5KUx2J","number":1395,"title":"Update Falcon implementation","user":{"login":"thomwiggers","id":974662,"node_id":"MDQ6VXNlcjk3NDY2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/974662?v=4","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","html_url":"https://github.com/thomwiggers","followers_url":"https://api.github.com/users/thomwiggers/followers","following_url":"https://api.github.com/users/thomwiggers/following{/other_user}","gists_url":"https://api.github.com/users/thomwiggers/gists{/gist_id}","starred_url":"https://api.github.com/users/thomwiggers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomwiggers/subscriptions","organizations_url":"https://api.github.com/users/thomwiggers/orgs","repos_url":"https://api.github.com/users/thomwiggers/repos","events_url":"https://api.github.com/users/thomwiggers/events{/privacy}","received_events_url":"https://api.github.com/users/thomwiggers/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2023-02-20T09:24:08Z","updated_at":"2023-02-27T12:03:50Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/1395","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1395","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/1395.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/1395.patch","merged_at":null},"body":"Updates Falcon to the latest version of the code.\r\n\r\n* See also #1386 (version number is now better specified, instead of just the day I got the code from Thomas Pornin).\r\n\r\nCloses #1390 and #1315\r\n\r\n<!-- Please give a brief explanation of the purpose of this pull request. -->\r\n\r\n<!-- Does this PR resolve any issue?  If so, please reference it using automatic-closing keywords like \"Fixes #123.\" -->\r\n\r\n<!-- Please answer the following questions to help manage version and changes across projects. -->\r\n\r\n* [x] Does this PR change the input/output behaviour of a cryptographic algorithm (i.e., does it change known answer test values)?  (If so, a version bump will be required from *x.y.z* to *x.(y+1).0*.)\r\n* [ ] Does this PR change the the list of algorithms available -- either adding, removing, or renaming? Does this PR otherwise change an API? (If so, PRs in [oqs-provider](https://github.com/open-quantum-safe/oqs-provider), [OQS-OpenSSL](https://github.com/open-quantum-safe/openssl), [OQS-BoringSSL](https://github.com/open-quantum-safe/boringssl), and [OQS-OpenSSH](https://github.com/open-quantum-safe/openssh) will also need to be ready for review and merge by the time this is merged.)\r\n\r\n<!-- Once your pull request is ready for review and passing continuous integration tests, please convert from a draft PR to a normal PR, and request a review from one of the OQS core team members. -->\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1395/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1446208441","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1395#issuecomment-1446208441","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1395","id":1446208441,"node_id":"IC_kwDOA-eq3c5WM2O5","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-02-27T12:03:50Z","updated_at":"2023-02-27T12:03:50Z","author_association":"MEMBER","body":"> I've updated the constant-time suppression files.\r\n\r\nThanks very much. They're looking good to me (and the tests pass on my machine). That indeed only leaves the version ID question open to close this. ","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1446208441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-02-27T12:03:50Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"27355151899","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1400","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1400/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1400/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1400/events","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1400","id":1596238831,"node_id":"PR_kwDOA-eq3c5Kktdm","number":1400,"title":"Make BIKE decode function void to avoid ct issues","user":{"login":"dkostic","id":25055813,"node_id":"MDQ6VXNlcjI1MDU1ODEz","avatar_url":"https://avatars.githubusercontent.com/u/25055813?v=4","gravatar_id":"","url":"https://api.github.com/users/dkostic","html_url":"https://github.com/dkostic","followers_url":"https://api.github.com/users/dkostic/followers","following_url":"https://api.github.com/users/dkostic/following{/other_user}","gists_url":"https://api.github.com/users/dkostic/gists{/gist_id}","starred_url":"https://api.github.com/users/dkostic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkostic/subscriptions","organizations_url":"https://api.github.com/users/dkostic/orgs","repos_url":"https://api.github.com/users/dkostic/repos","events_url":"https://api.github.com/users/dkostic/events{/privacy}","received_events_url":"https://api.github.com/users/dkostic/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2023-02-23T05:15:22Z","updated_at":"2023-02-27T12:20:52Z","closed_at":null,"author_association":"COLLABORATOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/pulls/1400","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1400","diff_url":"https://github.com/open-quantum-safe/liboqs/pull/1400.diff","patch_url":"https://github.com/open-quantum-safe/liboqs/pull/1400.patch","merged_at":null},"body":"<!-- Please give a brief explanation of the purpose of this pull request. -->\r\nThe `decode` function in BIKE was made void to avoid any potential constant-time issues.\r\n\r\n<!-- Does this PR resolve any issue?  If so, please reference it using automatic-closing keywords like \"Fixes #123.\" -->\r\nPartially addresses #1396 \r\n\r\n<!-- Please answer the following questions to help manage version and changes across projects. -->\r\n\r\n* [ ] Does this PR change the input/output behaviour of a cryptographic algorithm (i.e., does it change known answer test values)?  (If so, a version bump will be required from *x.y.z* to *x.(y+1).0*.)\r\n* [ ] Does this PR change the the list of algorithms available -- either adding, removing, or renaming? Does this PR otherwise change an API? (If so, PRs in [oqs-provider](https://github.com/open-quantum-safe/oqs-provider), [OQS-OpenSSL](https://github.com/open-quantum-safe/openssl), [OQS-BoringSSL](https://github.com/open-quantum-safe/boringssl), and [OQS-OpenSSH](https://github.com/open-quantum-safe/openssh) will also need to be ready for review and merge by the time this is merged.)\r\n\r\n<!-- Once your pull request is ready for review and passing continuous integration tests, please convert from a draft PR to a normal PR, and request a review from one of the OQS core team members. -->\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1400/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1446233805","html_url":"https://github.com/open-quantum-safe/liboqs/pull/1400#issuecomment-1446233805","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1400","id":1446233805,"node_id":"IC_kwDOA-eq3c5WM8bN","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-02-27T12:20:52Z","updated_at":"2023-02-27T12:20:52Z","author_association":"MEMBER","body":"@dstebila : Thanks for the \"reproducer script\". Slightly simplified and corrected below:\r\n```\r\ndocker run -it openquantumsafe/ci-ubuntu-focal-x86_64 bash\r\n```\r\n\r\nIn the `docker` image now running:\r\n\r\n```\r\ngit clone --depth 1 --branch bike-fix-ct-issues https://github.com/dkostic/liboqs.git\r\ncd liboqs && mkdir build && cd build\r\ncmake -GNinja -DOQS_OPT_TARGET=generic -DCMAKE_BUILD_TYPE=Debug -DOQS_ENABLE_TEST_CONSTANT_TIME=ON .. && ninja\r\nvalgrind --tool=memcheck --gen-suppressions=all --error-exitcode=1 --max-stackframe=20480000 --num-callers=20 tests/test_kem BIKE-L1\r\n```\r\n\r\n@dkostic : Task remaining for a person who understands the code inside-out: Review suppression reports output as to whether they contain truly \"dubious\" code behaviour -- if not, give each suppression a name explaining why the code is no problem and then check them into the \"tests/constant_time/kem/passes\" folder with a suitable name (referenced in the passes.json file read be the `liboqs` ct test script).","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1446233805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-02-27T12:20:53Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"27358827216","type":"IssueCommentEvent","actor":{"id":120385775,"login":"k-Artin","display_login":"k-Artin","gravatar_id":"","url":"https://api.github.com/users/k-Artin","avatar_url":"https://avatars.githubusercontent.com/u/120385775?"},"repo":{"id":218087071,"name":"open-quantum-safe/oqs-demos","url":"https://api.github.com/repos/open-quantum-safe/oqs-demos"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183/events","html_url":"https://github.com/open-quantum-safe/oqs-demos/issues/183","id":1601006073,"node_id":"I_kwDODP--n85fbWn5","number":183,"title":"error when using openvpn with OQS signature","user":{"login":"k-Artin","id":120385775,"node_id":"U_kgDOByzw7w","avatar_url":"https://avatars.githubusercontent.com/u/120385775?v=4","gravatar_id":"","url":"https://api.github.com/users/k-Artin","html_url":"https://github.com/k-Artin","followers_url":"https://api.github.com/users/k-Artin/followers","following_url":"https://api.github.com/users/k-Artin/following{/other_user}","gists_url":"https://api.github.com/users/k-Artin/gists{/gist_id}","starred_url":"https://api.github.com/users/k-Artin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k-Artin/subscriptions","organizations_url":"https://api.github.com/users/k-Artin/orgs","repos_url":"https://api.github.com/users/k-Artin/repos","events_url":"https://api.github.com/users/k-Artin/events{/privacy}","received_events_url":"https://api.github.com/users/k-Artin/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-02-27T11:32:20Z","updated_at":"2023-02-27T14:36:43Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"hello \r\ni am getting the following error when using openvpn with OQS signature:\r\n\r\n2023-02-27 13:18:36 us=339169 Control Channel: TLSv1.3, cipher TLSv1.3 TLS_AES_256_GCM_SHA384, peer certificate: 256 bit unknown type, signature: p521_falcon1024\r\n2023-02-27 13:18:36 us=362887 [test server] Peer Connection Initiated with [AF_INET]myip:2234\r\n2023-02-27 13:18:36 us=365937 OpenSSL: error:04000065:object identifier routines::unknown nid\r\n2023-02-27 13:18:36 us=368782 TLS_ERROR: BIO read tls_read_plaintext error\r\n2023-02-27 13:18:36 us=371915 TLS Error: TLS object -> incoming plaintext read error\r\n2023-02-27 13:18:36 us=374594 TLS Error: TLS handshake failed\r\n2023-02-27 13:18:36 us=377651 Fatal TLS error (check_tls_errors_co), restarting\r\n2023-02-27 13:18:36 us=380265 TCP/UDP: Closing socket\r\n\r\nthe signature algorithm is p521_falcon1024 and the key of CA certificateØŒ server key and server certificate is p521_falcon1024.\r\nI can communicate between the openssl s_server and openssl s_client with this certificates and keys.\r\nthe openssl and openvpn version is :\r\nopenssl 3.2.0-dev\r\nOpenVPN 2.7_git\r\n\r\nand the OS is windows 10.\r\n\r\ni think something wrong.\r\nThank you in advance!","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/comments/1446442338","html_url":"https://github.com/open-quantum-safe/oqs-demos/issues/183#issuecomment-1446442338","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183","id":1446442338,"node_id":"IC_kwDODP--n85WNvVi","user":{"login":"k-Artin","id":120385775,"node_id":"U_kgDOByzw7w","avatar_url":"https://avatars.githubusercontent.com/u/120385775?v=4","gravatar_id":"","url":"https://api.github.com/users/k-Artin","html_url":"https://github.com/k-Artin","followers_url":"https://api.github.com/users/k-Artin/followers","following_url":"https://api.github.com/users/k-Artin/following{/other_user}","gists_url":"https://api.github.com/users/k-Artin/gists{/gist_id}","starred_url":"https://api.github.com/users/k-Artin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k-Artin/subscriptions","organizations_url":"https://api.github.com/users/k-Artin/orgs","repos_url":"https://api.github.com/users/k-Artin/repos","events_url":"https://api.github.com/users/k-Artin/events{/privacy}","received_events_url":"https://api.github.com/users/k-Artin/received_events","type":"User","site_admin":false},"created_at":"2023-02-27T14:36:43Z","updated_at":"2023-02-27T14:36:43Z","author_association":"NONE","body":"> Have you built this yourself (using oqs-provider current `main` branch)?\r\n\r\nyes i use main branch and the latest version of openssl master you are changing it.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/comments/1446442338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-02-27T14:36:43Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"27358941066","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":218087071,"name":"open-quantum-safe/oqs-demos","url":"https://api.github.com/repos/open-quantum-safe/oqs-demos"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183/events","html_url":"https://github.com/open-quantum-safe/oqs-demos/issues/183","id":1601006073,"node_id":"I_kwDODP--n85fbWn5","number":183,"title":"error when using openvpn with OQS signature","user":{"login":"k-Artin","id":120385775,"node_id":"U_kgDOByzw7w","avatar_url":"https://avatars.githubusercontent.com/u/120385775?v=4","gravatar_id":"","url":"https://api.github.com/users/k-Artin","html_url":"https://github.com/k-Artin","followers_url":"https://api.github.com/users/k-Artin/followers","following_url":"https://api.github.com/users/k-Artin/following{/other_user}","gists_url":"https://api.github.com/users/k-Artin/gists{/gist_id}","starred_url":"https://api.github.com/users/k-Artin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k-Artin/subscriptions","organizations_url":"https://api.github.com/users/k-Artin/orgs","repos_url":"https://api.github.com/users/k-Artin/repos","events_url":"https://api.github.com/users/k-Artin/events{/privacy}","received_events_url":"https://api.github.com/users/k-Artin/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-02-27T11:32:20Z","updated_at":"2023-02-27T14:40:47Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"hello \r\ni am getting the following error when using openvpn with OQS signature:\r\n\r\n2023-02-27 13:18:36 us=339169 Control Channel: TLSv1.3, cipher TLSv1.3 TLS_AES_256_GCM_SHA384, peer certificate: 256 bit unknown type, signature: p521_falcon1024\r\n2023-02-27 13:18:36 us=362887 [test server] Peer Connection Initiated with [AF_INET]myip:2234\r\n2023-02-27 13:18:36 us=365937 OpenSSL: error:04000065:object identifier routines::unknown nid\r\n2023-02-27 13:18:36 us=368782 TLS_ERROR: BIO read tls_read_plaintext error\r\n2023-02-27 13:18:36 us=371915 TLS Error: TLS object -> incoming plaintext read error\r\n2023-02-27 13:18:36 us=374594 TLS Error: TLS handshake failed\r\n2023-02-27 13:18:36 us=377651 Fatal TLS error (check_tls_errors_co), restarting\r\n2023-02-27 13:18:36 us=380265 TCP/UDP: Closing socket\r\n\r\nthe signature algorithm is p521_falcon1024 and the key of CA certificateØŒ server key and server certificate is p521_falcon1024.\r\nI can communicate between the openssl s_server and openssl s_client with this certificates and keys.\r\nthe openssl and openvpn version is :\r\nopenssl 3.2.0-dev\r\nOpenVPN 2.7_git\r\n\r\nand the OS is windows 10.\r\n\r\ni think something wrong.\r\nThank you in advance!","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/comments/1446451819","html_url":"https://github.com/open-quantum-safe/oqs-demos/issues/183#issuecomment-1446451819","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/183","id":1446451819,"node_id":"IC_kwDODP--n85WNxpr","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-02-27T14:40:47Z","updated_at":"2023-02-27T14:40:47Z","author_association":"MEMBER","body":"OK -- the latest code, then, good. But does the problem only occur with Falcon? Anyway, can you please share here a setup and/or script that lets me reproduce the issue/leads to the above error messages?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/comments/1446451819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-02-27T14:40:48Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"27362200112","type":"IssueCommentEvent","actor":{"id":35571346,"login":"martinschmatz","display_login":"martinschmatz","gravatar_id":"","url":"https://api.github.com/users/martinschmatz","avatar_url":"https://avatars.githubusercontent.com/u/35571346?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/115","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/115/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/115/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/115/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/115","id":1587093897,"node_id":"I_kwDOE_A9l85emSGJ","number":115,"title":"Enable correct operation of openssl ca","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-02-16T06:19:56Z","updated_at":"2023-02-27T16:33:51Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"### Discussed in https://github.com/open-quantum-safe/oqs-provider/discussions/110\r\n\r\n<div type='discussions-op-text'>\r\n\r\n<sup>Originally posted by **Dechen2333** February  8, 2023</sup>\r\nHello,\r\n\r\nI want to create my own CA and OCSP server to test a program with oqsprovider implementation.\r\nI'm using the docker image provided by this link:\r\nhttps://github.com/open-quantum-safe/oqs-provider/wiki/Interoperability#ietf-115-hackathon\r\nIn the container, I created a falcon1024 key and selfsigned certification for the CA, a dilithium2 key and then sign the dilithium2 key with the falcon CA key. If I verify the dilithium certification using the CAfile, it ends up with an error in asn1 encoding routines. If I use a rsa 2048 key as root CA key instead, everything will be fine.\r\n\r\nStep to reproduce:\r\n1. docker run -it openquantumsafe/oqs-ossl3:ietf115\r\n2. mkdir -p demoCA/newcerts\r\n3. touch demoCA/index.txt\r\n4. echo '01' > demoCA/serial\r\n5. openssl req -x509 -new -newkey falcon1024 -keyout falc_rootCA.key -out falc_rootCA.crt -subj \"/CN=test CA\" -nodes\r\n6. openssl req -new -newkey dilithium2 -keyout dilithium2.key -out dilithium2.csr -nodes -config openssl.cnf -subj \"/CN=test Server\"\r\n7. openssl ca -batch -startdate 150123080000Z -enddate 250823090000Z -keyfile falc_rootCA.key -cert falc_rootCA.crt -policy policy_anything -config openssl.cnf -notext -out dilithium2.crt -infiles dilithium2.csr\r\n8. openssl verify -CAfile falc_rootCA.crt dilithium2.crt\r\n\r\nThen I receive the error codes:\r\nerror 7 at 0 depth lookup: certificate signature failure\r\nerror dilithium2.crt: verification failed\r\n487BBAB4387F0000:error:4000000E:lib(128):oqs_sig_verify:reason(14):/opt/oqs-provider/oqsprov/oqs_sig.c:405:\r\n487BBAB4387F0000:error:06880006:asn1 encoding routines:ASN1_item_verify_ctx:EVP lib:crypto/asn1/a_verify.c:215:\r\n\r\nopenssl version:\r\nOpenSSL 3.2.0-dev-pr19312  (Library: OpenSSL 3.2.0-dev-pr19312 )\r\n\r\nIf I use the certification that signed by a PQC CA key in my program with oqsprovider implementation, the same error appear while the TLS handshake\r\n\r\noqsprovider version:\r\nOQS Provider v.0.5.0-dev-nopub based on liboqs v.0.7.3-dev\r\n\r\nopenssl.cnf:\r\nhttps://github.com/Dechen2333/opensslcnf/blob/main/openssl.cnf\r\n </div>","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/115/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1446654539","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/115#issuecomment-1446654539","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/115","id":1446654539,"node_id":"IC_kwDOE_A9l85WOjJL","user":{"login":"martinschmatz","id":35571346,"node_id":"MDQ6VXNlcjM1NTcxMzQ2","avatar_url":"https://avatars.githubusercontent.com/u/35571346?v=4","gravatar_id":"","url":"https://api.github.com/users/martinschmatz","html_url":"https://github.com/martinschmatz","followers_url":"https://api.github.com/users/martinschmatz/followers","following_url":"https://api.github.com/users/martinschmatz/following{/other_user}","gists_url":"https://api.github.com/users/martinschmatz/gists{/gist_id}","starred_url":"https://api.github.com/users/martinschmatz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinschmatz/subscriptions","organizations_url":"https://api.github.com/users/martinschmatz/orgs","repos_url":"https://api.github.com/users/martinschmatz/repos","events_url":"https://api.github.com/users/martinschmatz/events{/privacy}","received_events_url":"https://api.github.com/users/martinschmatz/received_events","type":"User","site_admin":false},"created_at":"2023-02-27T16:33:51Z","updated_at":"2023-02-27T16:33:51Z","author_association":"NONE","body":"Sali Michael - not sure it relates, but I'm getting errors when using `openssl req` to generate a csr: \r\n```\r\n$my_openssl req \\\r\n                     -config $Intermediate_CA_conf_file \\\r\n                     -extensions server_cert \\\r\n                     -subj \"/C=CH/ST=Switzerland/L=Zurich/O=IBM Research ZRL/OU=IBM ZRL Server/CN=$server_name\" \\\r\n                     -key private/$server_name.key \\\r\n                     -new \\\r\n                     -out csr/$server_name.csr\r\n```\r\nwith `server_cert` extension as follows: \r\n```\r\n[ server_cert ]\r\n# Extensions for server certificates (`man x509v3_config`).\r\nbasicConstraints = CA:FALSE\r\nnsCertType = server\r\nnsComment = \"OpenSSL Generated Server Certificate by IBM\"\r\nsubjectKeyIdentifier = hash\r\nauthorityKeyIdentifier = keyid,issuer:always\r\nkeyUsage = critical, digitalSignature, keyEncipherment\r\nextendedKeyUsage = serverAuth\r\nsubjectAltName = @server_alt_names\r\n```\r\nError I get is: \r\n```\r\nError adding request extensions from section server_cert\r\nC054C20A2C7F0000:error:11000079:X509 V3 routines:v2i_AUTHORITY_KEYID:no issuer certificate:crypto/x509/v3_akid.c:156:\r\nC054C20A2C7F0000:error:11000080:X509 V3 routines:X509V3_EXT_nconf_int:error in extension:crypto/x509/v3_conf.c:48:section=server_cert, name=authorityKeyIdentifier, value=keyid,issuer:always\r\n```\r\n\r\nSuspicion is that the `subjectKeyIdentifier = hash` is not taken into account (such that authorityKeyIdentifier would be filled with the keyid and more doesn't need to be known about the authority at this point in time).  \r\nI need to debug some more but thought I already share this here. \r\n\r\nEn liebe Gruess - Martin \r\n\r\nPS: \r\n```$my_openssl version\r\nOpenSSL 3.2.0-dev  (Library: OpenSSL 3.2.0-dev ) \r\nOQS_liboqs_Commit=4916446\r\nOQS_OpenSSL3provider_Commit=ecb095d\r\nOpenSSL3_Commit=359d6a2\r\n```","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1446654539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-02-27T16:33:52Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
