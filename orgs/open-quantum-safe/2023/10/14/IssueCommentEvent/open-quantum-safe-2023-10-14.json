{"id":"32557753430","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1579","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1579/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1579/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1579/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1579","id":1941795149,"node_id":"I_kwDOA-eq3c5zvXFN","number":1579,"title":"Update to use OpenSSL 3","user":{"login":"chenrui333","id":1580956,"node_id":"MDQ6VXNlcjE1ODA5NTY=","avatar_url":"https://avatars.githubusercontent.com/u/1580956?v=4","gravatar_id":"","url":"https://api.github.com/users/chenrui333","html_url":"https://github.com/chenrui333","followers_url":"https://api.github.com/users/chenrui333/followers","following_url":"https://api.github.com/users/chenrui333/following{/other_user}","gists_url":"https://api.github.com/users/chenrui333/gists{/gist_id}","starred_url":"https://api.github.com/users/chenrui333/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenrui333/subscriptions","organizations_url":"https://api.github.com/users/chenrui333/orgs","repos_url":"https://api.github.com/users/chenrui333/repos","events_url":"https://api.github.com/users/chenrui333/events{/privacy}","received_events_url":"https://api.github.com/users/chenrui333/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-10-13T11:47:37Z","updated_at":"2023-10-14T04:56:16Z","closed_at":"2023-10-14T04:56:15Z","author_association":"NONE","active_lock_reason":null,"body":"OpenSSL 1.1.1 is already EOL this September, https://www.openssl.org/blog/blog/2023/09/11/eol-111/, needs to update to use OpenSSL 3","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1579/timeline","performed_via_github_app":null,"state_reason":"completed"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1762597027","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1579#issuecomment-1762597027","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1579","id":1762597027,"node_id":"IC_kwDOA-eq3c5pDxij","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-10-14T04:56:15Z","updated_at":"2023-10-14T04:56:15Z","author_association":"MEMBER","body":"@dstebila already pointed out that `liboqs` has no up- or downstream dependencies on OpenSSL111/works with&for OpenSSL3.\r\n\r\n> needs to update to use OpenSSL 3\r\n\r\ntherefore is not sufficiently clear as a problem statement, so closing this issue in consequence. Please consider opening a [bug report](https://github.com/open-quantum-safe/liboqs/issues/new?assignees=&labels=&projects=&template=bug_report.md&title=) with more details if you disagree, @chenrui333 .","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1762597027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-10-14T04:56:16Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"32557920736","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1580","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1580/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1580/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1580/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1580","id":1941890360,"node_id":"I_kwDOA-eq3c5zvuU4","number":1580,"title":"pytest 7.4: --numprocesses=auto not recognized","user":{"login":"c-93","id":15103886,"node_id":"MDQ6VXNlcjE1MTAzODg2","avatar_url":"https://avatars.githubusercontent.com/u/15103886?v=4","gravatar_id":"","url":"https://api.github.com/users/c-93","html_url":"https://github.com/c-93","followers_url":"https://api.github.com/users/c-93/followers","following_url":"https://api.github.com/users/c-93/following{/other_user}","gists_url":"https://api.github.com/users/c-93/gists{/gist_id}","starred_url":"https://api.github.com/users/c-93/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/c-93/subscriptions","organizations_url":"https://api.github.com/users/c-93/orgs","repos_url":"https://api.github.com/users/c-93/repos","events_url":"https://api.github.com/users/c-93/events{/privacy}","received_events_url":"https://api.github.com/users/c-93/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-10-13T12:46:05Z","updated_at":"2023-10-14T05:20:02Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nAt least pytest-7.2.2 and pytest-7.4.2 fail for me with the following error:\r\n\r\n```\r\nERROR: usage: __main__.py [options] [file_or_dir] [file_or_dir] [...]\r\n__main__.py: error: unrecognized arguments: --numprocesses=auto\r\n  inifile: None\r\n  rootdir: <root_dir>\r\n```\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Build the project, and execute `ninja run_tests` with the mentioned pytest versions.\r\n\r\n**Expected behavior**\r\nTest execution starts. (no error)\r\n\r\n**Environment (please complete the following information):**\r\n - OS: Fedora 37\r\n - liboqs main branch\r\n - pytest-7.2.2 or pytest-7.4.2\r\n\r\n**Workaround**\r\nRemove `--numprocesses=auto` from /liboqs/tests/CMakeLists.txt    \r\nAs removing this option seems to increase compatibility, I suggest this to be the default (or to replace it with a similar option).\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1580/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1762624203","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1580#issuecomment-1762624203","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1580","id":1762624203,"node_id":"IC_kwDOA-eq3c5pD4LL","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-10-14T05:20:01Z","updated_at":"2023-10-14T05:20:01Z","author_association":"MEMBER","body":"> __main__.py: error: unrecognized arguments: --numprocesses=auto\r\n\r\nThis error occurs if `pytest-xdist` is not installed. However, this package is clearly listed [as prerequisite in documentation](https://github.com/open-quantum-safe/liboqs#linuxmacos).\r\n\r\n> As removing this option seems to increase compatibility, I suggest this to be the default (or to replace it with a similar option).\r\n\r\nWithout this feature of \"pytest-xdist\" testing takes way too long -- and is way too inefficient on standard multicore processors. If you know of an alternative (command line option) to bring testing to the same performance level, please let us know. Otherwise we'll have to close this issue as \"documented\"/don't fix.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1762624203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-10-14T05:20:02Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"32558059059","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":218087071,"name":"open-quantum-safe/oqs-demos","url":"https://api.github.com/repos/open-quantum-safe/oqs-demos"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/232","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/232/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/232/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/232/events","html_url":"https://github.com/open-quantum-safe/oqs-demos/pull/232","id":1936872543,"node_id":"PR_kwDODP--n85cd2Jz","number":232,"title":"Remove Chromium references for now","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-10-11T05:45:15Z","updated_at":"2023-10-14T05:42:50Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/pulls/232","html_url":"https://github.com/open-quantum-safe/oqs-demos/pull/232","diff_url":"https://github.com/open-quantum-safe/oqs-demos/pull/232.diff","patch_url":"https://github.com/open-quantum-safe/oqs-demos/pull/232.patch","merged_at":null},"body":"Followup to https://github.com/open-quantum-safe/oqs-demos/issues/231#issuecomment-1756707753","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/232/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/comments/1762632700","html_url":"https://github.com/open-quantum-safe/oqs-demos/pull/232#issuecomment-1762632700","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/232","id":1762632700,"node_id":"IC_kwDODP--n85pD6P8","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-10-14T05:42:50Z","updated_at":"2023-10-14T05:42:50Z","author_association":"MEMBER","body":"This PR shall be superseded by #234. Do not merge.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/comments/1762632700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-10-14T05:42:51Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"32558420421","type":"IssueCommentEvent","actor":{"id":74706004,"login":"pi-314159","display_login":"pi-314159","gravatar_id":"","url":"https://api.github.com/users/pi-314159","avatar_url":"https://avatars.githubusercontent.com/u/74706004?"},"repo":{"id":218087071,"name":"open-quantum-safe/oqs-demos","url":"https://api.github.com/repos/open-quantum-safe/oqs-demos"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/234","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/234/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/234/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/234/events","html_url":"https://github.com/open-quantum-safe/oqs-demos/pull/234","id":1942357339,"node_id":"PR_kwDODP--n85cwqyU","number":234,"title":"Chromium update","user":{"login":"pi-314159","id":74706004,"node_id":"MDQ6VXNlcjc0NzA2MDA0","avatar_url":"https://avatars.githubusercontent.com/u/74706004?v=4","gravatar_id":"","url":"https://api.github.com/users/pi-314159","html_url":"https://github.com/pi-314159","followers_url":"https://api.github.com/users/pi-314159/followers","following_url":"https://api.github.com/users/pi-314159/following{/other_user}","gists_url":"https://api.github.com/users/pi-314159/gists{/gist_id}","starred_url":"https://api.github.com/users/pi-314159/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pi-314159/subscriptions","organizations_url":"https://api.github.com/users/pi-314159/orgs","repos_url":"https://api.github.com/users/pi-314159/repos","events_url":"https://api.github.com/users/pi-314159/events{/privacy}","received_events_url":"https://api.github.com/users/pi-314159/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-10-13T17:33:16Z","updated_at":"2023-10-14T06:41:07Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/pulls/234","html_url":"https://github.com/open-quantum-safe/oqs-demos/pull/234","diff_url":"https://github.com/open-quantum-safe/oqs-demos/pull/234.diff","patch_url":"https://github.com/open-quantum-safe/oqs-demos/pull/234.patch","merged_at":null},"body":"1. Update Linux instructions (tested on Ubuntu 22 LTS x64)\r\n2. Update oqs-patch","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/234/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/comments/1762666808","html_url":"https://github.com/open-quantum-safe/oqs-demos/pull/234#issuecomment-1762666808","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/234","id":1762666808,"node_id":"IC_kwDODP--n85pECk4","user":{"login":"pi-314159","id":74706004,"node_id":"MDQ6VXNlcjc0NzA2MDA0","avatar_url":"https://avatars.githubusercontent.com/u/74706004?v=4","gravatar_id":"","url":"https://api.github.com/users/pi-314159","html_url":"https://github.com/pi-314159","followers_url":"https://api.github.com/users/pi-314159/followers","following_url":"https://api.github.com/users/pi-314159/following{/other_user}","gists_url":"https://api.github.com/users/pi-314159/gists{/gist_id}","starred_url":"https://api.github.com/users/pi-314159/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pi-314159/subscriptions","organizations_url":"https://api.github.com/users/pi-314159/orgs","repos_url":"https://api.github.com/users/pi-314159/repos","events_url":"https://api.github.com/users/pi-314159/events{/privacy}","received_events_url":"https://api.github.com/users/pi-314159/received_events","type":"User","site_admin":false},"created_at":"2023-10-14T06:41:06Z","updated_at":"2023-10-14T06:41:06Z","author_association":"CONTRIBUTOR","body":"@baentsch updated. Instead of stating instructions and code (patchfile) _must_ use these liboqs and Chromium code versions, I wrote using any other versions of liboqs or Chromium _may_ result in failure. While there is a possibility of encountering issues or certain algorithms not functioning properly, it is possible that some newer versions of Chromium may still work with the provided patch. Similarly, using a newer version of liboqs does not guarantee _full_ failure, but it might impact the proper functioning of certain algorithms.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/comments/1762666808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-10-14T06:41:07Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"32559011859","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":218087071,"name":"open-quantum-safe/oqs-demos","url":"https://api.github.com/repos/open-quantum-safe/oqs-demos"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/232","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/232/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/232/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/232/events","html_url":"https://github.com/open-quantum-safe/oqs-demos/pull/232","id":1936872543,"node_id":"PR_kwDODP--n85cd2Jz","number":232,"title":"Remove Chromium references for now","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-10-11T05:45:15Z","updated_at":"2023-10-14T08:14:29Z","closed_at":"2023-10-14T08:14:29Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/pulls/232","html_url":"https://github.com/open-quantum-safe/oqs-demos/pull/232","diff_url":"https://github.com/open-quantum-safe/oqs-demos/pull/232.diff","patch_url":"https://github.com/open-quantum-safe/oqs-demos/pull/232.patch","merged_at":null},"body":"Followup to https://github.com/open-quantum-safe/oqs-demos/issues/231#issuecomment-1756707753","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/232/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/comments/1762710003","html_url":"https://github.com/open-quantum-safe/oqs-demos/pull/232#issuecomment-1762710003","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/232","id":1762710003,"node_id":"IC_kwDODP--n85pENHz","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-10-14T08:14:29Z","updated_at":"2023-10-14T08:14:29Z","author_association":"MEMBER","body":"Replaced by #234 ","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-demos/issues/comments/1762710003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-10-14T08:14:30Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"32563278298","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1581","id":1943385298,"node_id":"I_kwDOA-eq3c5z1bTS","number":1581,"title":"Failed to compile tests with manually installed Openssl 3.x.x","user":{"login":"MakeCartWheel","id":147936270,"node_id":"U_kgDOCNFUDg","avatar_url":"https://avatars.githubusercontent.com/u/147936270?v=4","gravatar_id":"","url":"https://api.github.com/users/MakeCartWheel","html_url":"https://github.com/MakeCartWheel","followers_url":"https://api.github.com/users/MakeCartWheel/followers","following_url":"https://api.github.com/users/MakeCartWheel/following{/other_user}","gists_url":"https://api.github.com/users/MakeCartWheel/gists{/gist_id}","starred_url":"https://api.github.com/users/MakeCartWheel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MakeCartWheel/subscriptions","organizations_url":"https://api.github.com/users/MakeCartWheel/orgs","repos_url":"https://api.github.com/users/MakeCartWheel/repos","events_url":"https://api.github.com/users/MakeCartWheel/events{/privacy}","received_events_url":"https://api.github.com/users/MakeCartWheel/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-10-14T16:40:16Z","updated_at":"2023-10-14T17:35:14Z","closed_at":"2023-10-14T17:35:13Z","author_association":"NONE","active_lock_reason":null,"body":"Failed to compile tests\r\nAll previous files compiled successfuly\r\n```FAILED: tests/test_aes\r\n: && /usr/bin/cc   -Wl,-z,noexecstack src/common/sha3/xkcp_low/CMakeFiles/xkcp_low_keccakp_1600_plain64.dir/KeccakP-1kP-1600times4/serial/KeccakP-1600-times4-on1.c.o src/common/sha3/xkcp_low/CMakeFiles/xkcp_low_keccakp_1600_avx2.dir/K1600times4/avx2/KeccakP-1600-times4-SIMD256.c.o src/common/CMakeFiles/common.dir/aes/aes.c.o src/common/CMakeFiles/co.c.o src/common/CMakeFiles/common.dir/sha2/sha2_ossl.c.o src/common/CMakeFiles/common.dir/sha3/xkcp_sha3.c.o src/commmmon.dir/common.c.o src/common/CMakeFiles/common.dir/pqclean_shims/nistseedexpander.c.o src/common/CMakeFiles/common.dir/rand/rand.c.o src/common/CMakeFiles/common.dir/rand/rand_nist.c.o tests/CMakeFiles/test_aes.dir/test_aes.c.o  -o\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x14): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x2b): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x42): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x59): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x70): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o:ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x87): mo\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xcc): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xe3): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xfa): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x10): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x1c): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x28): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x34): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x40): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o:ossl_helpers.c:(.text.oqs_free_ossl_objects+0x4c): mor\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x70): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x7c): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x8c): undefined reference to `EVP_CIPHER_free'\r\ncollect2: error: ld returned 1 exit status\r\n[1200/1226] Linking C executable tests/speed_sig\r\nFAILED: tests/speed_sig\r\n: && /usr/bin/cc   -Wl,-z,noexecstack tests/CMakeFiles/speed_sig.dir/speed_sig.c.o  -o tests/speed_sig  lib/liboqs.a\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x14): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x2b): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x42): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x59): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x70): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o):ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x87): more undefined refere\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xcc): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xe3): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xfa): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x10): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x1c): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x28): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x34): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x40): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o):ossl_helpers.c:(.text.oqs_free_ossl_objects+0x4c): more undefined referen\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x70): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x7c): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x8c): undefined reference to `EVP_CIPHER_free'\r\ncollect2: error: ld returned 1 exit status\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\n**Environment**\r\n - OS: Linux 5.4.0-162-generic Ubuntu 20.04.6 LTS\r\n - OpenSSL 1.1.1f from apt\r\n - OpenSSL 3.1.2 Builded from source and installed manually (```make install```) (NOT by oqs-provider scripts)\r\n - liboqs version 0.9.0 main branch\r\n - cmake version 3.16.3\r\n\r\n**Solution**\r\nIm not sure, but I think ```make install``` from openssl installs the libraries in /usr/local\r\nand the cmake uses the first available libcrypt, libssl which in my case chose\r\n```-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libcrypto.so (found suitable version \"1.1.1f\", minimum required is \"1.1.1\")```\r\nmanually adding args to cmake with paths to openssl libraries v3 solves the problem\r\n```-DOPENSSL_CRYPTO_LIBRARY:FILEPATH=/usr/local/lib64/libcrypto.so.3 -DOPENSSL_SSL_LIBRARY:FILEPATH=/usr/local/lib64/libssl.so.3 -DOPENSSL_INCLUDE_DIR:PATH=/usr/local/include/```\r\n\r\n**Tests with cmake args**\r\n315 passed, 87 skipped, no errors\r\n\r\nidk, this is a mistake on my side with the openssl installation or cmake libs discovery\r\nhope the solution helps someone.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/timeline","performed_via_github_app":null,"state_reason":"completed"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1763059876","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1581#issuecomment-1763059876","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581","id":1763059876,"node_id":"IC_kwDOA-eq3c5pFiik","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-10-14T17:35:13Z","updated_at":"2023-10-14T17:35:13Z","author_association":"MEMBER","body":"Thanks for reporting this observation. We have documented the recommendation in [OQS_USE_OPENSSL](https://github.com/open-quantum-safe/liboqs/blob/main/CONFIGURE.md#oqs_use_openssl)\r\n\r\n> The OPENSSL_ROOT_DIR option can be set to aid CMake in its search.\r\n\r\nIMO this should work as well (and be easier than explicitly setting `libcrypto` and `libssl` paths). Maybe you could confirm this works as good (or maybe even easier :) than your suggestion above?\r\n\r\nIn any case closing the issue as no further action is required,","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1763059876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-10-14T17:35:14Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"32563460061","type":"IssueCommentEvent","actor":{"id":147936270,"login":"MakeCartWheel","display_login":"MakeCartWheel","gravatar_id":"","url":"https://api.github.com/users/MakeCartWheel","avatar_url":"https://avatars.githubusercontent.com/u/147936270?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1581","id":1943385298,"node_id":"I_kwDOA-eq3c5z1bTS","number":1581,"title":"Failed to compile tests with manually installed Openssl 3.x.x","user":{"login":"MakeCartWheel","id":147936270,"node_id":"U_kgDOCNFUDg","avatar_url":"https://avatars.githubusercontent.com/u/147936270?v=4","gravatar_id":"","url":"https://api.github.com/users/MakeCartWheel","html_url":"https://github.com/MakeCartWheel","followers_url":"https://api.github.com/users/MakeCartWheel/followers","following_url":"https://api.github.com/users/MakeCartWheel/following{/other_user}","gists_url":"https://api.github.com/users/MakeCartWheel/gists{/gist_id}","starred_url":"https://api.github.com/users/MakeCartWheel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MakeCartWheel/subscriptions","organizations_url":"https://api.github.com/users/MakeCartWheel/orgs","repos_url":"https://api.github.com/users/MakeCartWheel/repos","events_url":"https://api.github.com/users/MakeCartWheel/events{/privacy}","received_events_url":"https://api.github.com/users/MakeCartWheel/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-10-14T16:40:16Z","updated_at":"2023-10-14T18:00:51Z","closed_at":"2023-10-14T17:35:13Z","author_association":"NONE","active_lock_reason":null,"body":"Failed to compile tests\r\nAll previous files compiled successfuly\r\n```FAILED: tests/test_aes\r\n: && /usr/bin/cc   -Wl,-z,noexecstack src/common/sha3/xkcp_low/CMakeFiles/xkcp_low_keccakp_1600_plain64.dir/KeccakP-1kP-1600times4/serial/KeccakP-1600-times4-on1.c.o src/common/sha3/xkcp_low/CMakeFiles/xkcp_low_keccakp_1600_avx2.dir/K1600times4/avx2/KeccakP-1600-times4-SIMD256.c.o src/common/CMakeFiles/common.dir/aes/aes.c.o src/common/CMakeFiles/co.c.o src/common/CMakeFiles/common.dir/sha2/sha2_ossl.c.o src/common/CMakeFiles/common.dir/sha3/xkcp_sha3.c.o src/commmmon.dir/common.c.o src/common/CMakeFiles/common.dir/pqclean_shims/nistseedexpander.c.o src/common/CMakeFiles/common.dir/rand/rand.c.o src/common/CMakeFiles/common.dir/rand/rand_nist.c.o tests/CMakeFiles/test_aes.dir/test_aes.c.o  -o\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x14): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x2b): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x42): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x59): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x70): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o:ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x87): mo\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xcc): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xe3): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xfa): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x10): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x1c): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x28): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x34): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x40): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o:ossl_helpers.c:(.text.oqs_free_ossl_objects+0x4c): mor\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x70): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x7c): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x8c): undefined reference to `EVP_CIPHER_free'\r\ncollect2: error: ld returned 1 exit status\r\n[1200/1226] Linking C executable tests/speed_sig\r\nFAILED: tests/speed_sig\r\n: && /usr/bin/cc   -Wl,-z,noexecstack tests/CMakeFiles/speed_sig.dir/speed_sig.c.o  -o tests/speed_sig  lib/liboqs.a\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x14): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x2b): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x42): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x59): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x70): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o):ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x87): more undefined refere\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xcc): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xe3): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xfa): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x10): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x1c): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x28): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x34): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x40): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o):ossl_helpers.c:(.text.oqs_free_ossl_objects+0x4c): more undefined referen\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x70): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x7c): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x8c): undefined reference to `EVP_CIPHER_free'\r\ncollect2: error: ld returned 1 exit status\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\n**Environment**\r\n - OS: Linux 5.4.0-162-generic Ubuntu 20.04.6 LTS\r\n - OpenSSL 1.1.1f from apt\r\n - OpenSSL 3.1.2 Builded from source and installed manually (```make install```) (NOT by oqs-provider scripts)\r\n - liboqs version 0.9.0 main branch\r\n - cmake version 3.16.3\r\n\r\n**Solution**\r\nIm not sure, but I think ```make install``` from openssl installs the libraries in /usr/local\r\nand the cmake uses the first available libcrypt, libssl which in my case chose\r\n```-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libcrypto.so (found suitable version \"1.1.1f\", minimum required is \"1.1.1\")```\r\nmanually adding args to cmake with paths to openssl libraries v3 solves the problem\r\n```-DOPENSSL_CRYPTO_LIBRARY:FILEPATH=/usr/local/lib64/libcrypto.so.3 -DOPENSSL_SSL_LIBRARY:FILEPATH=/usr/local/lib64/libssl.so.3 -DOPENSSL_INCLUDE_DIR:PATH=/usr/local/include/```\r\n\r\n**Tests with cmake args**\r\n315 passed, 87 skipped, no errors\r\n\r\nidk, this is a mistake on my side with the openssl installation or cmake libs discovery\r\nhope the solution helps someone.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/timeline","performed_via_github_app":null,"state_reason":"completed"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1763067551","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1581#issuecomment-1763067551","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581","id":1763067551,"node_id":"IC_kwDOA-eq3c5pFkaf","user":{"login":"MakeCartWheel","id":147936270,"node_id":"U_kgDOCNFUDg","avatar_url":"https://avatars.githubusercontent.com/u/147936270?v=4","gravatar_id":"","url":"https://api.github.com/users/MakeCartWheel","html_url":"https://github.com/MakeCartWheel","followers_url":"https://api.github.com/users/MakeCartWheel/followers","following_url":"https://api.github.com/users/MakeCartWheel/following{/other_user}","gists_url":"https://api.github.com/users/MakeCartWheel/gists{/gist_id}","starred_url":"https://api.github.com/users/MakeCartWheel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MakeCartWheel/subscriptions","organizations_url":"https://api.github.com/users/MakeCartWheel/orgs","repos_url":"https://api.github.com/users/MakeCartWheel/repos","events_url":"https://api.github.com/users/MakeCartWheel/events{/privacy}","received_events_url":"https://api.github.com/users/MakeCartWheel/received_events","type":"User","site_admin":false},"created_at":"2023-10-14T18:00:51Z","updated_at":"2023-10-14T18:00:51Z","author_association":"NONE","body":"```-DOPENSSL_ROOT_DIR:PATH=/usr/local/lib64/```\r\nWorks\r\nthe only thing is that cmake does not show the version correctly, although it compiled\r\n```-- Found OpenSSL: /usr/local/lib64/libcrypto.so (found suitable version \"1.1.1f\", minimum required is \"1.1.1\")```\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1763067551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-10-14T18:00:51Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"32563762796","type":"IssueCommentEvent","actor":{"id":147936270,"login":"MakeCartWheel","display_login":"MakeCartWheel","gravatar_id":"","url":"https://api.github.com/users/MakeCartWheel","avatar_url":"https://avatars.githubusercontent.com/u/147936270?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1581","id":1943385298,"node_id":"I_kwDOA-eq3c5z1bTS","number":1581,"title":"Failed to compile tests with manually installed Openssl 3.x.x","user":{"login":"MakeCartWheel","id":147936270,"node_id":"U_kgDOCNFUDg","avatar_url":"https://avatars.githubusercontent.com/u/147936270?v=4","gravatar_id":"","url":"https://api.github.com/users/MakeCartWheel","html_url":"https://github.com/MakeCartWheel","followers_url":"https://api.github.com/users/MakeCartWheel/followers","following_url":"https://api.github.com/users/MakeCartWheel/following{/other_user}","gists_url":"https://api.github.com/users/MakeCartWheel/gists{/gist_id}","starred_url":"https://api.github.com/users/MakeCartWheel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MakeCartWheel/subscriptions","organizations_url":"https://api.github.com/users/MakeCartWheel/orgs","repos_url":"https://api.github.com/users/MakeCartWheel/repos","events_url":"https://api.github.com/users/MakeCartWheel/events{/privacy}","received_events_url":"https://api.github.com/users/MakeCartWheel/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-10-14T16:40:16Z","updated_at":"2023-10-14T18:37:24Z","closed_at":"2023-10-14T17:35:13Z","author_association":"NONE","active_lock_reason":null,"body":"Failed to compile tests\r\nAll previous files compiled successfuly\r\n```FAILED: tests/test_aes\r\n: && /usr/bin/cc   -Wl,-z,noexecstack src/common/sha3/xkcp_low/CMakeFiles/xkcp_low_keccakp_1600_plain64.dir/KeccakP-1kP-1600times4/serial/KeccakP-1600-times4-on1.c.o src/common/sha3/xkcp_low/CMakeFiles/xkcp_low_keccakp_1600_avx2.dir/K1600times4/avx2/KeccakP-1600-times4-SIMD256.c.o src/common/CMakeFiles/common.dir/aes/aes.c.o src/common/CMakeFiles/co.c.o src/common/CMakeFiles/common.dir/sha2/sha2_ossl.c.o src/common/CMakeFiles/common.dir/sha3/xkcp_sha3.c.o src/commmmon.dir/common.c.o src/common/CMakeFiles/common.dir/pqclean_shims/nistseedexpander.c.o src/common/CMakeFiles/common.dir/rand/rand.c.o src/common/CMakeFiles/common.dir/rand/rand_nist.c.o tests/CMakeFiles/test_aes.dir/test_aes.c.o  -o\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x14): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x2b): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x42): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x59): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x70): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o:ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x87): mo\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xcc): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xe3): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xfa): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x10): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x1c): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x28): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x34): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x40): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o:ossl_helpers.c:(.text.oqs_free_ossl_objects+0x4c): mor\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x70): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x7c): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x8c): undefined reference to `EVP_CIPHER_free'\r\ncollect2: error: ld returned 1 exit status\r\n[1200/1226] Linking C executable tests/speed_sig\r\nFAILED: tests/speed_sig\r\n: && /usr/bin/cc   -Wl,-z,noexecstack tests/CMakeFiles/speed_sig.dir/speed_sig.c.o  -o tests/speed_sig  lib/liboqs.a\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x14): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x2b): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x42): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x59): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x70): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o):ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x87): more undefined refere\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xcc): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xe3): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xfa): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x10): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x1c): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x28): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x34): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x40): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o):ossl_helpers.c:(.text.oqs_free_ossl_objects+0x4c): more undefined referen\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x70): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x7c): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x8c): undefined reference to `EVP_CIPHER_free'\r\ncollect2: error: ld returned 1 exit status\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\n**Environment**\r\n - OS: Linux 5.4.0-162-generic Ubuntu 20.04.6 LTS\r\n - OpenSSL 1.1.1f from apt\r\n - OpenSSL 3.1.2 Builded from source and installed manually (```make install```) (NOT by oqs-provider scripts)\r\n - liboqs version 0.9.0 main branch\r\n - cmake version 3.16.3\r\n\r\n**Solution**\r\nIm not sure, but I think ```make install``` from openssl installs the libraries in /usr/local\r\nand the cmake uses the first available libcrypt, libssl which in my case chose\r\n```-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libcrypto.so (found suitable version \"1.1.1f\", minimum required is \"1.1.1\")```\r\nmanually adding args to cmake with paths to openssl libraries v3 solves the problem\r\n```-DOPENSSL_ROOT_DIR:PATH=/usr/local/lib64/```\r\n\r\n**OLD SOLUTION**\r\n```-DOPENSSL_CRYPTO_LIBRARY:FILEPATH=/usr/local/lib64/libcrypto.so.3 -DOPENSSL_SSL_LIBRARY:FILEPATH=/usr/local/lib64/libssl.so.3 -DOPENSSL_INCLUDE_DIR:PATH=/usr/local/include/```\r\n\r\n**Tests with cmake args**\r\n315 passed, 87 skipped, no errors\r\n\r\nidk, this is a mistake on my side with the openssl installation or cmake libs discovery\r\nhope the solution helps someone.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/timeline","performed_via_github_app":null,"state_reason":"completed"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1763120933","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1581#issuecomment-1763120933","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581","id":1763120933,"node_id":"IC_kwDOA-eq3c5pFxcl","user":{"login":"MakeCartWheel","id":147936270,"node_id":"U_kgDOCNFUDg","avatar_url":"https://avatars.githubusercontent.com/u/147936270?v=4","gravatar_id":"","url":"https://api.github.com/users/MakeCartWheel","html_url":"https://github.com/MakeCartWheel","followers_url":"https://api.github.com/users/MakeCartWheel/followers","following_url":"https://api.github.com/users/MakeCartWheel/following{/other_user}","gists_url":"https://api.github.com/users/MakeCartWheel/gists{/gist_id}","starred_url":"https://api.github.com/users/MakeCartWheel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MakeCartWheel/subscriptions","organizations_url":"https://api.github.com/users/MakeCartWheel/orgs","repos_url":"https://api.github.com/users/MakeCartWheel/repos","events_url":"https://api.github.com/users/MakeCartWheel/events{/privacy}","received_events_url":"https://api.github.com/users/MakeCartWheel/received_events","type":"User","site_admin":false},"created_at":"2023-10-14T18:37:24Z","updated_at":"2023-10-14T18:37:24Z","author_association":"NONE","body":"@baentsch \r\nI discovered that an incorrect version decetion crashes the oqs-provider compilation \r\n```OPENSSL_INSTALL=/usr/local/lib64/ scripts/fullbuild.sh```\r\n\r\n```\r\noqsprovider (_build/lib/oqsprovider.so) not built: Building...\r\n...\r\nCMake Error at /usr/share/cmake-3.16/Modules/FindPackageHandleStandardArgs.cmake:146 (message):\r\n  Could NOT find OpenSSL, try to set the path to OpenSSL root folder in the\r\n  system variable OPENSSL_ROOT_DIR: Found unsuitable version \"1.1.1f\", but\r\n  required is at least \"3.0\" (found /usr/local/lib64/libcrypto.so)\r\nCall Stack (most recent call first):\r\n  /usr/share/cmake-3.16/Modules/FindPackageHandleStandardArgs.cmake:391 (_FPHSA_FAILURE_MESSAGE)\r\n  /usr/share/cmake-3.16/Modules/FindOpenSSL.cmake:447 (find_package_handle_standard_args)\r\n  CMakeLists.txt:58 (find_package)\r\n```\r\nI assume that the version is determined by the file name, I am sure that lib is version 3\r\n```\r\n/usr/local/lib64\r\nlrwxrwxrwx  1 root root   14 Oct 14 17:26 libcrypto.so -> libcrypto.so.3\r\n-rwxr-xr-x  1 root root 5.9M Oct 14 17:26 libcrypto.so.3\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1763120933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-10-14T18:37:24Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"32563943796","type":"IssueCommentEvent","actor":{"id":147936270,"login":"MakeCartWheel","display_login":"MakeCartWheel","gravatar_id":"","url":"https://api.github.com/users/MakeCartWheel","avatar_url":"https://avatars.githubusercontent.com/u/147936270?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1581","id":1943385298,"node_id":"I_kwDOA-eq3c5z1bTS","number":1581,"title":"Failed to compile tests with manually installed Openssl 3.x.x","user":{"login":"MakeCartWheel","id":147936270,"node_id":"U_kgDOCNFUDg","avatar_url":"https://avatars.githubusercontent.com/u/147936270?v=4","gravatar_id":"","url":"https://api.github.com/users/MakeCartWheel","html_url":"https://github.com/MakeCartWheel","followers_url":"https://api.github.com/users/MakeCartWheel/followers","following_url":"https://api.github.com/users/MakeCartWheel/following{/other_user}","gists_url":"https://api.github.com/users/MakeCartWheel/gists{/gist_id}","starred_url":"https://api.github.com/users/MakeCartWheel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MakeCartWheel/subscriptions","organizations_url":"https://api.github.com/users/MakeCartWheel/orgs","repos_url":"https://api.github.com/users/MakeCartWheel/repos","events_url":"https://api.github.com/users/MakeCartWheel/events{/privacy}","received_events_url":"https://api.github.com/users/MakeCartWheel/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2023-10-14T16:40:16Z","updated_at":"2023-10-14T19:03:38Z","closed_at":"2023-10-14T17:35:13Z","author_association":"NONE","active_lock_reason":null,"body":"Failed to compile tests\r\nAll previous files compiled successfuly\r\n```FAILED: tests/test_aes\r\n: && /usr/bin/cc   -Wl,-z,noexecstack src/common/sha3/xkcp_low/CMakeFiles/xkcp_low_keccakp_1600_plain64.dir/KeccakP-1kP-1600times4/serial/KeccakP-1600-times4-on1.c.o src/common/sha3/xkcp_low/CMakeFiles/xkcp_low_keccakp_1600_avx2.dir/K1600times4/avx2/KeccakP-1600-times4-SIMD256.c.o src/common/CMakeFiles/common.dir/aes/aes.c.o src/common/CMakeFiles/co.c.o src/common/CMakeFiles/common.dir/sha2/sha2_ossl.c.o src/common/CMakeFiles/common.dir/sha3/xkcp_sha3.c.o src/commmmon.dir/common.c.o src/common/CMakeFiles/common.dir/pqclean_shims/nistseedexpander.c.o src/common/CMakeFiles/common.dir/rand/rand.c.o src/common/CMakeFiles/common.dir/rand/rand_nist.c.o tests/CMakeFiles/test_aes.dir/test_aes.c.o  -o\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x14): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x2b): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x42): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x59): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x70): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o:ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x87): mo\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xcc): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xe3): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xfa): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x10): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x1c): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x28): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x34): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x40): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o:ossl_helpers.c:(.text.oqs_free_ossl_objects+0x4c): mor\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x70): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x7c): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x8c): undefined reference to `EVP_CIPHER_free'\r\ncollect2: error: ld returned 1 exit status\r\n[1200/1226] Linking C executable tests/speed_sig\r\nFAILED: tests/speed_sig\r\n: && /usr/bin/cc   -Wl,-z,noexecstack tests/CMakeFiles/speed_sig.dir/speed_sig.c.o  -o tests/speed_sig  lib/liboqs.a\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x14): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x2b): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x42): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x59): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x70): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o):ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x87): more undefined refere\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xcc): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xe3): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xfa): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x10): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x1c): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x28): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x34): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x40): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o):ossl_helpers.c:(.text.oqs_free_ossl_objects+0x4c): more undefined referen\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x70): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x7c): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x8c): undefined reference to `EVP_CIPHER_free'\r\ncollect2: error: ld returned 1 exit status\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\n**Environment**\r\n - OS: Linux 5.4.0-162-generic Ubuntu 20.04.6 LTS\r\n - OpenSSL 1.1.1f from apt\r\n - OpenSSL 3.1.2 Builded from source and installed manually (```make install```) (NOT by oqs-provider scripts)\r\n - liboqs version 0.9.0 main branch\r\n - cmake version 3.16.3\r\n\r\n**Solution**\r\nIm not sure, but I think ```make install``` from openssl installs the libraries in /usr/local\r\nand the cmake uses the first available libcrypt, libssl which in my case chose\r\n```-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libcrypto.so (found suitable version \"1.1.1f\", minimum required is \"1.1.1\")```\r\nmanually adding args to cmake with paths to openssl libraries v3 solves the problem\r\n```-DOPENSSL_ROOT_DIR:PATH=/usr/local/lib64/```\r\n\r\n**OLD SOLUTION**\r\n```-DOPENSSL_CRYPTO_LIBRARY:FILEPATH=/usr/local/lib64/libcrypto.so.3 -DOPENSSL_SSL_LIBRARY:FILEPATH=/usr/local/lib64/libssl.so.3 -DOPENSSL_INCLUDE_DIR:PATH=/usr/local/include/```\r\n\r\n**Tests with cmake args**\r\n315 passed, 87 skipped, no errors\r\n\r\nidk, this is a mistake on my side with the openssl installation or cmake libs discovery\r\nhope the solution helps someone.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/timeline","performed_via_github_app":null,"state_reason":"completed"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1763128136","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1581#issuecomment-1763128136","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581","id":1763128136,"node_id":"IC_kwDOA-eq3c5pFzNI","user":{"login":"MakeCartWheel","id":147936270,"node_id":"U_kgDOCNFUDg","avatar_url":"https://avatars.githubusercontent.com/u/147936270?v=4","gravatar_id":"","url":"https://api.github.com/users/MakeCartWheel","html_url":"https://github.com/MakeCartWheel","followers_url":"https://api.github.com/users/MakeCartWheel/followers","following_url":"https://api.github.com/users/MakeCartWheel/following{/other_user}","gists_url":"https://api.github.com/users/MakeCartWheel/gists{/gist_id}","starred_url":"https://api.github.com/users/MakeCartWheel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MakeCartWheel/subscriptions","organizations_url":"https://api.github.com/users/MakeCartWheel/orgs","repos_url":"https://api.github.com/users/MakeCartWheel/repos","events_url":"https://api.github.com/users/MakeCartWheel/events{/privacy}","received_events_url":"https://api.github.com/users/MakeCartWheel/received_events","type":"User","site_admin":false},"created_at":"2023-10-14T19:03:38Z","updated_at":"2023-10-14T19:03:38Z","author_association":"NONE","body":"removed unnecessary files, cmake finds ghost library\r\n```\r\n/usr/local/lib64\r\ndrwxr-xr-x  6 root root 4.0K Oct 14 21:59 .\r\ndrwxr-xr-x 12 root root 4.0K Sep 18 10:18 ..\r\n...\r\n-rwxr-xr-x  1 root root 5.9M Oct 14 17:26 libcrypto.so.3\r\n-rwxr-xr-x  1 root root 802K Oct 14 17:26 libssl.so.3\r\n...\r\n```\r\n\r\n```\r\nCMake Error at /usr/share/cmake-3.16/Modules/FindPackageHandleStandardArgs.cmake:146 (message):\r\n  Could NOT find OpenSSL, try to set the path to OpenSSL root folder in the\r\n  system variable OPENSSL_ROOT_DIR: Found unsuitable version \"1.1.1f\", but\r\n  required is at least \"3.0\" (found /usr/local/lib64/libcrypto.so)\r\nCall Stack (most recent call first):\r\n  /usr/share/cmake-3.16/Modules/FindPackageHandleStandardArgs.cmake:391 (_FPHSA_FAILURE_MESSAGE)\r\n  /usr/share/cmake-3.16/Modules/FindOpenSSL.cmake:447 (find_package_handle_standard_args)\r\n  CMakeLists.txt:58 (find_package)\r\n```","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1763128136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-10-14T19:03:39Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"32564070307","type":"IssueCommentEvent","actor":{"id":147936270,"login":"MakeCartWheel","display_login":"MakeCartWheel","gravatar_id":"","url":"https://api.github.com/users/MakeCartWheel","avatar_url":"https://avatars.githubusercontent.com/u/147936270?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1581","id":1943385298,"node_id":"I_kwDOA-eq3c5z1bTS","number":1581,"title":"Failed to compile tests with manually installed Openssl 3.x.x","user":{"login":"MakeCartWheel","id":147936270,"node_id":"U_kgDOCNFUDg","avatar_url":"https://avatars.githubusercontent.com/u/147936270?v=4","gravatar_id":"","url":"https://api.github.com/users/MakeCartWheel","html_url":"https://github.com/MakeCartWheel","followers_url":"https://api.github.com/users/MakeCartWheel/followers","following_url":"https://api.github.com/users/MakeCartWheel/following{/other_user}","gists_url":"https://api.github.com/users/MakeCartWheel/gists{/gist_id}","starred_url":"https://api.github.com/users/MakeCartWheel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MakeCartWheel/subscriptions","organizations_url":"https://api.github.com/users/MakeCartWheel/orgs","repos_url":"https://api.github.com/users/MakeCartWheel/repos","events_url":"https://api.github.com/users/MakeCartWheel/events{/privacy}","received_events_url":"https://api.github.com/users/MakeCartWheel/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2023-10-14T16:40:16Z","updated_at":"2023-10-14T19:20:38Z","closed_at":"2023-10-14T17:35:13Z","author_association":"NONE","active_lock_reason":null,"body":"Failed to compile tests\r\nAll previous files compiled successfuly\r\n```FAILED: tests/test_aes\r\n: && /usr/bin/cc   -Wl,-z,noexecstack src/common/sha3/xkcp_low/CMakeFiles/xkcp_low_keccakp_1600_plain64.dir/KeccakP-1kP-1600times4/serial/KeccakP-1600-times4-on1.c.o src/common/sha3/xkcp_low/CMakeFiles/xkcp_low_keccakp_1600_avx2.dir/K1600times4/avx2/KeccakP-1600-times4-SIMD256.c.o src/common/CMakeFiles/common.dir/aes/aes.c.o src/common/CMakeFiles/co.c.o src/common/CMakeFiles/common.dir/sha2/sha2_ossl.c.o src/common/CMakeFiles/common.dir/sha3/xkcp_sha3.c.o src/commmmon.dir/common.c.o src/common/CMakeFiles/common.dir/pqclean_shims/nistseedexpander.c.o src/common/CMakeFiles/common.dir/rand/rand.c.o src/common/CMakeFiles/common.dir/rand/rand_nist.c.o tests/CMakeFiles/test_aes.dir/test_aes.c.o  -o\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x14): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x2b): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x42): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x59): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x70): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o:ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x87): mo\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xcc): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xe3): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xfa): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x10): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x1c): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x28): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x34): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x40): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o:ossl_helpers.c:(.text.oqs_free_ossl_objects+0x4c): mor\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x70): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x7c): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x8c): undefined reference to `EVP_CIPHER_free'\r\ncollect2: error: ld returned 1 exit status\r\n[1200/1226] Linking C executable tests/speed_sig\r\nFAILED: tests/speed_sig\r\n: && /usr/bin/cc   -Wl,-z,noexecstack tests/CMakeFiles/speed_sig.dir/speed_sig.c.o  -o tests/speed_sig  lib/liboqs.a\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x14): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x2b): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x42): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x59): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x70): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o):ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x87): more undefined refere\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xcc): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xe3): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xfa): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x10): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x1c): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x28): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x34): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x40): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o):ossl_helpers.c:(.text.oqs_free_ossl_objects+0x4c): more undefined referen\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x70): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x7c): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x8c): undefined reference to `EVP_CIPHER_free'\r\ncollect2: error: ld returned 1 exit status\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\n**Environment**\r\n - OS: Linux 5.4.0-162-generic Ubuntu 20.04.6 LTS\r\n - OpenSSL 1.1.1f from apt\r\n - OpenSSL 3.1.2 Builded from source and installed manually (```make install```) (NOT by oqs-provider scripts)\r\n - liboqs version 0.9.0 main branch\r\n - cmake version 3.16.3\r\n\r\n**Solution**\r\nIm not sure, but I think ```make install``` from openssl installs the libraries in /usr/local\r\nand the cmake uses the first available libcrypt, libssl which in my case chose\r\n```-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libcrypto.so (found suitable version \"1.1.1f\", minimum required is \"1.1.1\")```\r\nmanually adding args to cmake with paths to openssl libraries v3 solves the problem\r\n```-DOPENSSL_ROOT_DIR:PATH=/usr/local/lib64/```\r\n\r\n**OLD SOLUTION**\r\n```-DOPENSSL_CRYPTO_LIBRARY:FILEPATH=/usr/local/lib64/libcrypto.so.3 -DOPENSSL_SSL_LIBRARY:FILEPATH=/usr/local/lib64/libssl.so.3 -DOPENSSL_INCLUDE_DIR:PATH=/usr/local/include/```\r\n\r\n**Tests with cmake args**\r\n315 passed, 87 skipped, no errors\r\n\r\nidk, this is a mistake on my side with the openssl installation or cmake libs discovery\r\nhope the solution helps someone.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/timeline","performed_via_github_app":null,"state_reason":"completed"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1763143312","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1581#issuecomment-1763143312","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581","id":1763143312,"node_id":"IC_kwDOA-eq3c5pF26Q","user":{"login":"MakeCartWheel","id":147936270,"node_id":"U_kgDOCNFUDg","avatar_url":"https://avatars.githubusercontent.com/u/147936270?v=4","gravatar_id":"","url":"https://api.github.com/users/MakeCartWheel","html_url":"https://github.com/MakeCartWheel","followers_url":"https://api.github.com/users/MakeCartWheel/followers","following_url":"https://api.github.com/users/MakeCartWheel/following{/other_user}","gists_url":"https://api.github.com/users/MakeCartWheel/gists{/gist_id}","starred_url":"https://api.github.com/users/MakeCartWheel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MakeCartWheel/subscriptions","organizations_url":"https://api.github.com/users/MakeCartWheel/orgs","repos_url":"https://api.github.com/users/MakeCartWheel/repos","events_url":"https://api.github.com/users/MakeCartWheel/events{/privacy}","received_events_url":"https://api.github.com/users/MakeCartWheel/received_events","type":"User","site_admin":false},"created_at":"2023-10-14T19:20:37Z","updated_at":"2023-10-14T19:20:37Z","author_association":"NONE","body":"Sooooo , after checking CMakeLists.txt:58\r\nI realized that the standard find_package for cmake is called, the error is not oqs-provider or liboqs but cmake.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1763143312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-10-14T19:20:38Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"32564652683","type":"IssueCommentEvent","actor":{"id":147936270,"login":"MakeCartWheel","display_login":"MakeCartWheel","gravatar_id":"","url":"https://api.github.com/users/MakeCartWheel","avatar_url":"https://avatars.githubusercontent.com/u/147936270?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1581","id":1943385298,"node_id":"I_kwDOA-eq3c5z1bTS","number":1581,"title":"Failed to compile tests with manually installed Openssl 3.x.x","user":{"login":"MakeCartWheel","id":147936270,"node_id":"U_kgDOCNFUDg","avatar_url":"https://avatars.githubusercontent.com/u/147936270?v=4","gravatar_id":"","url":"https://api.github.com/users/MakeCartWheel","html_url":"https://github.com/MakeCartWheel","followers_url":"https://api.github.com/users/MakeCartWheel/followers","following_url":"https://api.github.com/users/MakeCartWheel/following{/other_user}","gists_url":"https://api.github.com/users/MakeCartWheel/gists{/gist_id}","starred_url":"https://api.github.com/users/MakeCartWheel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MakeCartWheel/subscriptions","organizations_url":"https://api.github.com/users/MakeCartWheel/orgs","repos_url":"https://api.github.com/users/MakeCartWheel/repos","events_url":"https://api.github.com/users/MakeCartWheel/events{/privacy}","received_events_url":"https://api.github.com/users/MakeCartWheel/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2023-10-14T16:40:16Z","updated_at":"2023-10-14T20:47:16Z","closed_at":"2023-10-14T17:35:13Z","author_association":"NONE","active_lock_reason":null,"body":"Failed to compile tests\r\nAll previous files compiled successfuly\r\n```FAILED: tests/test_aes\r\n: && /usr/bin/cc   -Wl,-z,noexecstack src/common/sha3/xkcp_low/CMakeFiles/xkcp_low_keccakp_1600_plain64.dir/KeccakP-1kP-1600times4/serial/KeccakP-1600-times4-on1.c.o src/common/sha3/xkcp_low/CMakeFiles/xkcp_low_keccakp_1600_avx2.dir/K1600times4/avx2/KeccakP-1600-times4-SIMD256.c.o src/common/CMakeFiles/common.dir/aes/aes.c.o src/common/CMakeFiles/co.c.o src/common/CMakeFiles/common.dir/sha2/sha2_ossl.c.o src/common/CMakeFiles/common.dir/sha3/xkcp_sha3.c.o src/commmmon.dir/common.c.o src/common/CMakeFiles/common.dir/pqclean_shims/nistseedexpander.c.o src/common/CMakeFiles/common.dir/rand/rand.c.o src/common/CMakeFiles/common.dir/rand/rand_nist.c.o tests/CMakeFiles/test_aes.dir/test_aes.c.o  -o\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x14): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x2b): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x42): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x59): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x70): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o:ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x87): mo\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xcc): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xe3): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xfa): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x10): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x1c): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x28): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x34): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x40): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o:ossl_helpers.c:(.text.oqs_free_ossl_objects+0x4c): mor\r\n/usr/bin/ld: src/common/CMakeFiles/common.dir/ossl_helpers.c.o: in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x70): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x7c): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x8c): undefined reference to `EVP_CIPHER_free'\r\ncollect2: error: ld returned 1 exit status\r\n[1200/1226] Linking C executable tests/speed_sig\r\nFAILED: tests/speed_sig\r\n: && /usr/bin/cc   -Wl,-z,noexecstack tests/CMakeFiles/speed_sig.dir/speed_sig.c.o  -o tests/speed_sig  lib/liboqs.a\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x14): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x2b): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x42): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x59): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x70): undefined reference to `EVP_MD_fetch'\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o):ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0x87): more undefined refere\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_fetch_ossl_objects':\r\nossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xcc): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xe3): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_fetch_ossl_objects+0xfa): undefined reference to `EVP_CIPHER_fetch'\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x10): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x1c): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x28): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x34): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x40): undefined reference to `EVP_MD_free'\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o):ossl_helpers.c:(.text.oqs_free_ossl_objects+0x4c): more undefined referen\r\n/usr/bin/ld: lib/liboqs.a(ossl_helpers.c.o): in function `oqs_free_ossl_objects':\r\nossl_helpers.c:(.text.oqs_free_ossl_objects+0x70): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x7c): undefined reference to `EVP_CIPHER_free'\r\n/usr/bin/ld: ossl_helpers.c:(.text.oqs_free_ossl_objects+0x8c): undefined reference to `EVP_CIPHER_free'\r\ncollect2: error: ld returned 1 exit status\r\nninja: build stopped: subcommand failed.\r\n```\r\n\r\n**Environment**\r\n - OS: Linux 5.4.0-162-generic Ubuntu 20.04.6 LTS\r\n - OpenSSL 1.1.1f from apt\r\n - OpenSSL 3.1.2 Builded from source and installed manually (```make install```) (NOT by oqs-provider scripts)\r\n - liboqs version 0.9.0 main branch\r\n - cmake version 3.16.3\r\n\r\n**Solution**\r\nIm not sure, but I think ```make install``` from openssl installs the libraries in /usr/local\r\nand the cmake uses the first available libcrypt, libssl which in my case chose\r\n```-- Found OpenSSL: /usr/lib/x86_64-linux-gnu/libcrypto.so (found suitable version \"1.1.1f\", minimum required is \"1.1.1\")```\r\nmanually adding args to cmake with paths to openssl libraries v3 solves the problem\r\n```-DOPENSSL_ROOT_DIR:PATH=/usr/local/lib64/```\r\n\r\n**OLD SOLUTION**\r\n```-DOPENSSL_CRYPTO_LIBRARY:FILEPATH=/usr/local/lib64/libcrypto.so.3 -DOPENSSL_SSL_LIBRARY:FILEPATH=/usr/local/lib64/libssl.so.3 -DOPENSSL_INCLUDE_DIR:PATH=/usr/local/include/```\r\n\r\n**Tests with cmake args**\r\n315 passed, 87 skipped, no errors\r\n\r\nidk, this is a mistake on my side with the openssl installation or cmake libs discovery\r\nhope the solution helps someone.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581/timeline","performed_via_github_app":null,"state_reason":"completed"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1763176823","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1581#issuecomment-1763176823","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1581","id":1763176823,"node_id":"IC_kwDOA-eq3c5pF_F3","user":{"login":"MakeCartWheel","id":147936270,"node_id":"U_kgDOCNFUDg","avatar_url":"https://avatars.githubusercontent.com/u/147936270?v=4","gravatar_id":"","url":"https://api.github.com/users/MakeCartWheel","html_url":"https://github.com/MakeCartWheel","followers_url":"https://api.github.com/users/MakeCartWheel/followers","following_url":"https://api.github.com/users/MakeCartWheel/following{/other_user}","gists_url":"https://api.github.com/users/MakeCartWheel/gists{/gist_id}","starred_url":"https://api.github.com/users/MakeCartWheel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MakeCartWheel/subscriptions","organizations_url":"https://api.github.com/users/MakeCartWheel/orgs","repos_url":"https://api.github.com/users/MakeCartWheel/repos","events_url":"https://api.github.com/users/MakeCartWheel/events{/privacy}","received_events_url":"https://api.github.com/users/MakeCartWheel/received_events","type":"User","site_admin":false},"created_at":"2023-10-14T20:47:16Z","updated_at":"2023-10-14T20:47:16Z","author_association":"NONE","body":"Setting ```-DOPENSSL_ROOT_DIR``` to **source + compiled bins** of openssl resolves all issues\r\nSetting to only installed libraries ```/usr/local/lib64/``` makes a mess","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1763176823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-10-14T20:47:16Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
