{"id":"28668252194","type":"IssueCommentEvent","actor":{"id":149199,"login":"bhess","display_login":"bhess","gravatar_id":"","url":"https://api.github.com/users/bhess","avatar_url":"https://avatars.githubusercontent.com/u/149199?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143","id":1661335845,"node_id":"PR_kwDOE_A9l85N9qep","number":143,"title":"Removed dependency on internal ssltestlib","user":{"login":"alexzas","id":1214959,"node_id":"MDQ6VXNlcjEyMTQ5NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1214959?v=4","gravatar_id":"","url":"https://api.github.com/users/alexzas","html_url":"https://github.com/alexzas","followers_url":"https://api.github.com/users/alexzas/followers","following_url":"https://api.github.com/users/alexzas/following{/other_user}","gists_url":"https://api.github.com/users/alexzas/gists{/gist_id}","starred_url":"https://api.github.com/users/alexzas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexzas/subscriptions","organizations_url":"https://api.github.com/users/alexzas/orgs","repos_url":"https://api.github.com/users/alexzas/repos","events_url":"https://api.github.com/users/alexzas/events{/privacy}","received_events_url":"https://api.github.com/users/alexzas/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2023-04-10T20:44:17Z","updated_at":"2023-04-26T07:40:16Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/143","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143","diff_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143.diff","patch_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143.patch","merged_at":null},"body":"This PR hopefully solves \"Remove dependency on internal OpenSSL test harness #137\".\r\n\r\n- I made sure only public OSSL APIs are used in the TLS test helper functions\r\n- TLS 1.3 handshake is used \r\n- Removed support for DTLS to remove unnecessary dependency (I assume the specific transport protocol is less relevant for PQC tests)\r\n- Tested on OSSL 3.0 and 3.1 branches \r\n\r\nPlease let me know your thoughts,\r\nThanks,\r\nAlex\r\n\r\nP.S. I believe dependency on libtestutil can also be removed.\r\n \r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1522934046","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143#issuecomment-1522934046","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143","id":1522934046,"node_id":"IC_kwDOE_A9l85axiEe","user":{"login":"bhess","id":149199,"node_id":"MDQ6VXNlcjE0OTE5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/149199?v=4","gravatar_id":"","url":"https://api.github.com/users/bhess","html_url":"https://github.com/bhess","followers_url":"https://api.github.com/users/bhess/followers","following_url":"https://api.github.com/users/bhess/following{/other_user}","gists_url":"https://api.github.com/users/bhess/gists{/gist_id}","starred_url":"https://api.github.com/users/bhess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhess/subscriptions","organizations_url":"https://api.github.com/users/bhess/orgs","repos_url":"https://api.github.com/users/bhess/repos","events_url":"https://api.github.com/users/bhess/events{/privacy}","received_events_url":"https://api.github.com/users/bhess/received_events","type":"User","site_admin":false},"created_at":"2023-04-26T07:40:16Z","updated_at":"2023-04-26T07:40:16Z","author_association":"NONE","body":"Thank you @alexzas.\r\n@baentsch still needs to approve to unblock the merge.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1522934046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-04-26T07:40:17Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"28670265595","type":"IssueCommentEvent","actor":{"id":131854830,"login":"der-struct","display_login":"der-struct","gravatar_id":"","url":"https://api.github.com/users/der-struct","avatar_url":"https://avatars.githubusercontent.com/u/131854830?"},"repo":{"id":252143304,"name":"open-quantum-safe/liboqs-rust","url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/199","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/199/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/199/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/199/events","html_url":"https://github.com/open-quantum-safe/liboqs-rust/issues/199","id":1664286286,"node_id":"I_kwDODwdmyM5jMv5O","number":199,"title":"Compiling fails when encountering new compiler warnings","user":{"login":"bwesterb","id":9975,"node_id":"MDQ6VXNlcjk5NzU=","avatar_url":"https://avatars.githubusercontent.com/u/9975?v=4","gravatar_id":"","url":"https://api.github.com/users/bwesterb","html_url":"https://github.com/bwesterb","followers_url":"https://api.github.com/users/bwesterb/followers","following_url":"https://api.github.com/users/bwesterb/following{/other_user}","gists_url":"https://api.github.com/users/bwesterb/gists{/gist_id}","starred_url":"https://api.github.com/users/bwesterb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwesterb/subscriptions","organizations_url":"https://api.github.com/users/bwesterb/orgs","repos_url":"https://api.github.com/users/bwesterb/repos","events_url":"https://api.github.com/users/bwesterb/events{/privacy}","received_events_url":"https://api.github.com/users/bwesterb/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2023-04-12T10:25:30Z","updated_at":"2023-04-26T09:01:01Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Using\r\n\r\n```\r\noqs = { version=\"0.7.2\", default-features = false, features = [\"kyber\"] }\r\n```\r\n\r\nI get when building\r\n\r\n```\r\n   Compiling oqs-sys v0.7.2\r\nerror: failed to run custom build command for `oqs-sys v0.7.2`\r\n\r\nCaused by:\r\n  process didn't exit successfully: `/Users/bas/scm/rust-hpke/target/debug/build/oqs-sys-450355f50f2b9656/build-script-build` (exit status: 101)\r\n  --- stdout\r\n  CMAKE_TOOLCHAIN_FILE_x86_64-apple-darwin = None\r\n  CMAKE_TOOLCHAIN_FILE_x86_64_apple_darwin = None\r\n  HOST_CMAKE_TOOLCHAIN_FILE = None\r\n  CMAKE_TOOLCHAIN_FILE = None\r\n  CMAKE_GENERATOR_x86_64-apple-darwin = None\r\n  CMAKE_GENERATOR_x86_64_apple_darwin = None\r\n  HOST_CMAKE_GENERATOR = None\r\n  CMAKE_GENERATOR = None\r\n  CMAKE_PREFIX_PATH_x86_64-apple-darwin = None\r\n  CMAKE_PREFIX_PATH_x86_64_apple_darwin = None\r\n  HOST_CMAKE_PREFIX_PATH = None\r\n  CMAKE_PREFIX_PATH = None\r\n  CMAKE_x86_64-apple-darwin = None\r\n  CMAKE_x86_64_apple_darwin = None\r\n  HOST_CMAKE = None\r\n  CMAKE = None\r\n  running: \"cmake\" \"/Users/bas/.cargo/registry/src/github.com-1ecc6299db9ec823/oqs-sys-0.7.2/liboqs\" \"-DCMAKE_OSX_ARCHITECTURES=x86_64\" \"-DOQS_BUILD_ONLY_LIB=Yes\" \"-DOQS_DIST_BUILD=Yes\" \"-DOQS_ENABLE_KEM_BIKE=No\" \"-DOQS_ENABLE_KEM_CLASSIC_MCELIECE=No\" \"-DOQS_ENABLE_KEM_FRODOKEM=No\" \"-DOQS_ENABLE_KEM_HQC=No\" \"-DOQS_ENABLE_KEM_KYBER=Yes\" \"-DOQS_ENABLE_KEM_NTRU=No\" \"-DOQS_ENABLE_KEM_NTRUPRIME=No\" \"-DOQS_ENABLE_KEM_SABER=No\" \"-DOQS_ENABLE_KEM_SIDH=No\" \"-DOQS_ENABLE_KEM_SIKE=No\" \"-DOQS_ENABLE_SIG_DILITHIUM=No\" \"-DOQS_ENABLE_SIG_FALCON=No\" \"-DOQS_ENABLE_SIG_PICNIC=No\" \"-DOQS_ENABLE_SIG_RAINBOW=No\" \"-DOQS_ENABLE_SIG_SPHINCS=No\" \"-DOQS_USE_OPENSSL=No\" \"-DCMAKE_INSTALL_PREFIX=/Users/bas/scm/rust-hpke/target/debug/build/oqs-sys-d30719a70bf74e8d/out\" \"-DCMAKE_C_FLAGS= -ffunction-sections -fdata-sections -fPIC -m64 -arch x86_64\" \"-DCMAKE_C_COMPILER=/usr/bin/cc\" \"-DCMAKE_CXX_FLAGS= -ffunction-sections -fdata-sections -fPIC -m64 -arch x86_64\" \"-DCMAKE_CXX_COMPILER=/usr/bin/c++\" \"-DCMAKE_ASM_FLAGS= -ffunction-sections -fdata-sections -fPIC -m64 -arch x86_64\" \"-DCMAKE_ASM_COMPILER=/usr/bin/cc\" \"-DCMAKE_BUILD_TYPE=Release\"\r\n  -- Configuring done (0.1s)\r\n  -- Generating done (0.3s)\r\n  -- Build files have been written to: /Users/bas/scm/rust-hpke/target/debug/build/oqs-sys-d30719a70bf74e8d/out/build\r\n  running: \"cmake\" \"--build\" \".\" \"--target\" \"oqs\" \"--config\" \"Release\"\r\n  [  0%] Built target xkcp_low_keccakp_1600_plain64\r\n  [  1%] Built target xkcp_low_keccakp_1600_avx2\r\n  [  1%] Building C object src/kem/kyber/CMakeFiles/kyber_1024_90s_avx2.dir/pqcrystals-kyber_kyber1024-90s_avx2/indcpa.c.o\r\n  [  1%] Building C object src/common/CMakeFiles/common.dir/aes/aes.c.o\r\n  [  2%] Built target xkcp_low_keccakp_1600times4_avx2\r\n  [  3%] Built target xkcp_low_keccakp_1600times4_serial\r\n  [  4%] Building C object src/kem/kyber/CMakeFiles/kyber_512_ref.dir/kem_kyber_512.c.o\r\n  [  5%] Building ASM object src/kem/kyber/CMakeFiles/kyber_512_avx2.dir/pqcrystals-kyber_kyber512_avx2/basemul.S.o\r\n  [  5%] Building C object src/kem/kyber/CMakeFiles/kyber_512_ref.dir/pqcrystals-kyber_kyber512_ref/cbd.c.o\r\n  [  6%] Building C object src/kem/kyber/CMakeFiles/kyber_512_avx2.dir/pqcrystals-kyber_kyber512_avx2/cbd.c.o\r\n  [  7%] Building C object src/kem/kyber/CMakeFiles/kyber_768_ref.dir/kem_kyber_768.c.o\r\n  [  8%] Building ASM object src/kem/kyber/CMakeFiles/kyber_768_avx2.dir/pqcrystals-kyber_kyber768_avx2/basemul.S.o\r\n  [  9%] Building C object src/common/CMakeFiles/common.dir/aes/aes_c.c.o\r\n  [  9%] Building C object src/kem/kyber/CMakeFiles/kyber_1024_90s_avx2.dir/pqcrystals-kyber_kyber1024-90s_avx2/kem.c.o\r\n  [ 10%] Building C object src/kem/kyber/CMakeFiles/kyber_768_avx2.dir/pqcrystals-kyber_kyber768_avx2/cbd.c.o\r\n  [ 10%] Building C object src/common/CMakeFiles/common.dir/aes/aes128_ni.c.o\r\n  [ 11%] Building C object src/common/CMakeFiles/common.dir/aes/aes256_ni.c.o\r\n  [ 11%] Building C object src/kem/kyber/CMakeFiles/kyber_512_avx2.dir/pqcrystals-kyber_kyber512_avx2/consts.c.o\r\n  [ 12%] Building C object src/kem/kyber/CMakeFiles/kyber_1024_90s_avx2.dir/pqcrystals-kyber_kyber1024-90s_avx2/poly.c.o\r\n  [ 12%] Building C object src/kem/kyber/CMakeFiles/kyber_768_avx2.dir/pqcrystals-kyber_kyber768_avx2/consts.c.o\r\n  [ 13%] Building C object src/kem/kyber/CMakeFiles/kyber_1024_90s_avx2.dir/pqcrystals-kyber_kyber1024-90s_avx2/rejsample.c.o\r\n  [ 14%] Building ASM object src/kem/kyber/CMakeFiles/kyber_768_avx2.dir/pqcrystals-kyber_kyber768_avx2/fq.S.o\r\n  [ 15%] Building C object src/common/CMakeFiles/common.dir/sha2/sha2.c.o\r\n  [ 16%] Building ASM object src/kem/kyber/CMakeFiles/kyber_512_avx2.dir/pqcrystals-kyber_kyber512_avx2/fq.S.o\r\n  [ 16%] Building C object src/kem/kyber/CMakeFiles/kyber_768_avx2.dir/pqcrystals-kyber_kyber768_avx2/indcpa.c.o\r\n  [ 16%] Building C object src/common/CMakeFiles/common.dir/sha2/sha2_c.c.o\r\n  [ 16%] Building C object src/kem/kyber/CMakeFiles/kyber_512_avx2.dir/pqcrystals-kyber_kyber512_avx2/indcpa.c.o\r\n  [ 17%] Building ASM object src/kem/kyber/CMakeFiles/kyber_768_avx2.dir/pqcrystals-kyber_kyber768_avx2/invntt.S.o\r\n  [ 18%] Building C object src/common/CMakeFiles/common.dir/sha3/xkcp_sha3.c.o\r\n  [ 19%] Building ASM object src/kem/kyber/CMakeFiles/kyber_512_avx2.dir/pqcrystals-kyber_kyber512_avx2/invntt.S.o\r\n  [ 19%] Building C object src/common/CMakeFiles/common.dir/sha3/xkcp_sha3x4.c.o\r\n  [ 20%] Building C object src/kem/kyber/CMakeFiles/kyber_768_avx2.dir/pqcrystals-kyber_kyber768_avx2/kem.c.o\r\n  [ 21%] Building C object src/common/CMakeFiles/common.dir/common.c.o\r\n  [ 27%] Built target kyber_1024_90s_avx2\r\n  [ 28%] Building C object src/kem/kyber/CMakeFiles/kyber_512_avx2.dir/pqcrystals-kyber_kyber512_avx2/kem.c.o\r\n  [ 28%] Building ASM object src/kem/kyber/CMakeFiles/kyber_768_avx2.dir/pqcrystals-kyber_kyber768_avx2/ntt.S.o\r\n  [ 29%] Building C object src/kem/kyber/CMakeFiles/kyber_768_avx2.dir/pqcrystals-kyber_kyber768_avx2/poly.c.o\r\n  [ 30%] Building C object src/kem/kyber/CMakeFiles/kyber_768_avx2.dir/pqcrystals-kyber_kyber768_avx2/polyvec.c.o\r\n  [ 30%] Building ASM object src/kem/kyber/CMakeFiles/kyber_512_avx2.dir/pqcrystals-kyber_kyber512_avx2/ntt.S.o\r\n  [ 31%] Building C object src/common/CMakeFiles/common.dir/pqclean_shims/nistseedexpander.c.o\r\n  [ 31%] Building C object src/kem/kyber/CMakeFiles/kyber_768_avx2.dir/pqcrystals-kyber_kyber768_avx2/rejsample.c.o\r\n  [ 31%] Building C object src/common/CMakeFiles/common.dir/pqclean_shims/fips202.c.o\r\n  [ 32%] Building ASM object src/kem/kyber/CMakeFiles/kyber_768_avx2.dir/pqcrystals-kyber_kyber768_avx2/shuffle.S.o\r\n  [ 33%] Building C object src/kem/kyber/CMakeFiles/kyber_512_avx2.dir/pqcrystals-kyber_kyber512_avx2/poly.c.o\r\n  [ 34%] Building C object src/common/CMakeFiles/common.dir/pqclean_shims/fips202x4.c.o\r\n  [ 35%] Building C object src/common/CMakeFiles/common.dir/rand/rand.c.o\r\n  [ 36%] Building C object src/kem/kyber/CMakeFiles/kyber_512_avx2.dir/pqcrystals-kyber_kyber512_avx2/polyvec.c.o\r\n  [ 36%] Building C object src/kem/kyber/CMakeFiles/kyber_768_avx2.dir/pqcrystals-kyber_kyber768_avx2/symmetric-shake.c.o\r\n  [ 36%] Building C object src/common/CMakeFiles/common.dir/rand/rand_nist.c.o\r\n  [ 36%] Building C object src/kem/kyber/CMakeFiles/kyber_512_avx2.dir/pqcrystals-kyber_kyber512_avx2/rejsample.c.o\r\n  [ 37%] Building C object src/kem/kyber/CMakeFiles/kyber_768_avx2.dir/pqcrystals-kyber_kyber768_avx2/verify.c.o\r\n  [ 38%] Building ASM object src/kem/kyber/CMakeFiles/kyber_512_avx2.dir/pqcrystals-kyber_kyber512_avx2/shuffle.S.o\r\n  [ 38%] Building C object src/kem/kyber/CMakeFiles/kyber_512_avx2.dir/pqcrystals-kyber_kyber512_avx2/symmetric-shake.c.o\r\n  [ 39%] Building C object src/kem/kyber/CMakeFiles/kyber_512_avx2.dir/pqcrystals-kyber_kyber512_avx2/verify.c.o\r\n  [ 39%] Built target kyber_768_avx2\r\n  [ 39%] Built target kyber_512_avx2\r\n  [ 39%] Built target common\r\n\r\n  --- stderr\r\n  /Users/bas/.cargo/registry/src/github.com-1ecc6299db9ec823/oqs-sys-0.7.2/liboqs/src/kem/kyber/kem_kyber_512.c:9:31: error: a function declaration without a prototype is deprecated in all versions of C [-Werror,-Wstrict-prototypes]\r\n  OQS_KEM *OQS_KEM_kyber_512_new() {\r\n                                ^\r\n                                 void\r\n  1 error generated.\r\n  make[3]: *** [src/kem/kyber/CMakeFiles/kyber_512_ref.dir/kem_kyber_512.c.o] Error 1\r\n  make[3]: *** Waiting for unfinished jobs....\r\n  /Users/bas/.cargo/registry/src/github.com-1ecc6299db9ec823/oqs-sys-0.7.2/liboqs/src/kem/kyber/kem_kyber_768.c:9:31: error: a function declaration without a prototype is deprecated in all versions of C [-Werror,-Wstrict-prototypes]\r\n  OQS_KEM *OQS_KEM_kyber_768_new() {\r\n                                ^\r\n                                 void\r\n  1 error generated.\r\n  make[3]: *** [src/kem/kyber/CMakeFiles/kyber_768_ref.dir/kem_kyber_768.c.o] Error 1\r\n  make[2]: *** [src/kem/kyber/CMakeFiles/kyber_768_ref.dir/all] Error 2\r\n  make[2]: *** Waiting for unfinished jobs....\r\n  make[2]: *** [src/kem/kyber/CMakeFiles/kyber_512_ref.dir/all] Error 2\r\n  make[1]: *** [src/CMakeFiles/oqs.dir/rule] Error 2\r\n  make: *** [oqs] Error 2\r\n  thread 'main' panicked at '\r\n  command did not execute successfully, got: exit status: 2\r\n\r\n  build script failed, must exit now', /Users/bas/.cargo/registry/src/github.com-1ecc6299db9ec823/cmake-0.1.50/src/lib.rs:1098:5\r\n  note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\r\n```\r\n\r\nRust version:\r\n\r\n```\r\nstable-x86_64-apple-darwin (default)\r\nrustc 1.67.1 (d5a82bbd2 2023-02-07)\r\n```","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/199/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/comments/1523043027","html_url":"https://github.com/open-quantum-safe/liboqs-rust/issues/199#issuecomment-1523043027","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/199","id":1523043027,"node_id":"IC_kwDODwdmyM5ax8rT","user":{"login":"der-struct","id":131854830,"node_id":"U_kgDOB9vx7g","avatar_url":"https://avatars.githubusercontent.com/u/131854830?v=4","gravatar_id":"","url":"https://api.github.com/users/der-struct","html_url":"https://github.com/der-struct","followers_url":"https://api.github.com/users/der-struct/followers","following_url":"https://api.github.com/users/der-struct/following{/other_user}","gists_url":"https://api.github.com/users/der-struct/gists{/gist_id}","starred_url":"https://api.github.com/users/der-struct/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/der-struct/subscriptions","organizations_url":"https://api.github.com/users/der-struct/orgs","repos_url":"https://api.github.com/users/der-struct/repos","events_url":"https://api.github.com/users/der-struct/events{/privacy}","received_events_url":"https://api.github.com/users/der-struct/received_events","type":"User","site_admin":false},"created_at":"2023-04-26T09:01:00Z","updated_at":"2023-04-26T09:01:00Z","author_association":"NONE","body":"Version in crates still has that issue","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/comments/1523043027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-04-26T09:01:01Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"28670908989","type":"IssueCommentEvent","actor":{"id":974662,"login":"thomwiggers","display_login":"thomwiggers","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","avatar_url":"https://avatars.githubusercontent.com/u/974662?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1432","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1432/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1432/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1432/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1432","id":1664298548,"node_id":"I_kwDOA-eq3c5jMy40","number":1432,"title":"Only enable `-Werror` in tests?","user":{"login":"thomwiggers","id":974662,"node_id":"MDQ6VXNlcjk3NDY2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/974662?v=4","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","html_url":"https://github.com/thomwiggers","followers_url":"https://api.github.com/users/thomwiggers/followers","following_url":"https://api.github.com/users/thomwiggers/following{/other_user}","gists_url":"https://api.github.com/users/thomwiggers/gists{/gist_id}","starred_url":"https://api.github.com/users/thomwiggers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomwiggers/subscriptions","organizations_url":"https://api.github.com/users/thomwiggers/orgs","repos_url":"https://api.github.com/users/thomwiggers/repos","events_url":"https://api.github.com/users/thomwiggers/events{/privacy}","received_events_url":"https://api.github.com/users/thomwiggers/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2023-04-12T10:34:00Z","updated_at":"2023-04-26T09:24:40Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"Once in a while, compilers add new warnings. That's good, because it helps us find new flaws in existing code, but unfortunately this also has a tendency of breaking things, especially when particular versions of the library are included in other things.\r\n\r\nFor example, in https://github.com/open-quantum-safe/liboqs-rust/issues/199, the wrapper breaks because Bas was using a newer compiler version than what liboqs 0.7.2 was tested against.\r\n\r\nDoes it make sense to move the `-Werror` flag to only be set in tests?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1432/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1523084086","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1432#issuecomment-1523084086","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1432","id":1523084086,"node_id":"IC_kwDOA-eq3c5ayGs2","user":{"login":"thomwiggers","id":974662,"node_id":"MDQ6VXNlcjk3NDY2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/974662?v=4","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","html_url":"https://github.com/thomwiggers","followers_url":"https://api.github.com/users/thomwiggers/followers","following_url":"https://api.github.com/users/thomwiggers/following{/other_user}","gists_url":"https://api.github.com/users/thomwiggers/gists{/gist_id}","starred_url":"https://api.github.com/users/thomwiggers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomwiggers/subscriptions","organizations_url":"https://api.github.com/users/thomwiggers/orgs","repos_url":"https://api.github.com/users/thomwiggers/repos","events_url":"https://api.github.com/users/thomwiggers/events{/privacy}","received_events_url":"https://api.github.com/users/thomwiggers/received_events","type":"User","site_admin":false},"created_at":"2023-04-26T09:24:40Z","updated_at":"2023-04-26T09:24:40Z","author_association":"MEMBER","body":"It turns out there is already a CMAKE feature that does this: https://cmake.org/cmake/help/latest/prop_tgt/COMPILE_WARNING_AS_ERROR.html","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1523084086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-04-26T09:24:40Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"28671402683","type":"IssueCommentEvent","actor":{"id":974662,"login":"thomwiggers","display_login":"thomwiggers","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","avatar_url":"https://avatars.githubusercontent.com/u/974662?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1432","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1432/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1432/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1432/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1432","id":1664298548,"node_id":"I_kwDOA-eq3c5jMy40","number":1432,"title":"Only enable `-Werror` in tests?","user":{"login":"thomwiggers","id":974662,"node_id":"MDQ6VXNlcjk3NDY2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/974662?v=4","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","html_url":"https://github.com/thomwiggers","followers_url":"https://api.github.com/users/thomwiggers/followers","following_url":"https://api.github.com/users/thomwiggers/following{/other_user}","gists_url":"https://api.github.com/users/thomwiggers/gists{/gist_id}","starred_url":"https://api.github.com/users/thomwiggers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomwiggers/subscriptions","organizations_url":"https://api.github.com/users/thomwiggers/orgs","repos_url":"https://api.github.com/users/thomwiggers/repos","events_url":"https://api.github.com/users/thomwiggers/events{/privacy}","received_events_url":"https://api.github.com/users/thomwiggers/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2023-04-12T10:34:00Z","updated_at":"2023-04-26T09:43:50Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"Once in a while, compilers add new warnings. That's good, because it helps us find new flaws in existing code, but unfortunately this also has a tendency of breaking things, especially when particular versions of the library are included in other things.\r\n\r\nFor example, in https://github.com/open-quantum-safe/liboqs-rust/issues/199, the wrapper breaks because Bas was using a newer compiler version than what liboqs 0.7.2 was tested against.\r\n\r\nDoes it make sense to move the `-Werror` flag to only be set in tests?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1432/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1523112752","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1432#issuecomment-1523112752","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1432","id":1523112752,"node_id":"IC_kwDOA-eq3c5ayNsw","user":{"login":"thomwiggers","id":974662,"node_id":"MDQ6VXNlcjk3NDY2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/974662?v=4","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","html_url":"https://github.com/thomwiggers","followers_url":"https://api.github.com/users/thomwiggers/followers","following_url":"https://api.github.com/users/thomwiggers/following{/other_user}","gists_url":"https://api.github.com/users/thomwiggers/gists{/gist_id}","starred_url":"https://api.github.com/users/thomwiggers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomwiggers/subscriptions","organizations_url":"https://api.github.com/users/thomwiggers/orgs","repos_url":"https://api.github.com/users/thomwiggers/repos","events_url":"https://api.github.com/users/thomwiggers/events{/privacy}","received_events_url":"https://api.github.com/users/thomwiggers/received_events","type":"User","site_admin":false},"created_at":"2023-04-26T09:43:50Z","updated_at":"2023-04-26T09:43:50Z","author_association":"MEMBER","body":"This already partially implemented by #1378 ","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1523112752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-04-26T09:43:50Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"28671728786","type":"IssueCommentEvent","actor":{"id":974662,"login":"thomwiggers","display_login":"thomwiggers","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","avatar_url":"https://avatars.githubusercontent.com/u/974662?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1443","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1443/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1443/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1443/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1443","id":1682318577,"node_id":"I_kwDOA-eq3c5kRiTx","number":1443,"title":"OQS_ENABLE_KEM_BIKE forced to OFF for ARCH_X86","user":{"login":"JoeyLupo","id":12769341,"node_id":"MDQ6VXNlcjEyNzY5MzQx","avatar_url":"https://avatars.githubusercontent.com/u/12769341?v=4","gravatar_id":"","url":"https://api.github.com/users/JoeyLupo","html_url":"https://github.com/JoeyLupo","followers_url":"https://api.github.com/users/JoeyLupo/followers","following_url":"https://api.github.com/users/JoeyLupo/following{/other_user}","gists_url":"https://api.github.com/users/JoeyLupo/gists{/gist_id}","starred_url":"https://api.github.com/users/JoeyLupo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoeyLupo/subscriptions","organizations_url":"https://api.github.com/users/JoeyLupo/orgs","repos_url":"https://api.github.com/users/JoeyLupo/repos","events_url":"https://api.github.com/users/JoeyLupo/events{/privacy}","received_events_url":"https://api.github.com/users/JoeyLupo/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-04-25T02:15:25Z","updated_at":"2023-04-26T09:56:34Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hi all, looking at the comments on lines 75 and 77 of [liboqs/.CMake/alg_support.cmake ](https://github.com/open-quantum-safe/liboqs/blob/main/.CMake/alg_support.cmake) leads me to believe that BIKE should be supported on x86 architectures, yet line 76 disables them when ARCH_X86 is detected:\r\n```\r\n# BIKE is not supported on Windows, 32-bit ARM, S390X (big endian) and PPC64 (big endian)\r\ncmake_dependent_option(OQS_ENABLE_KEM_BIKE \"Enable BIKE algorithm family\" ON \"NOT WIN32; NOT ARCH_ARM32v7; NOT ARCH_X86; NOT ARCH_S390X; NOT ARCH_PPC64\" OFF)\r\n# BIKE doesn't work on any 32bit platform except x86:\r\nif(CMAKE_SIZEOF_VOID_P MATCHES \"4\" AND NOT ARCH_X86)\r\nset(OQS_ENABLE_KEM_BIKE OFF)\r\nendif()\r\n```\r\n\r\nRemoving `NOT ARCH_X86;` from line 76 allowed me to build BIKE without issue, so I'm wondering if this is merely a typo.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1443/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1523130080","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1443#issuecomment-1523130080","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1443","id":1523130080,"node_id":"IC_kwDOA-eq3c5ayR7g","user":{"login":"thomwiggers","id":974662,"node_id":"MDQ6VXNlcjk3NDY2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/974662?v=4","gravatar_id":"","url":"https://api.github.com/users/thomwiggers","html_url":"https://github.com/thomwiggers","followers_url":"https://api.github.com/users/thomwiggers/followers","following_url":"https://api.github.com/users/thomwiggers/following{/other_user}","gists_url":"https://api.github.com/users/thomwiggers/gists{/gist_id}","starred_url":"https://api.github.com/users/thomwiggers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomwiggers/subscriptions","organizations_url":"https://api.github.com/users/thomwiggers/orgs","repos_url":"https://api.github.com/users/thomwiggers/repos","events_url":"https://api.github.com/users/thomwiggers/events{/privacy}","received_events_url":"https://api.github.com/users/thomwiggers/received_events","type":"User","site_admin":false},"created_at":"2023-04-26T09:56:34Z","updated_at":"2023-04-26T09:56:34Z","author_association":"MEMBER","body":"Relatedly, does BIKE support Windows 64 bits? Considering it specifically says 'NOT WIN32' right now.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1523130080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-04-26T09:56:34Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"28675394314","type":"IssueCommentEvent","actor":{"id":6188943,"login":"vsoftco","display_login":"vsoftco","gravatar_id":"","url":"https://api.github.com/users/vsoftco","avatar_url":"https://avatars.githubusercontent.com/u/6188943?"},"repo":{"id":215630242,"name":"open-quantum-safe/liboqs-go","url":"https://api.github.com/repos/open-quantum-safe/liboqs-go"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-go/issues/21","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs-go","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs-go/issues/21/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs-go/issues/21/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs-go/issues/21/events","html_url":"https://github.com/open-quantum-safe/liboqs-go/issues/21","id":1665108152,"node_id":"I_kwDODNpBos5jP4i4","number":21,"title":"dockerbuild fails","user":{"login":"vsoftco","id":6188943,"node_id":"MDQ6VXNlcjYxODg5NDM=","avatar_url":"https://avatars.githubusercontent.com/u/6188943?v=4","gravatar_id":"","url":"https://api.github.com/users/vsoftco","html_url":"https://github.com/vsoftco","followers_url":"https://api.github.com/users/vsoftco/followers","following_url":"https://api.github.com/users/vsoftco/following{/other_user}","gists_url":"https://api.github.com/users/vsoftco/gists{/gist_id}","starred_url":"https://api.github.com/users/vsoftco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vsoftco/subscriptions","organizations_url":"https://api.github.com/users/vsoftco/orgs","repos_url":"https://api.github.com/users/vsoftco/repos","events_url":"https://api.github.com/users/vsoftco/events{/privacy}","received_events_url":"https://api.github.com/users/vsoftco/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2023-04-12T19:16:12Z","updated_at":"2023-04-26T12:28:31Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"E.g., https://app.circleci.com/pipelines/github/open-quantum-safe/liboqs-go/67/workflows/ff6a4e56-dcca-40b8-819c-06e00fc85a4f/jobs/129","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-go/issues/21/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs-go/issues/21/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-go/issues/comments/1523335600","html_url":"https://github.com/open-quantum-safe/liboqs-go/issues/21#issuecomment-1523335600","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs-go/issues/21","id":1523335600,"node_id":"IC_kwDODNpBos5azEGw","user":{"login":"vsoftco","id":6188943,"node_id":"MDQ6VXNlcjYxODg5NDM=","avatar_url":"https://avatars.githubusercontent.com/u/6188943?v=4","gravatar_id":"","url":"https://api.github.com/users/vsoftco","html_url":"https://github.com/vsoftco","followers_url":"https://api.github.com/users/vsoftco/followers","following_url":"https://api.github.com/users/vsoftco/following{/other_user}","gists_url":"https://api.github.com/users/vsoftco/gists{/gist_id}","starred_url":"https://api.github.com/users/vsoftco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vsoftco/subscriptions","organizations_url":"https://api.github.com/users/vsoftco/orgs","repos_url":"https://api.github.com/users/vsoftco/repos","events_url":"https://api.github.com/users/vsoftco/events{/privacy}","received_events_url":"https://api.github.com/users/vsoftco/received_events","type":"User","site_admin":false},"created_at":"2023-04-26T12:28:31Z","updated_at":"2023-04-26T12:28:31Z","author_association":"MEMBER","body":"@dstebila Will look at it shortly","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-go/issues/comments/1523335600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-04-26T12:28:31Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"28678154155","type":"IssueCommentEvent","actor":{"id":5923577,"login":"mouse07410","display_login":"mouse07410","gravatar_id":"","url":"https://api.github.com/users/mouse07410","avatar_url":"https://avatars.githubusercontent.com/u/5923577?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/132","id":1642717023,"node_id":"I_kwDOE_A9l85h6d9f","number":132,"title":"Unable to run tests on OSX","user":{"login":"mouse07410","id":5923577,"node_id":"MDQ6VXNlcjU5MjM1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5923577?v=4","gravatar_id":"","url":"https://api.github.com/users/mouse07410","html_url":"https://github.com/mouse07410","followers_url":"https://api.github.com/users/mouse07410/followers","following_url":"https://api.github.com/users/mouse07410/following{/other_user}","gists_url":"https://api.github.com/users/mouse07410/gists{/gist_id}","starred_url":"https://api.github.com/users/mouse07410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mouse07410/subscriptions","organizations_url":"https://api.github.com/users/mouse07410/orgs","repos_url":"https://api.github.com/users/mouse07410/repos","events_url":"https://api.github.com/users/mouse07410/events{/privacy}","received_events_url":"https://api.github.com/users/mouse07410/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":57,"created_at":"2023-03-27T19:52:52Z","updated_at":"2023-04-26T14:04:09Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### Updated\r\nTo make some details clear, as previous overly-generic description invited useless overly-generic observations, like \"could not replicate on Windows\".\r\n\r\n**Describe the bug**\r\n`ctest` crashes with `SIGTRAP`.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Build or get installed OpenSSL _system-wide_, e.g., in `/opt/local/libexec/openssl3`. For this test I used OpenSSL-3.1.0, and used Macports to get the binary installed.\r\n2. Build and install `liboqs` _system-wide_. I used `liboqs` master, and installed it in `opt/local`: `/opt/local/lib` for the shared library, `/opt/local/include` for the header files.\r\n3. Clone, build, and install this provider (don't forget to edit `openssl.cnf` as appropriate).\r\n4. `export OPENSSL_APP=/opt/local/libexec/openssl3/bin/openssl`, `export OPENSSL_MODULES=/opt/local/libexec/openssl3/lib/ossl-modules`\r\n5. _Optional?_ To make the environment closer to mine, install `pkcs11-provider` and GOST engine system-wide, and adjust `openssl.cnf` to point at them. \r\n6. _Further complication_ Install `oqs-provider` and make it available system-wide by adding it to `openssl.cnf`.\r\n7. Go to `_build` and do `ctest --output-on-failure`\r\n8. Observe the error report.\r\n\r\n**Expected behavior**\r\nTests passing.\r\n\r\n**Screenshots**\r\n<img width=\"718\" alt=\"Screenshot 2023-03-27 at 3 49 24 PM\" src=\"https://user-images.githubusercontent.com/5923577/228050759-876766f2-d3de-4c42-bf1c-1f4dab9978a2.png\">\r\n\r\n**Crash report**\r\n```\r\nTranslated Report (Full Report Below)\r\n-------------------------------------\r\n\r\nProcess:               oqs_test_kems [17508]\r\nPath:                  /Users/USER/*/oqs_test_kems\r\nIdentifier:            oqs_test_kems\r\nVersion:               ???\r\nCode Type:             ARM-64 (Native)\r\nParent Process:        ctest [17500]\r\nResponsible:           Terminal [983]\r\nUser ID:               501\r\n\r\nDate/Time:             2023-03-27 15:39:40.6519 -0400\r\nOS Version:            macOS 13.2.1 (22D68)\r\nReport Version:        12\r\nAnonymous UUID:        161C054B-E964-CDD3-5EBC-5A9DBE3E2AE2\r\n\r\n\r\nTime Awake Since Boot: 66000 seconds\r\n\r\nSystem Integrity Protection: enabled\r\n\r\nCrashed Thread:        0  Dispatch queue: com.apple.main-thread\r\n\r\nException Type:        EXC_BREAKPOINT (SIGTRAP)\r\nException Codes:       0x0000000000000001, 0x00000001a6283108\r\n\r\nTermination Reason:    Namespace SIGNAL, Code 5 Trace/BPT trap: 5\r\nTerminating Process:   exc handler [17508]\r\n\r\nApplication Specific Information:\r\nBUG IN CLIENT OF LIBPLATFORM: Trying to recursively lock an os_once_t\r\nAbort Cause 259\r\n\r\n\r\nThread 0 Crashed::  Dispatch queue: com.apple.main-thread\r\n0   libsystem_platform.dylib      \t       0x1a6283108 _os_once_gate_recursive_abort + 36\r\n1   libsystem_platform.dylib      \t       0x1a627f710 _os_once_gate_wait + 348\r\n2   libsystem_pthread.dylib       \t       0x1a624dd84 pthread_once + 100\r\n3   libcrypto.3.dylib             \t       0x1012bdfcc CRYPTO_THREAD_run_once + 12\r\n4   libcrypto.3.dylib             \t       0x1012d0ea4 ossl_obj_add_object + 236\r\n5   gostprov.dylib                \t       0x1015bf5b4 populate_gost_engine + 116\r\n6   gostprov.dylib                \t       0x1015bd478 OSSL_provider_init + 116\r\n7   libcrypto.3.dylib             \t       0x1012bbddc provider_activate + 260\r\n8   libcrypto.3.dylib             \t       0x1012bbc48 ossl_provider_activate + 56\r\n9   libcrypto.3.dylib             \t       0x1012ba93c provider_conf_init + 608\r\n10  libcrypto.3.dylib             \t       0x101212c4c CONF_modules_load + 856\r\n11  libcrypto.3.dylib             \t       0x101212ee8 CONF_modules_load_file_ex + 120\r\n12  libcrypto.3.dylib             \t       0x101213738 ossl_config_int + 68\r\n13  libcrypto.3.dylib             \t       0x1012b2400 ossl_init_config_ossl_ + 16\r\n14  libsystem_pthread.dylib       \t       0x1a624ddec __pthread_once_handler + 76\r\n15  libsystem_platform.dylib      \t       0x1a627d7e0 _os_once_callout + 32\r\n16  libsystem_pthread.dylib       \t       0x1a624dd84 pthread_once + 100\r\n17  libcrypto.3.dylib             \t       0x1012bdfcc CRYPTO_THREAD_run_once + 12\r\n18  libcrypto.3.dylib             \t       0x1012b2208 OPENSSL_init_crypto + 1104\r\n19  libcrypto.3.dylib             \t       0x1012d1098 obj_lock_initialise_ossl_ + 20\r\n20  libsystem_pthread.dylib       \t       0x1a624ddec __pthread_once_handler + 76\r\n21  libsystem_platform.dylib      \t       0x1a627d7e0 _os_once_callout + 32\r\n22  libsystem_pthread.dylib       \t       0x1a624dd84 pthread_once + 100\r\n23  libcrypto.3.dylib             \t       0x1012bdfcc CRYPTO_THREAD_run_once + 12\r\n24  libcrypto.3.dylib             \t       0x1012d0408 OBJ_sn2nid + 112\r\n25  libcrypto.3.dylib             \t       0x1012d02f4 OBJ_txt2obj + 216\r\n26  libcrypto.3.dylib             \t       0x1012d0944 OBJ_txt2nid + 20\r\n27  libcrypto.3.dylib             \t       0x1012bd048 core_obj_create + 36\r\n28  oqsprovider.0.5.0-dev.dylib   \t       0x100f73678 OSSL_provider_init + 292\r\n29  libcrypto.3.dylib             \t       0x1012bbddc provider_activate + 260\r\n30  libcrypto.3.dylib             \t       0x1012bbc48 ossl_provider_activate + 56\r\n31  libcrypto.3.dylib             \t       0x1012ba93c provider_conf_init + 608\r\n32  libcrypto.3.dylib             \t       0x101212c4c CONF_modules_load + 856\r\n33  libcrypto.3.dylib             \t       0x101212ee8 CONF_modules_load_file_ex + 120\r\n34  libcrypto.3.dylib             \t       0x1012af1a4 OSSL_LIB_CTX_load_config + 20\r\n35  oqs_test_kems                 \t       0x100de7420 main + 80\r\n36  dyld                          \t       0x1a5f27e50 start + 2544\r\n\r\n\r\nThread 0 crashed with ARM Thread State (64-bit):\r\n    x0: 0x0000000000000103   x1: 0x000000016f019b90   x2: 0x00000001a624dda0   x3: 0x0000000000000103\r\n    x4: 0x000000000000000a   x5: 0x0000000024200000   x6: 0x0000000000000000   x7: 0x0000000000000500\r\n    x8: 0x0000000000000103   x9: 0x0000000000000103  x10: 0x0000000000000103  x11: 0x0000600000fb8000\r\n   x12: 0x0000000000000010  x13: 0x00000000fffffcee  x14: 0x00000000000007fb  x15: 0x00000000a4188ffb\r\n   x16: 0x00000001a627d760  x17: 0x00000002066400a0  x18: 0x0000000000000000  x19: 0x0000000101438d58\r\n   x20: 0x0000000000000103  x21: 0x00000001a624dda0  x22: 0x000000016f019b90  x23: 0x0000000000000103\r\n   x24: 0x0000000000000103  x25: 0x0000000000000000  x26: 0x0000000000000002  x27: 0x0000000000000002\r\n   x28: 0x0000600000fa4000   fp: 0x000000016f019b80   lr: 0x00000001a627f710\r\n    sp: 0x000000016f019b50   pc: 0x00000001a6283108 cpsr: 0x60001000\r\n   far: 0x00000001ff2bc0b8  esr: 0xf2000001 (Breakpoint) brk 1\r\n```\r\n\r\n**Environment (please complete the following information):**\r\n - OS: MacOS Ventura 13.2.1\r\n - OpenSSL version 3.1.0\r\n - This provider version: current master (0.5.0-dev)\r\n\r\n**Additional context**\r\nThis is on MacBook Pro - Apple Silicon M2 chip. Similar problem on Intel-based iMac (used same process as above).\r\n\r\n**Note:** commenting out, e.g., GOST provider in `openssl.cnf` did not help.\r\n\r\n```\r\n$ openssl version\r\nOpenSSL 3.1.0 14 Mar 2023 (Library: OpenSSL 3.1.0 14 Mar 2023)\r\n$ openssl list -providers\r\nProviders:\r\n  base\r\n    name: OpenSSL Base Provider\r\n    version: 3.1.0\r\n    status: active\r\n  default\r\n    name: OpenSSL Default Provider\r\n    version: 3.1.0\r\n    status: active\r\n  gost\r\n    name: OpenSSL GOST Provider\r\n    status: active\r\n  legacy\r\n    name: OpenSSL Legacy Provider\r\n    version: 3.1.0\r\n    status: active\r\n  oqs\r\n    name: OpenSSL OQS Provider\r\n    version: 0.5.0-dev\r\n    status: active\r\n  pkcs11\r\n    name: PKCS#11 Provider\r\n    version: 3.1.0\r\n    status: active\r\n$ \r\n```\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1523479868","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/132#issuecomment-1523479868","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132","id":1523479868,"node_id":"IC_kwDOE_A9l85aznU8","user":{"login":"mouse07410","id":5923577,"node_id":"MDQ6VXNlcjU5MjM1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5923577?v=4","gravatar_id":"","url":"https://api.github.com/users/mouse07410","html_url":"https://github.com/mouse07410","followers_url":"https://api.github.com/users/mouse07410/followers","following_url":"https://api.github.com/users/mouse07410/following{/other_user}","gists_url":"https://api.github.com/users/mouse07410/gists{/gist_id}","starred_url":"https://api.github.com/users/mouse07410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mouse07410/subscriptions","organizations_url":"https://api.github.com/users/mouse07410/orgs","repos_url":"https://api.github.com/users/mouse07410/repos","events_url":"https://api.github.com/users/mouse07410/events{/privacy}","received_events_url":"https://api.github.com/users/mouse07410/received_events","type":"User","site_admin":false},"created_at":"2023-04-26T14:04:09Z","updated_at":"2023-04-26T14:04:09Z","author_association":"NONE","body":"@baentsch any idea why tests fail if the main (system-wide) `openssl.cnf` points at a working `oqsprovider.dylib`? \r\n\r\nIt's not a show-stopper - just a considerable inconvenience, being forced to edit `openssl.cnf` whenever I need to update or re-test OQS provider. Thanks!","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1523479868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-04-26T14:04:10Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"28678648536","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143","id":1661335845,"node_id":"PR_kwDOE_A9l85N9qep","number":143,"title":"Removed dependency on internal ssltestlib","user":{"login":"alexzas","id":1214959,"node_id":"MDQ6VXNlcjEyMTQ5NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1214959?v=4","gravatar_id":"","url":"https://api.github.com/users/alexzas","html_url":"https://github.com/alexzas","followers_url":"https://api.github.com/users/alexzas/followers","following_url":"https://api.github.com/users/alexzas/following{/other_user}","gists_url":"https://api.github.com/users/alexzas/gists{/gist_id}","starred_url":"https://api.github.com/users/alexzas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexzas/subscriptions","organizations_url":"https://api.github.com/users/alexzas/orgs","repos_url":"https://api.github.com/users/alexzas/repos","events_url":"https://api.github.com/users/alexzas/events{/privacy}","received_events_url":"https://api.github.com/users/alexzas/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2023-04-10T20:44:17Z","updated_at":"2023-04-26T14:20:19Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/143","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143","diff_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143.diff","patch_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143.patch","merged_at":null},"body":"This PR hopefully solves \"Remove dependency on internal OpenSSL test harness #137\".\r\n\r\n- I made sure only public OSSL APIs are used in the TLS test helper functions\r\n- TLS 1.3 handshake is used \r\n- Removed support for DTLS to remove unnecessary dependency (I assume the specific transport protocol is less relevant for PQC tests)\r\n- Tested on OSSL 3.0 and 3.1 branches \r\n\r\nPlease let me know your thoughts,\r\nThanks,\r\nAlex\r\n\r\nP.S. I believe dependency on libtestutil can also be removed.\r\n \r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1523505633","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143#issuecomment-1523505633","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143","id":1523505633,"node_id":"IC_kwDOE_A9l85aztnh","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2023-04-26T14:20:19Z","updated_at":"2023-04-26T14:20:19Z","author_association":"MEMBER","body":"Merging given the positive review by @bhess.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1523505633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-04-26T14:20:19Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"28678738908","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1427","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1427/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1427/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1427/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1427","id":1653236455,"node_id":"I_kwDOA-eq3c5iimLn","number":1427,"title":"Improve EVP_sha, EVP_aes calls when using OpenSSL3","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":19,"created_at":"2023-04-04T05:57:39Z","updated_at":"2023-04-26T14:23:02Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"\r\n\r\nI'm aware of the following antipattern - in 3.0. using old methods like EVP_sha3_256() instead of fetching a digest object via EVP_MD_fetch and using a fetched object gives a performance penalty. See https://github.com/openssl/openssl/pull/20354/files#diff-86fbd44f96c9f78b9c4a27d8b5fb9d83aa787b9a7d92c6774d9172c5952b791f for example. If it is the case (and looks like it is), it's worth fixing\r\n\r\n_Originally posted by @beldmit in https://github.com/open-quantum-safe/liboqs/issues/1426#issuecomment-1494591453_\r\n            ","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1427/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1523511062","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1427#issuecomment-1523511062","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1427","id":1523511062,"node_id":"IC_kwDOA-eq3c5azu8W","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2023-04-26T14:23:02Z","updated_at":"2023-04-26T14:23:02Z","author_association":"MEMBER","body":"Is this resolved by #1431?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1523511062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-04-26T14:23:03Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"28678760248","type":"IssueCommentEvent","actor":{"id":13785747,"login":"beldmit","display_login":"beldmit","gravatar_id":"","url":"https://api.github.com/users/beldmit","avatar_url":"https://avatars.githubusercontent.com/u/13785747?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1427","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1427/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1427/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1427/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1427","id":1653236455,"node_id":"I_kwDOA-eq3c5iimLn","number":1427,"title":"Improve EVP_sha, EVP_aes calls when using OpenSSL3","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":20,"created_at":"2023-04-04T05:57:39Z","updated_at":"2023-04-26T14:23:43Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"\r\n\r\nI'm aware of the following antipattern - in 3.0. using old methods like EVP_sha3_256() instead of fetching a digest object via EVP_MD_fetch and using a fetched object gives a performance penalty. See https://github.com/openssl/openssl/pull/20354/files#diff-86fbd44f96c9f78b9c4a27d8b5fb9d83aa787b9a7d92c6774d9172c5952b791f for example. If it is the case (and looks like it is), it's worth fixing\r\n\r\n_Originally posted by @beldmit in https://github.com/open-quantum-safe/liboqs/issues/1426#issuecomment-1494591453_\r\n            ","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1427/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1523512539","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1427#issuecomment-1523512539","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1427","id":1523512539,"node_id":"IC_kwDOA-eq3c5azvTb","user":{"login":"beldmit","id":13785747,"node_id":"MDQ6VXNlcjEzNzg1NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/13785747?v=4","gravatar_id":"","url":"https://api.github.com/users/beldmit","html_url":"https://github.com/beldmit","followers_url":"https://api.github.com/users/beldmit/followers","following_url":"https://api.github.com/users/beldmit/following{/other_user}","gists_url":"https://api.github.com/users/beldmit/gists{/gist_id}","starred_url":"https://api.github.com/users/beldmit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/beldmit/subscriptions","organizations_url":"https://api.github.com/users/beldmit/orgs","repos_url":"https://api.github.com/users/beldmit/repos","events_url":"https://api.github.com/users/beldmit/events{/privacy}","received_events_url":"https://api.github.com/users/beldmit/received_events","type":"User","site_admin":false},"created_at":"2023-04-26T14:23:42Z","updated_at":"2023-04-26T14:23:42Z","author_association":"CONTRIBUTOR","body":"I think yes.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1523512539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-04-26T14:23:43Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"28678875416","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1442","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1442/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1442/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1442/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1442","id":1679945624,"node_id":"I_kwDOA-eq3c5kIe-Y","number":1442,"title":"`x86` missing in check for CMAKE_SYSTEM_PROCESSOR","user":{"login":"wucke13","id":20400405,"node_id":"MDQ6VXNlcjIwNDAwNDA1","avatar_url":"https://avatars.githubusercontent.com/u/20400405?v=4","gravatar_id":"","url":"https://api.github.com/users/wucke13","html_url":"https://github.com/wucke13","followers_url":"https://api.github.com/users/wucke13/followers","following_url":"https://api.github.com/users/wucke13/following{/other_user}","gists_url":"https://api.github.com/users/wucke13/gists{/gist_id}","starred_url":"https://api.github.com/users/wucke13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wucke13/subscriptions","organizations_url":"https://api.github.com/users/wucke13/orgs","repos_url":"https://api.github.com/users/wucke13/repos","events_url":"https://api.github.com/users/wucke13/events{/privacy}","received_events_url":"https://api.github.com/users/wucke13/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-04-23T09:29:28Z","updated_at":"2023-04-26T14:27:23Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"https://github.com/open-quantum-safe/liboqs/blob/d9f392a74bed7535c0a5a044633a9212aa8635d9/CMakeLists.txt#L51\r\n\r\nshould also contain `x86`, as it is also used to denote classic x86 32 Bit CPUs.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1442/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1523518254","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1442#issuecomment-1523518254","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1442","id":1523518254,"node_id":"IC_kwDOA-eq3c5azwsu","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2023-04-26T14:27:23Z","updated_at":"2023-04-26T14:27:23Z","author_association":"MEMBER","body":"@wucke13 Can you see if #1443 resolves your problem?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1523518254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-04-26T14:27:24Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"28679401310","type":"IssueCommentEvent","actor":{"id":5923577,"login":"mouse07410","display_login":"mouse07410","gravatar_id":"","url":"https://api.github.com/users/mouse07410","avatar_url":"https://avatars.githubusercontent.com/u/5923577?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/132","id":1642717023,"node_id":"I_kwDOE_A9l85h6d9f","number":132,"title":"Unable to run tests on OSX","user":{"login":"mouse07410","id":5923577,"node_id":"MDQ6VXNlcjU5MjM1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5923577?v=4","gravatar_id":"","url":"https://api.github.com/users/mouse07410","html_url":"https://github.com/mouse07410","followers_url":"https://api.github.com/users/mouse07410/followers","following_url":"https://api.github.com/users/mouse07410/following{/other_user}","gists_url":"https://api.github.com/users/mouse07410/gists{/gist_id}","starred_url":"https://api.github.com/users/mouse07410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mouse07410/subscriptions","organizations_url":"https://api.github.com/users/mouse07410/orgs","repos_url":"https://api.github.com/users/mouse07410/repos","events_url":"https://api.github.com/users/mouse07410/events{/privacy}","received_events_url":"https://api.github.com/users/mouse07410/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":58,"created_at":"2023-03-27T19:52:52Z","updated_at":"2023-04-26T14:45:05Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### Updated\r\nTo make some details clear, as previous overly-generic description invited useless overly-generic observations, like \"could not replicate on Windows\".\r\n\r\n**Describe the bug**\r\n`ctest` crashes with `SIGTRAP`.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Build or get installed OpenSSL _system-wide_, e.g., in `/opt/local/libexec/openssl3`. For this test I used OpenSSL-3.1.0, and used Macports to get the binary installed.\r\n2. Build and install `liboqs` _system-wide_. I used `liboqs` master, and installed it in `opt/local`: `/opt/local/lib` for the shared library, `/opt/local/include` for the header files.\r\n3. Clone, build, and install this provider (don't forget to edit `openssl.cnf` as appropriate).\r\n4. `export OPENSSL_APP=/opt/local/libexec/openssl3/bin/openssl`, `export OPENSSL_MODULES=/opt/local/libexec/openssl3/lib/ossl-modules`\r\n5. _Optional?_ To make the environment closer to mine, install `pkcs11-provider` and GOST engine system-wide, and adjust `openssl.cnf` to point at them. \r\n6. _Further complication_ Install `oqs-provider` and make it available system-wide by adding it to `openssl.cnf`.\r\n7. Go to `_build` and do `ctest --output-on-failure`\r\n8. Observe the error report.\r\n\r\n**Expected behavior**\r\nTests passing.\r\n\r\n**Screenshots**\r\n<img width=\"718\" alt=\"Screenshot 2023-03-27 at 3 49 24 PM\" src=\"https://user-images.githubusercontent.com/5923577/228050759-876766f2-d3de-4c42-bf1c-1f4dab9978a2.png\">\r\n\r\n**Crash report**\r\n```\r\nTranslated Report (Full Report Below)\r\n-------------------------------------\r\n\r\nProcess:               oqs_test_kems [17508]\r\nPath:                  /Users/USER/*/oqs_test_kems\r\nIdentifier:            oqs_test_kems\r\nVersion:               ???\r\nCode Type:             ARM-64 (Native)\r\nParent Process:        ctest [17500]\r\nResponsible:           Terminal [983]\r\nUser ID:               501\r\n\r\nDate/Time:             2023-03-27 15:39:40.6519 -0400\r\nOS Version:            macOS 13.2.1 (22D68)\r\nReport Version:        12\r\nAnonymous UUID:        161C054B-E964-CDD3-5EBC-5A9DBE3E2AE2\r\n\r\n\r\nTime Awake Since Boot: 66000 seconds\r\n\r\nSystem Integrity Protection: enabled\r\n\r\nCrashed Thread:        0  Dispatch queue: com.apple.main-thread\r\n\r\nException Type:        EXC_BREAKPOINT (SIGTRAP)\r\nException Codes:       0x0000000000000001, 0x00000001a6283108\r\n\r\nTermination Reason:    Namespace SIGNAL, Code 5 Trace/BPT trap: 5\r\nTerminating Process:   exc handler [17508]\r\n\r\nApplication Specific Information:\r\nBUG IN CLIENT OF LIBPLATFORM: Trying to recursively lock an os_once_t\r\nAbort Cause 259\r\n\r\n\r\nThread 0 Crashed::  Dispatch queue: com.apple.main-thread\r\n0   libsystem_platform.dylib      \t       0x1a6283108 _os_once_gate_recursive_abort + 36\r\n1   libsystem_platform.dylib      \t       0x1a627f710 _os_once_gate_wait + 348\r\n2   libsystem_pthread.dylib       \t       0x1a624dd84 pthread_once + 100\r\n3   libcrypto.3.dylib             \t       0x1012bdfcc CRYPTO_THREAD_run_once + 12\r\n4   libcrypto.3.dylib             \t       0x1012d0ea4 ossl_obj_add_object + 236\r\n5   gostprov.dylib                \t       0x1015bf5b4 populate_gost_engine + 116\r\n6   gostprov.dylib                \t       0x1015bd478 OSSL_provider_init + 116\r\n7   libcrypto.3.dylib             \t       0x1012bbddc provider_activate + 260\r\n8   libcrypto.3.dylib             \t       0x1012bbc48 ossl_provider_activate + 56\r\n9   libcrypto.3.dylib             \t       0x1012ba93c provider_conf_init + 608\r\n10  libcrypto.3.dylib             \t       0x101212c4c CONF_modules_load + 856\r\n11  libcrypto.3.dylib             \t       0x101212ee8 CONF_modules_load_file_ex + 120\r\n12  libcrypto.3.dylib             \t       0x101213738 ossl_config_int + 68\r\n13  libcrypto.3.dylib             \t       0x1012b2400 ossl_init_config_ossl_ + 16\r\n14  libsystem_pthread.dylib       \t       0x1a624ddec __pthread_once_handler + 76\r\n15  libsystem_platform.dylib      \t       0x1a627d7e0 _os_once_callout + 32\r\n16  libsystem_pthread.dylib       \t       0x1a624dd84 pthread_once + 100\r\n17  libcrypto.3.dylib             \t       0x1012bdfcc CRYPTO_THREAD_run_once + 12\r\n18  libcrypto.3.dylib             \t       0x1012b2208 OPENSSL_init_crypto + 1104\r\n19  libcrypto.3.dylib             \t       0x1012d1098 obj_lock_initialise_ossl_ + 20\r\n20  libsystem_pthread.dylib       \t       0x1a624ddec __pthread_once_handler + 76\r\n21  libsystem_platform.dylib      \t       0x1a627d7e0 _os_once_callout + 32\r\n22  libsystem_pthread.dylib       \t       0x1a624dd84 pthread_once + 100\r\n23  libcrypto.3.dylib             \t       0x1012bdfcc CRYPTO_THREAD_run_once + 12\r\n24  libcrypto.3.dylib             \t       0x1012d0408 OBJ_sn2nid + 112\r\n25  libcrypto.3.dylib             \t       0x1012d02f4 OBJ_txt2obj + 216\r\n26  libcrypto.3.dylib             \t       0x1012d0944 OBJ_txt2nid + 20\r\n27  libcrypto.3.dylib             \t       0x1012bd048 core_obj_create + 36\r\n28  oqsprovider.0.5.0-dev.dylib   \t       0x100f73678 OSSL_provider_init + 292\r\n29  libcrypto.3.dylib             \t       0x1012bbddc provider_activate + 260\r\n30  libcrypto.3.dylib             \t       0x1012bbc48 ossl_provider_activate + 56\r\n31  libcrypto.3.dylib             \t       0x1012ba93c provider_conf_init + 608\r\n32  libcrypto.3.dylib             \t       0x101212c4c CONF_modules_load + 856\r\n33  libcrypto.3.dylib             \t       0x101212ee8 CONF_modules_load_file_ex + 120\r\n34  libcrypto.3.dylib             \t       0x1012af1a4 OSSL_LIB_CTX_load_config + 20\r\n35  oqs_test_kems                 \t       0x100de7420 main + 80\r\n36  dyld                          \t       0x1a5f27e50 start + 2544\r\n\r\n\r\nThread 0 crashed with ARM Thread State (64-bit):\r\n    x0: 0x0000000000000103   x1: 0x000000016f019b90   x2: 0x00000001a624dda0   x3: 0x0000000000000103\r\n    x4: 0x000000000000000a   x5: 0x0000000024200000   x6: 0x0000000000000000   x7: 0x0000000000000500\r\n    x8: 0x0000000000000103   x9: 0x0000000000000103  x10: 0x0000000000000103  x11: 0x0000600000fb8000\r\n   x12: 0x0000000000000010  x13: 0x00000000fffffcee  x14: 0x00000000000007fb  x15: 0x00000000a4188ffb\r\n   x16: 0x00000001a627d760  x17: 0x00000002066400a0  x18: 0x0000000000000000  x19: 0x0000000101438d58\r\n   x20: 0x0000000000000103  x21: 0x00000001a624dda0  x22: 0x000000016f019b90  x23: 0x0000000000000103\r\n   x24: 0x0000000000000103  x25: 0x0000000000000000  x26: 0x0000000000000002  x27: 0x0000000000000002\r\n   x28: 0x0000600000fa4000   fp: 0x000000016f019b80   lr: 0x00000001a627f710\r\n    sp: 0x000000016f019b50   pc: 0x00000001a6283108 cpsr: 0x60001000\r\n   far: 0x00000001ff2bc0b8  esr: 0xf2000001 (Breakpoint) brk 1\r\n```\r\n\r\n**Environment (please complete the following information):**\r\n - OS: MacOS Ventura 13.2.1\r\n - OpenSSL version 3.1.0\r\n - This provider version: current master (0.5.0-dev)\r\n\r\n**Additional context**\r\nThis is on MacBook Pro - Apple Silicon M2 chip. Similar problem on Intel-based iMac (used same process as above).\r\n\r\n**Note:** commenting out, e.g., GOST provider in `openssl.cnf` did not help.\r\n\r\n```\r\n$ openssl version\r\nOpenSSL 3.1.0 14 Mar 2023 (Library: OpenSSL 3.1.0 14 Mar 2023)\r\n$ openssl list -providers\r\nProviders:\r\n  base\r\n    name: OpenSSL Base Provider\r\n    version: 3.1.0\r\n    status: active\r\n  default\r\n    name: OpenSSL Default Provider\r\n    version: 3.1.0\r\n    status: active\r\n  gost\r\n    name: OpenSSL GOST Provider\r\n    status: active\r\n  legacy\r\n    name: OpenSSL Legacy Provider\r\n    version: 3.1.0\r\n    status: active\r\n  oqs\r\n    name: OpenSSL OQS Provider\r\n    version: 0.5.0-dev\r\n    status: active\r\n  pkcs11\r\n    name: PKCS#11 Provider\r\n    version: 3.1.0\r\n    status: active\r\n$ \r\n```\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1523546788","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/132#issuecomment-1523546788","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132","id":1523546788,"node_id":"IC_kwDOE_A9l85az3qk","user":{"login":"mouse07410","id":5923577,"node_id":"MDQ6VXNlcjU5MjM1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5923577?v=4","gravatar_id":"","url":"https://api.github.com/users/mouse07410","html_url":"https://github.com/mouse07410","followers_url":"https://api.github.com/users/mouse07410/followers","following_url":"https://api.github.com/users/mouse07410/following{/other_user}","gists_url":"https://api.github.com/users/mouse07410/gists{/gist_id}","starred_url":"https://api.github.com/users/mouse07410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mouse07410/subscriptions","organizations_url":"https://api.github.com/users/mouse07410/orgs","repos_url":"https://api.github.com/users/mouse07410/repos","events_url":"https://api.github.com/users/mouse07410/events{/privacy}","received_events_url":"https://api.github.com/users/mouse07410/received_events","type":"User","site_admin":false},"created_at":"2023-04-26T14:45:04Z","updated_at":"2023-04-26T14:45:04Z","author_association":"NONE","body":"The problem seems to be related to multiple calls to something supposed to be called only once, and this time it's not related to GOST provider or engine (engines and GOST are disabled):\r\n```text\r\nApplication Specific Information:\r\nBUG IN CLIENT OF LIBPLATFORM: Trying to recursively lock an os_once_t\r\nAbort Cause 259\r\n\r\n\r\nThread 0 Crashed::  Dispatch queue: com.apple.main-thread\r\n0   libsystem_platform.dylib      \t       0x19f5d5260 _os_once_gate_recursive_abort + 36\r\n1   libsystem_platform.dylib      \t       0x19f5d1ed8 _os_once_gate_wait + 348\r\n2   libsystem_pthread.dylib       \t       0x19f59fcf8 pthread_once + 100\r\n3   libcrypto.3.dylib             \t       0x101111fcc CRYPTO_THREAD_run_once + 12\r\n4   libcrypto.3.dylib             \t       0x101124408 OBJ_sn2nid + 112\r\n5   libcrypto.3.dylib             \t       0x1011242f4 OBJ_txt2obj + 216\r\n6   libcrypto.3.dylib             \t       0x101124944 OBJ_txt2nid + 20\r\n7   libcrypto.3.dylib             \t       0x101111048 core_obj_create + 36\r\n8   oqsprovider.0.5.0-dev.dylib   \t       0x101403bbc OSSL_provider_init + 280 (oqsprov.c:620)\r\n9   libcrypto.3.dylib             \t       0x10110fddc provider_activate + 260\r\n10  libcrypto.3.dylib             \t       0x10110fc48 ossl_provider_activate + 56\r\n11  libcrypto.3.dylib             \t       0x10110e93c provider_conf_init + 608\r\n12  libcrypto.3.dylib             \t       0x101066c4c CONF_modules_load + 856\r\n13  libcrypto.3.dylib             \t       0x101066ee8 CONF_modules_load_file_ex + 120\r\n14  libcrypto.3.dylib             \t       0x101067738 ossl_config_int + 68\r\n15  libcrypto.3.dylib             \t       0x101106400 ossl_init_config_ossl_ + 16\r\n16  libsystem_pthread.dylib       \t       0x19f59fd60 __pthread_once_handler + 76\r\n17  libsystem_platform.dylib      \t       0x19f5cffa0 _os_once_callout + 32\r\n18  libsystem_pthread.dylib       \t       0x19f59fcf8 pthread_once + 100\r\n19  libcrypto.3.dylib             \t       0x101111fcc CRYPTO_THREAD_run_once + 12\r\n20  libcrypto.3.dylib             \t       0x101106208 OPENSSL_init_crypto + 1104\r\n21  libcrypto.3.dylib             \t       0x101125098 obj_lock_initialise_ossl_ + 20\r\n22  libsystem_pthread.dylib       \t       0x19f59fd60 __pthread_once_handler + 76\r\n23  libsystem_platform.dylib      \t       0x19f5cffa0 _os_once_callout + 32\r\n24  libsystem_pthread.dylib       \t       0x19f59fcf8 pthread_once + 100\r\n25  libcrypto.3.dylib             \t       0x101111fcc CRYPTO_THREAD_run_once + 12\r\n26  libcrypto.3.dylib             \t       0x101124408 OBJ_sn2nid + 112\r\n27  libcrypto.3.dylib             \t       0x1011242f4 OBJ_txt2obj + 216\r\n28  libcrypto.3.dylib             \t       0x101124944 OBJ_txt2nid + 20\r\n29  libcrypto.3.dylib             \t       0x101111048 core_obj_create + 36\r\n30  oqsprovider.0.5.0-dev.dylib   \t       0x100dffbbc OSSL_provider_init + 280 (oqsprov.c:620)\r\n31  libcrypto.3.dylib             \t       0x10110fddc provider_activate + 260\r\n32  libcrypto.3.dylib             \t       0x10110fc48 ossl_provider_activate + 56\r\n33  libcrypto.3.dylib             \t       0x10110e93c provider_conf_init + 608\r\n34  libcrypto.3.dylib             \t       0x101066c4c CONF_modules_load + 856\r\n35  libcrypto.3.dylib             \t       0x101066ee8 CONF_modules_load_file_ex + 120\r\n36  libcrypto.3.dylib             \t       0x1011031a4 OSSL_LIB_CTX_load_config + 20\r\n37  oqs_test_kems                 \t       0x100c772e0 main + 84 (oqs_test_kems.c:153)\r\n38  dyld                          \t       0x19f24bf28 start + 2236\r\n```\r\n\r\n@levitte do you have an opinion here?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1523546788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-04-26T14:45:05Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"28679569180","type":"IssueCommentEvent","actor":{"id":7422273,"login":"mattcaswell","display_login":"mattcaswell","gravatar_id":"","url":"https://api.github.com/users/mattcaswell","avatar_url":"https://avatars.githubusercontent.com/u/7422273?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/132","id":1642717023,"node_id":"I_kwDOE_A9l85h6d9f","number":132,"title":"Unable to run tests on OSX","user":{"login":"mouse07410","id":5923577,"node_id":"MDQ6VXNlcjU5MjM1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5923577?v=4","gravatar_id":"","url":"https://api.github.com/users/mouse07410","html_url":"https://github.com/mouse07410","followers_url":"https://api.github.com/users/mouse07410/followers","following_url":"https://api.github.com/users/mouse07410/following{/other_user}","gists_url":"https://api.github.com/users/mouse07410/gists{/gist_id}","starred_url":"https://api.github.com/users/mouse07410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mouse07410/subscriptions","organizations_url":"https://api.github.com/users/mouse07410/orgs","repos_url":"https://api.github.com/users/mouse07410/repos","events_url":"https://api.github.com/users/mouse07410/events{/privacy}","received_events_url":"https://api.github.com/users/mouse07410/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":59,"created_at":"2023-03-27T19:52:52Z","updated_at":"2023-04-26T14:50:51Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### Updated\r\nTo make some details clear, as previous overly-generic description invited useless overly-generic observations, like \"could not replicate on Windows\".\r\n\r\n**Describe the bug**\r\n`ctest` crashes with `SIGTRAP`.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Build or get installed OpenSSL _system-wide_, e.g., in `/opt/local/libexec/openssl3`. For this test I used OpenSSL-3.1.0, and used Macports to get the binary installed.\r\n2. Build and install `liboqs` _system-wide_. I used `liboqs` master, and installed it in `opt/local`: `/opt/local/lib` for the shared library, `/opt/local/include` for the header files.\r\n3. Clone, build, and install this provider (don't forget to edit `openssl.cnf` as appropriate).\r\n4. `export OPENSSL_APP=/opt/local/libexec/openssl3/bin/openssl`, `export OPENSSL_MODULES=/opt/local/libexec/openssl3/lib/ossl-modules`\r\n5. _Optional?_ To make the environment closer to mine, install `pkcs11-provider` and GOST engine system-wide, and adjust `openssl.cnf` to point at them. \r\n6. _Further complication_ Install `oqs-provider` and make it available system-wide by adding it to `openssl.cnf`.\r\n7. Go to `_build` and do `ctest --output-on-failure`\r\n8. Observe the error report.\r\n\r\n**Expected behavior**\r\nTests passing.\r\n\r\n**Screenshots**\r\n<img width=\"718\" alt=\"Screenshot 2023-03-27 at 3 49 24 PM\" src=\"https://user-images.githubusercontent.com/5923577/228050759-876766f2-d3de-4c42-bf1c-1f4dab9978a2.png\">\r\n\r\n**Crash report**\r\n```\r\nTranslated Report (Full Report Below)\r\n-------------------------------------\r\n\r\nProcess:               oqs_test_kems [17508]\r\nPath:                  /Users/USER/*/oqs_test_kems\r\nIdentifier:            oqs_test_kems\r\nVersion:               ???\r\nCode Type:             ARM-64 (Native)\r\nParent Process:        ctest [17500]\r\nResponsible:           Terminal [983]\r\nUser ID:               501\r\n\r\nDate/Time:             2023-03-27 15:39:40.6519 -0400\r\nOS Version:            macOS 13.2.1 (22D68)\r\nReport Version:        12\r\nAnonymous UUID:        161C054B-E964-CDD3-5EBC-5A9DBE3E2AE2\r\n\r\n\r\nTime Awake Since Boot: 66000 seconds\r\n\r\nSystem Integrity Protection: enabled\r\n\r\nCrashed Thread:        0  Dispatch queue: com.apple.main-thread\r\n\r\nException Type:        EXC_BREAKPOINT (SIGTRAP)\r\nException Codes:       0x0000000000000001, 0x00000001a6283108\r\n\r\nTermination Reason:    Namespace SIGNAL, Code 5 Trace/BPT trap: 5\r\nTerminating Process:   exc handler [17508]\r\n\r\nApplication Specific Information:\r\nBUG IN CLIENT OF LIBPLATFORM: Trying to recursively lock an os_once_t\r\nAbort Cause 259\r\n\r\n\r\nThread 0 Crashed::  Dispatch queue: com.apple.main-thread\r\n0   libsystem_platform.dylib      \t       0x1a6283108 _os_once_gate_recursive_abort + 36\r\n1   libsystem_platform.dylib      \t       0x1a627f710 _os_once_gate_wait + 348\r\n2   libsystem_pthread.dylib       \t       0x1a624dd84 pthread_once + 100\r\n3   libcrypto.3.dylib             \t       0x1012bdfcc CRYPTO_THREAD_run_once + 12\r\n4   libcrypto.3.dylib             \t       0x1012d0ea4 ossl_obj_add_object + 236\r\n5   gostprov.dylib                \t       0x1015bf5b4 populate_gost_engine + 116\r\n6   gostprov.dylib                \t       0x1015bd478 OSSL_provider_init + 116\r\n7   libcrypto.3.dylib             \t       0x1012bbddc provider_activate + 260\r\n8   libcrypto.3.dylib             \t       0x1012bbc48 ossl_provider_activate + 56\r\n9   libcrypto.3.dylib             \t       0x1012ba93c provider_conf_init + 608\r\n10  libcrypto.3.dylib             \t       0x101212c4c CONF_modules_load + 856\r\n11  libcrypto.3.dylib             \t       0x101212ee8 CONF_modules_load_file_ex + 120\r\n12  libcrypto.3.dylib             \t       0x101213738 ossl_config_int + 68\r\n13  libcrypto.3.dylib             \t       0x1012b2400 ossl_init_config_ossl_ + 16\r\n14  libsystem_pthread.dylib       \t       0x1a624ddec __pthread_once_handler + 76\r\n15  libsystem_platform.dylib      \t       0x1a627d7e0 _os_once_callout + 32\r\n16  libsystem_pthread.dylib       \t       0x1a624dd84 pthread_once + 100\r\n17  libcrypto.3.dylib             \t       0x1012bdfcc CRYPTO_THREAD_run_once + 12\r\n18  libcrypto.3.dylib             \t       0x1012b2208 OPENSSL_init_crypto + 1104\r\n19  libcrypto.3.dylib             \t       0x1012d1098 obj_lock_initialise_ossl_ + 20\r\n20  libsystem_pthread.dylib       \t       0x1a624ddec __pthread_once_handler + 76\r\n21  libsystem_platform.dylib      \t       0x1a627d7e0 _os_once_callout + 32\r\n22  libsystem_pthread.dylib       \t       0x1a624dd84 pthread_once + 100\r\n23  libcrypto.3.dylib             \t       0x1012bdfcc CRYPTO_THREAD_run_once + 12\r\n24  libcrypto.3.dylib             \t       0x1012d0408 OBJ_sn2nid + 112\r\n25  libcrypto.3.dylib             \t       0x1012d02f4 OBJ_txt2obj + 216\r\n26  libcrypto.3.dylib             \t       0x1012d0944 OBJ_txt2nid + 20\r\n27  libcrypto.3.dylib             \t       0x1012bd048 core_obj_create + 36\r\n28  oqsprovider.0.5.0-dev.dylib   \t       0x100f73678 OSSL_provider_init + 292\r\n29  libcrypto.3.dylib             \t       0x1012bbddc provider_activate + 260\r\n30  libcrypto.3.dylib             \t       0x1012bbc48 ossl_provider_activate + 56\r\n31  libcrypto.3.dylib             \t       0x1012ba93c provider_conf_init + 608\r\n32  libcrypto.3.dylib             \t       0x101212c4c CONF_modules_load + 856\r\n33  libcrypto.3.dylib             \t       0x101212ee8 CONF_modules_load_file_ex + 120\r\n34  libcrypto.3.dylib             \t       0x1012af1a4 OSSL_LIB_CTX_load_config + 20\r\n35  oqs_test_kems                 \t       0x100de7420 main + 80\r\n36  dyld                          \t       0x1a5f27e50 start + 2544\r\n\r\n\r\nThread 0 crashed with ARM Thread State (64-bit):\r\n    x0: 0x0000000000000103   x1: 0x000000016f019b90   x2: 0x00000001a624dda0   x3: 0x0000000000000103\r\n    x4: 0x000000000000000a   x5: 0x0000000024200000   x6: 0x0000000000000000   x7: 0x0000000000000500\r\n    x8: 0x0000000000000103   x9: 0x0000000000000103  x10: 0x0000000000000103  x11: 0x0000600000fb8000\r\n   x12: 0x0000000000000010  x13: 0x00000000fffffcee  x14: 0x00000000000007fb  x15: 0x00000000a4188ffb\r\n   x16: 0x00000001a627d760  x17: 0x00000002066400a0  x18: 0x0000000000000000  x19: 0x0000000101438d58\r\n   x20: 0x0000000000000103  x21: 0x00000001a624dda0  x22: 0x000000016f019b90  x23: 0x0000000000000103\r\n   x24: 0x0000000000000103  x25: 0x0000000000000000  x26: 0x0000000000000002  x27: 0x0000000000000002\r\n   x28: 0x0000600000fa4000   fp: 0x000000016f019b80   lr: 0x00000001a627f710\r\n    sp: 0x000000016f019b50   pc: 0x00000001a6283108 cpsr: 0x60001000\r\n   far: 0x00000001ff2bc0b8  esr: 0xf2000001 (Breakpoint) brk 1\r\n```\r\n\r\n**Environment (please complete the following information):**\r\n - OS: MacOS Ventura 13.2.1\r\n - OpenSSL version 3.1.0\r\n - This provider version: current master (0.5.0-dev)\r\n\r\n**Additional context**\r\nThis is on MacBook Pro - Apple Silicon M2 chip. Similar problem on Intel-based iMac (used same process as above).\r\n\r\n**Note:** commenting out, e.g., GOST provider in `openssl.cnf` did not help.\r\n\r\n```\r\n$ openssl version\r\nOpenSSL 3.1.0 14 Mar 2023 (Library: OpenSSL 3.1.0 14 Mar 2023)\r\n$ openssl list -providers\r\nProviders:\r\n  base\r\n    name: OpenSSL Base Provider\r\n    version: 3.1.0\r\n    status: active\r\n  default\r\n    name: OpenSSL Default Provider\r\n    version: 3.1.0\r\n    status: active\r\n  gost\r\n    name: OpenSSL GOST Provider\r\n    status: active\r\n  legacy\r\n    name: OpenSSL Legacy Provider\r\n    version: 3.1.0\r\n    status: active\r\n  oqs\r\n    name: OpenSSL OQS Provider\r\n    version: 0.5.0-dev\r\n    status: active\r\n  pkcs11\r\n    name: PKCS#11 Provider\r\n    version: 3.1.0\r\n    status: active\r\n$ \r\n```\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1523555903","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/132#issuecomment-1523555903","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132","id":1523555903,"node_id":"IC_kwDOE_A9l85az54_","user":{"login":"mattcaswell","id":7422273,"node_id":"MDQ6VXNlcjc0MjIyNzM=","avatar_url":"https://avatars.githubusercontent.com/u/7422273?v=4","gravatar_id":"","url":"https://api.github.com/users/mattcaswell","html_url":"https://github.com/mattcaswell","followers_url":"https://api.github.com/users/mattcaswell/followers","following_url":"https://api.github.com/users/mattcaswell/following{/other_user}","gists_url":"https://api.github.com/users/mattcaswell/gists{/gist_id}","starred_url":"https://api.github.com/users/mattcaswell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattcaswell/subscriptions","organizations_url":"https://api.github.com/users/mattcaswell/orgs","repos_url":"https://api.github.com/users/mattcaswell/repos","events_url":"https://api.github.com/users/mattcaswell/events{/privacy}","received_events_url":"https://api.github.com/users/mattcaswell/received_events","type":"User","site_admin":false},"created_at":"2023-04-26T14:50:50Z","updated_at":"2023-04-26T14:50:50Z","author_association":"NONE","body":"This looks like a different instance of the same problem as fixed by openssl/openssl#20662.\r\n\r\nIn your callstack above you can see these lines which were the cause of the original problem (i.e. calling OPENSSL_init_crypto from obj_lock_initialise):\r\n\r\n20  libcrypto.3.dylib             \t       0x101106208 OPENSSL_init_crypto + 1104\r\n21  libcrypto.3.dylib             \t       0x101125098 obj_lock_initialise_ossl_ + 20\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1523555903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-04-26T14:50:51Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"28680424432","type":"IssueCommentEvent","actor":{"id":5923577,"login":"mouse07410","display_login":"mouse07410","gravatar_id":"","url":"https://api.github.com/users/mouse07410","avatar_url":"https://avatars.githubusercontent.com/u/5923577?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/132","id":1642717023,"node_id":"I_kwDOE_A9l85h6d9f","number":132,"title":"Unable to run tests on OSX","user":{"login":"mouse07410","id":5923577,"node_id":"MDQ6VXNlcjU5MjM1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5923577?v=4","gravatar_id":"","url":"https://api.github.com/users/mouse07410","html_url":"https://github.com/mouse07410","followers_url":"https://api.github.com/users/mouse07410/followers","following_url":"https://api.github.com/users/mouse07410/following{/other_user}","gists_url":"https://api.github.com/users/mouse07410/gists{/gist_id}","starred_url":"https://api.github.com/users/mouse07410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mouse07410/subscriptions","organizations_url":"https://api.github.com/users/mouse07410/orgs","repos_url":"https://api.github.com/users/mouse07410/repos","events_url":"https://api.github.com/users/mouse07410/events{/privacy}","received_events_url":"https://api.github.com/users/mouse07410/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":60,"created_at":"2023-03-27T19:52:52Z","updated_at":"2023-04-26T15:19:59Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### Updated\r\nTo make some details clear, as previous overly-generic description invited useless overly-generic observations, like \"could not replicate on Windows\".\r\n\r\n**Describe the bug**\r\n`ctest` crashes with `SIGTRAP`.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Build or get installed OpenSSL _system-wide_, e.g., in `/opt/local/libexec/openssl3`. For this test I used OpenSSL-3.1.0, and used Macports to get the binary installed.\r\n2. Build and install `liboqs` _system-wide_. I used `liboqs` master, and installed it in `opt/local`: `/opt/local/lib` for the shared library, `/opt/local/include` for the header files.\r\n3. Clone, build, and install this provider (don't forget to edit `openssl.cnf` as appropriate).\r\n4. `export OPENSSL_APP=/opt/local/libexec/openssl3/bin/openssl`, `export OPENSSL_MODULES=/opt/local/libexec/openssl3/lib/ossl-modules`\r\n5. _Optional?_ To make the environment closer to mine, install `pkcs11-provider` and GOST engine system-wide, and adjust `openssl.cnf` to point at them. \r\n6. _Further complication_ Install `oqs-provider` and make it available system-wide by adding it to `openssl.cnf`.\r\n7. Go to `_build` and do `ctest --output-on-failure`\r\n8. Observe the error report.\r\n\r\n**Expected behavior**\r\nTests passing.\r\n\r\n**Screenshots**\r\n<img width=\"718\" alt=\"Screenshot 2023-03-27 at 3 49 24 PM\" src=\"https://user-images.githubusercontent.com/5923577/228050759-876766f2-d3de-4c42-bf1c-1f4dab9978a2.png\">\r\n\r\n**Crash report**\r\n```\r\nTranslated Report (Full Report Below)\r\n-------------------------------------\r\n\r\nProcess:               oqs_test_kems [17508]\r\nPath:                  /Users/USER/*/oqs_test_kems\r\nIdentifier:            oqs_test_kems\r\nVersion:               ???\r\nCode Type:             ARM-64 (Native)\r\nParent Process:        ctest [17500]\r\nResponsible:           Terminal [983]\r\nUser ID:               501\r\n\r\nDate/Time:             2023-03-27 15:39:40.6519 -0400\r\nOS Version:            macOS 13.2.1 (22D68)\r\nReport Version:        12\r\nAnonymous UUID:        161C054B-E964-CDD3-5EBC-5A9DBE3E2AE2\r\n\r\n\r\nTime Awake Since Boot: 66000 seconds\r\n\r\nSystem Integrity Protection: enabled\r\n\r\nCrashed Thread:        0  Dispatch queue: com.apple.main-thread\r\n\r\nException Type:        EXC_BREAKPOINT (SIGTRAP)\r\nException Codes:       0x0000000000000001, 0x00000001a6283108\r\n\r\nTermination Reason:    Namespace SIGNAL, Code 5 Trace/BPT trap: 5\r\nTerminating Process:   exc handler [17508]\r\n\r\nApplication Specific Information:\r\nBUG IN CLIENT OF LIBPLATFORM: Trying to recursively lock an os_once_t\r\nAbort Cause 259\r\n\r\n\r\nThread 0 Crashed::  Dispatch queue: com.apple.main-thread\r\n0   libsystem_platform.dylib      \t       0x1a6283108 _os_once_gate_recursive_abort + 36\r\n1   libsystem_platform.dylib      \t       0x1a627f710 _os_once_gate_wait + 348\r\n2   libsystem_pthread.dylib       \t       0x1a624dd84 pthread_once + 100\r\n3   libcrypto.3.dylib             \t       0x1012bdfcc CRYPTO_THREAD_run_once + 12\r\n4   libcrypto.3.dylib             \t       0x1012d0ea4 ossl_obj_add_object + 236\r\n5   gostprov.dylib                \t       0x1015bf5b4 populate_gost_engine + 116\r\n6   gostprov.dylib                \t       0x1015bd478 OSSL_provider_init + 116\r\n7   libcrypto.3.dylib             \t       0x1012bbddc provider_activate + 260\r\n8   libcrypto.3.dylib             \t       0x1012bbc48 ossl_provider_activate + 56\r\n9   libcrypto.3.dylib             \t       0x1012ba93c provider_conf_init + 608\r\n10  libcrypto.3.dylib             \t       0x101212c4c CONF_modules_load + 856\r\n11  libcrypto.3.dylib             \t       0x101212ee8 CONF_modules_load_file_ex + 120\r\n12  libcrypto.3.dylib             \t       0x101213738 ossl_config_int + 68\r\n13  libcrypto.3.dylib             \t       0x1012b2400 ossl_init_config_ossl_ + 16\r\n14  libsystem_pthread.dylib       \t       0x1a624ddec __pthread_once_handler + 76\r\n15  libsystem_platform.dylib      \t       0x1a627d7e0 _os_once_callout + 32\r\n16  libsystem_pthread.dylib       \t       0x1a624dd84 pthread_once + 100\r\n17  libcrypto.3.dylib             \t       0x1012bdfcc CRYPTO_THREAD_run_once + 12\r\n18  libcrypto.3.dylib             \t       0x1012b2208 OPENSSL_init_crypto + 1104\r\n19  libcrypto.3.dylib             \t       0x1012d1098 obj_lock_initialise_ossl_ + 20\r\n20  libsystem_pthread.dylib       \t       0x1a624ddec __pthread_once_handler + 76\r\n21  libsystem_platform.dylib      \t       0x1a627d7e0 _os_once_callout + 32\r\n22  libsystem_pthread.dylib       \t       0x1a624dd84 pthread_once + 100\r\n23  libcrypto.3.dylib             \t       0x1012bdfcc CRYPTO_THREAD_run_once + 12\r\n24  libcrypto.3.dylib             \t       0x1012d0408 OBJ_sn2nid + 112\r\n25  libcrypto.3.dylib             \t       0x1012d02f4 OBJ_txt2obj + 216\r\n26  libcrypto.3.dylib             \t       0x1012d0944 OBJ_txt2nid + 20\r\n27  libcrypto.3.dylib             \t       0x1012bd048 core_obj_create + 36\r\n28  oqsprovider.0.5.0-dev.dylib   \t       0x100f73678 OSSL_provider_init + 292\r\n29  libcrypto.3.dylib             \t       0x1012bbddc provider_activate + 260\r\n30  libcrypto.3.dylib             \t       0x1012bbc48 ossl_provider_activate + 56\r\n31  libcrypto.3.dylib             \t       0x1012ba93c provider_conf_init + 608\r\n32  libcrypto.3.dylib             \t       0x101212c4c CONF_modules_load + 856\r\n33  libcrypto.3.dylib             \t       0x101212ee8 CONF_modules_load_file_ex + 120\r\n34  libcrypto.3.dylib             \t       0x1012af1a4 OSSL_LIB_CTX_load_config + 20\r\n35  oqs_test_kems                 \t       0x100de7420 main + 80\r\n36  dyld                          \t       0x1a5f27e50 start + 2544\r\n\r\n\r\nThread 0 crashed with ARM Thread State (64-bit):\r\n    x0: 0x0000000000000103   x1: 0x000000016f019b90   x2: 0x00000001a624dda0   x3: 0x0000000000000103\r\n    x4: 0x000000000000000a   x5: 0x0000000024200000   x6: 0x0000000000000000   x7: 0x0000000000000500\r\n    x8: 0x0000000000000103   x9: 0x0000000000000103  x10: 0x0000000000000103  x11: 0x0000600000fb8000\r\n   x12: 0x0000000000000010  x13: 0x00000000fffffcee  x14: 0x00000000000007fb  x15: 0x00000000a4188ffb\r\n   x16: 0x00000001a627d760  x17: 0x00000002066400a0  x18: 0x0000000000000000  x19: 0x0000000101438d58\r\n   x20: 0x0000000000000103  x21: 0x00000001a624dda0  x22: 0x000000016f019b90  x23: 0x0000000000000103\r\n   x24: 0x0000000000000103  x25: 0x0000000000000000  x26: 0x0000000000000002  x27: 0x0000000000000002\r\n   x28: 0x0000600000fa4000   fp: 0x000000016f019b80   lr: 0x00000001a627f710\r\n    sp: 0x000000016f019b50   pc: 0x00000001a6283108 cpsr: 0x60001000\r\n   far: 0x00000001ff2bc0b8  esr: 0xf2000001 (Breakpoint) brk 1\r\n```\r\n\r\n**Environment (please complete the following information):**\r\n - OS: MacOS Ventura 13.2.1\r\n - OpenSSL version 3.1.0\r\n - This provider version: current master (0.5.0-dev)\r\n\r\n**Additional context**\r\nThis is on MacBook Pro - Apple Silicon M2 chip. Similar problem on Intel-based iMac (used same process as above).\r\n\r\n**Note:** commenting out, e.g., GOST provider in `openssl.cnf` did not help.\r\n\r\n```\r\n$ openssl version\r\nOpenSSL 3.1.0 14 Mar 2023 (Library: OpenSSL 3.1.0 14 Mar 2023)\r\n$ openssl list -providers\r\nProviders:\r\n  base\r\n    name: OpenSSL Base Provider\r\n    version: 3.1.0\r\n    status: active\r\n  default\r\n    name: OpenSSL Default Provider\r\n    version: 3.1.0\r\n    status: active\r\n  gost\r\n    name: OpenSSL GOST Provider\r\n    status: active\r\n  legacy\r\n    name: OpenSSL Legacy Provider\r\n    version: 3.1.0\r\n    status: active\r\n  oqs\r\n    name: OpenSSL OQS Provider\r\n    version: 0.5.0-dev\r\n    status: active\r\n  pkcs11\r\n    name: PKCS#11 Provider\r\n    version: 3.1.0\r\n    status: active\r\n$ \r\n```\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1523604353","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/132#issuecomment-1523604353","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132","id":1523604353,"node_id":"IC_kwDOE_A9l85a0FuB","user":{"login":"mouse07410","id":5923577,"node_id":"MDQ6VXNlcjU5MjM1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5923577?v=4","gravatar_id":"","url":"https://api.github.com/users/mouse07410","html_url":"https://github.com/mouse07410","followers_url":"https://api.github.com/users/mouse07410/followers","following_url":"https://api.github.com/users/mouse07410/following{/other_user}","gists_url":"https://api.github.com/users/mouse07410/gists{/gist_id}","starred_url":"https://api.github.com/users/mouse07410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mouse07410/subscriptions","organizations_url":"https://api.github.com/users/mouse07410/orgs","repos_url":"https://api.github.com/users/mouse07410/repos","events_url":"https://api.github.com/users/mouse07410/events{/privacy}","received_events_url":"https://api.github.com/users/mouse07410/received_events","type":"User","site_admin":false},"created_at":"2023-04-26T15:19:58Z","updated_at":"2023-04-26T15:19:58Z","author_association":"NONE","body":"> This looks like a different instance of the same problem as fixed by https://github.com/openssl/openssl/pull/20662.\r\n\r\nYes, probably - but (a) where in your opinion the root cause is (aka, what component issues those improper calls, and why), and (b) how do we fix it, and where (in what component)?\r\n\r\nAlso, it looks like the fix was merged two-three weeks ago into 3.1, so should've been picked by Macports by now? I'm trying to understand why I don't see the behavior change yet on my machines...","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1523604353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-04-26T15:19:59Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"28681268713","type":"IssueCommentEvent","actor":{"id":7422273,"login":"mattcaswell","display_login":"mattcaswell","gravatar_id":"","url":"https://api.github.com/users/mattcaswell","avatar_url":"https://avatars.githubusercontent.com/u/7422273?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/132","id":1642717023,"node_id":"I_kwDOE_A9l85h6d9f","number":132,"title":"Unable to run tests on OSX","user":{"login":"mouse07410","id":5923577,"node_id":"MDQ6VXNlcjU5MjM1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5923577?v=4","gravatar_id":"","url":"https://api.github.com/users/mouse07410","html_url":"https://github.com/mouse07410","followers_url":"https://api.github.com/users/mouse07410/followers","following_url":"https://api.github.com/users/mouse07410/following{/other_user}","gists_url":"https://api.github.com/users/mouse07410/gists{/gist_id}","starred_url":"https://api.github.com/users/mouse07410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mouse07410/subscriptions","organizations_url":"https://api.github.com/users/mouse07410/orgs","repos_url":"https://api.github.com/users/mouse07410/repos","events_url":"https://api.github.com/users/mouse07410/events{/privacy}","received_events_url":"https://api.github.com/users/mouse07410/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":61,"created_at":"2023-03-27T19:52:52Z","updated_at":"2023-04-26T15:51:20Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### Updated\r\nTo make some details clear, as previous overly-generic description invited useless overly-generic observations, like \"could not replicate on Windows\".\r\n\r\n**Describe the bug**\r\n`ctest` crashes with `SIGTRAP`.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Build or get installed OpenSSL _system-wide_, e.g., in `/opt/local/libexec/openssl3`. For this test I used OpenSSL-3.1.0, and used Macports to get the binary installed.\r\n2. Build and install `liboqs` _system-wide_. I used `liboqs` master, and installed it in `opt/local`: `/opt/local/lib` for the shared library, `/opt/local/include` for the header files.\r\n3. Clone, build, and install this provider (don't forget to edit `openssl.cnf` as appropriate).\r\n4. `export OPENSSL_APP=/opt/local/libexec/openssl3/bin/openssl`, `export OPENSSL_MODULES=/opt/local/libexec/openssl3/lib/ossl-modules`\r\n5. _Optional?_ To make the environment closer to mine, install `pkcs11-provider` and GOST engine system-wide, and adjust `openssl.cnf` to point at them. \r\n6. _Further complication_ Install `oqs-provider` and make it available system-wide by adding it to `openssl.cnf`.\r\n7. Go to `_build` and do `ctest --output-on-failure`\r\n8. Observe the error report.\r\n\r\n**Expected behavior**\r\nTests passing.\r\n\r\n**Screenshots**\r\n<img width=\"718\" alt=\"Screenshot 2023-03-27 at 3 49 24 PM\" src=\"https://user-images.githubusercontent.com/5923577/228050759-876766f2-d3de-4c42-bf1c-1f4dab9978a2.png\">\r\n\r\n**Crash report**\r\n```\r\nTranslated Report (Full Report Below)\r\n-------------------------------------\r\n\r\nProcess:               oqs_test_kems [17508]\r\nPath:                  /Users/USER/*/oqs_test_kems\r\nIdentifier:            oqs_test_kems\r\nVersion:               ???\r\nCode Type:             ARM-64 (Native)\r\nParent Process:        ctest [17500]\r\nResponsible:           Terminal [983]\r\nUser ID:               501\r\n\r\nDate/Time:             2023-03-27 15:39:40.6519 -0400\r\nOS Version:            macOS 13.2.1 (22D68)\r\nReport Version:        12\r\nAnonymous UUID:        161C054B-E964-CDD3-5EBC-5A9DBE3E2AE2\r\n\r\n\r\nTime Awake Since Boot: 66000 seconds\r\n\r\nSystem Integrity Protection: enabled\r\n\r\nCrashed Thread:        0  Dispatch queue: com.apple.main-thread\r\n\r\nException Type:        EXC_BREAKPOINT (SIGTRAP)\r\nException Codes:       0x0000000000000001, 0x00000001a6283108\r\n\r\nTermination Reason:    Namespace SIGNAL, Code 5 Trace/BPT trap: 5\r\nTerminating Process:   exc handler [17508]\r\n\r\nApplication Specific Information:\r\nBUG IN CLIENT OF LIBPLATFORM: Trying to recursively lock an os_once_t\r\nAbort Cause 259\r\n\r\n\r\nThread 0 Crashed::  Dispatch queue: com.apple.main-thread\r\n0   libsystem_platform.dylib      \t       0x1a6283108 _os_once_gate_recursive_abort + 36\r\n1   libsystem_platform.dylib      \t       0x1a627f710 _os_once_gate_wait + 348\r\n2   libsystem_pthread.dylib       \t       0x1a624dd84 pthread_once + 100\r\n3   libcrypto.3.dylib             \t       0x1012bdfcc CRYPTO_THREAD_run_once + 12\r\n4   libcrypto.3.dylib             \t       0x1012d0ea4 ossl_obj_add_object + 236\r\n5   gostprov.dylib                \t       0x1015bf5b4 populate_gost_engine + 116\r\n6   gostprov.dylib                \t       0x1015bd478 OSSL_provider_init + 116\r\n7   libcrypto.3.dylib             \t       0x1012bbddc provider_activate + 260\r\n8   libcrypto.3.dylib             \t       0x1012bbc48 ossl_provider_activate + 56\r\n9   libcrypto.3.dylib             \t       0x1012ba93c provider_conf_init + 608\r\n10  libcrypto.3.dylib             \t       0x101212c4c CONF_modules_load + 856\r\n11  libcrypto.3.dylib             \t       0x101212ee8 CONF_modules_load_file_ex + 120\r\n12  libcrypto.3.dylib             \t       0x101213738 ossl_config_int + 68\r\n13  libcrypto.3.dylib             \t       0x1012b2400 ossl_init_config_ossl_ + 16\r\n14  libsystem_pthread.dylib       \t       0x1a624ddec __pthread_once_handler + 76\r\n15  libsystem_platform.dylib      \t       0x1a627d7e0 _os_once_callout + 32\r\n16  libsystem_pthread.dylib       \t       0x1a624dd84 pthread_once + 100\r\n17  libcrypto.3.dylib             \t       0x1012bdfcc CRYPTO_THREAD_run_once + 12\r\n18  libcrypto.3.dylib             \t       0x1012b2208 OPENSSL_init_crypto + 1104\r\n19  libcrypto.3.dylib             \t       0x1012d1098 obj_lock_initialise_ossl_ + 20\r\n20  libsystem_pthread.dylib       \t       0x1a624ddec __pthread_once_handler + 76\r\n21  libsystem_platform.dylib      \t       0x1a627d7e0 _os_once_callout + 32\r\n22  libsystem_pthread.dylib       \t       0x1a624dd84 pthread_once + 100\r\n23  libcrypto.3.dylib             \t       0x1012bdfcc CRYPTO_THREAD_run_once + 12\r\n24  libcrypto.3.dylib             \t       0x1012d0408 OBJ_sn2nid + 112\r\n25  libcrypto.3.dylib             \t       0x1012d02f4 OBJ_txt2obj + 216\r\n26  libcrypto.3.dylib             \t       0x1012d0944 OBJ_txt2nid + 20\r\n27  libcrypto.3.dylib             \t       0x1012bd048 core_obj_create + 36\r\n28  oqsprovider.0.5.0-dev.dylib   \t       0x100f73678 OSSL_provider_init + 292\r\n29  libcrypto.3.dylib             \t       0x1012bbddc provider_activate + 260\r\n30  libcrypto.3.dylib             \t       0x1012bbc48 ossl_provider_activate + 56\r\n31  libcrypto.3.dylib             \t       0x1012ba93c provider_conf_init + 608\r\n32  libcrypto.3.dylib             \t       0x101212c4c CONF_modules_load + 856\r\n33  libcrypto.3.dylib             \t       0x101212ee8 CONF_modules_load_file_ex + 120\r\n34  libcrypto.3.dylib             \t       0x1012af1a4 OSSL_LIB_CTX_load_config + 20\r\n35  oqs_test_kems                 \t       0x100de7420 main + 80\r\n36  dyld                          \t       0x1a5f27e50 start + 2544\r\n\r\n\r\nThread 0 crashed with ARM Thread State (64-bit):\r\n    x0: 0x0000000000000103   x1: 0x000000016f019b90   x2: 0x00000001a624dda0   x3: 0x0000000000000103\r\n    x4: 0x000000000000000a   x5: 0x0000000024200000   x6: 0x0000000000000000   x7: 0x0000000000000500\r\n    x8: 0x0000000000000103   x9: 0x0000000000000103  x10: 0x0000000000000103  x11: 0x0000600000fb8000\r\n   x12: 0x0000000000000010  x13: 0x00000000fffffcee  x14: 0x00000000000007fb  x15: 0x00000000a4188ffb\r\n   x16: 0x00000001a627d760  x17: 0x00000002066400a0  x18: 0x0000000000000000  x19: 0x0000000101438d58\r\n   x20: 0x0000000000000103  x21: 0x00000001a624dda0  x22: 0x000000016f019b90  x23: 0x0000000000000103\r\n   x24: 0x0000000000000103  x25: 0x0000000000000000  x26: 0x0000000000000002  x27: 0x0000000000000002\r\n   x28: 0x0000600000fa4000   fp: 0x000000016f019b80   lr: 0x00000001a627f710\r\n    sp: 0x000000016f019b50   pc: 0x00000001a6283108 cpsr: 0x60001000\r\n   far: 0x00000001ff2bc0b8  esr: 0xf2000001 (Breakpoint) brk 1\r\n```\r\n\r\n**Environment (please complete the following information):**\r\n - OS: MacOS Ventura 13.2.1\r\n - OpenSSL version 3.1.0\r\n - This provider version: current master (0.5.0-dev)\r\n\r\n**Additional context**\r\nThis is on MacBook Pro - Apple Silicon M2 chip. Similar problem on Intel-based iMac (used same process as above).\r\n\r\n**Note:** commenting out, e.g., GOST provider in `openssl.cnf` did not help.\r\n\r\n```\r\n$ openssl version\r\nOpenSSL 3.1.0 14 Mar 2023 (Library: OpenSSL 3.1.0 14 Mar 2023)\r\n$ openssl list -providers\r\nProviders:\r\n  base\r\n    name: OpenSSL Base Provider\r\n    version: 3.1.0\r\n    status: active\r\n  default\r\n    name: OpenSSL Default Provider\r\n    version: 3.1.0\r\n    status: active\r\n  gost\r\n    name: OpenSSL GOST Provider\r\n    status: active\r\n  legacy\r\n    name: OpenSSL Legacy Provider\r\n    version: 3.1.0\r\n    status: active\r\n  oqs\r\n    name: OpenSSL OQS Provider\r\n    version: 0.5.0-dev\r\n    status: active\r\n  pkcs11\r\n    name: PKCS#11 Provider\r\n    version: 3.1.0\r\n    status: active\r\n$ \r\n```\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1523653780","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/132#issuecomment-1523653780","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/132","id":1523653780,"node_id":"IC_kwDOE_A9l85a0RyU","user":{"login":"mattcaswell","id":7422273,"node_id":"MDQ6VXNlcjc0MjIyNzM=","avatar_url":"https://avatars.githubusercontent.com/u/7422273?v=4","gravatar_id":"","url":"https://api.github.com/users/mattcaswell","html_url":"https://github.com/mattcaswell","followers_url":"https://api.github.com/users/mattcaswell/followers","following_url":"https://api.github.com/users/mattcaswell/following{/other_user}","gists_url":"https://api.github.com/users/mattcaswell/gists{/gist_id}","starred_url":"https://api.github.com/users/mattcaswell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattcaswell/subscriptions","organizations_url":"https://api.github.com/users/mattcaswell/orgs","repos_url":"https://api.github.com/users/mattcaswell/repos","events_url":"https://api.github.com/users/mattcaswell/events{/privacy}","received_events_url":"https://api.github.com/users/mattcaswell/received_events","type":"User","site_admin":false},"created_at":"2023-04-26T15:51:20Z","updated_at":"2023-04-26T15:51:20Z","author_association":"NONE","body":"> Yes, probably - but (a) where in your opinion the root cause is (aka, what component issues those improper calls, and why), and (b) how do we fix it, and where (in what component)?\r\n\r\nThis is a bug in the OpenSSL library, not in the config or providers.\r\n\r\n> Also, it looks like the fix was merged two-three weeks ago into 3.1, so should've been picked by Macports by now? I'm trying to understand why I don't see the behavior change yet on my machines...\r\n\r\nBecause its only in git, not in a stable release yet. When 3.1.1 eventually gets released the fix will be included.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1523653780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-04-26T15:51:20Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"28684268435","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143","id":1661335845,"node_id":"PR_kwDOE_A9l85N9qep","number":143,"title":"Removed dependency on internal ssltestlib","user":{"login":"alexzas","id":1214959,"node_id":"MDQ6VXNlcjEyMTQ5NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1214959?v=4","gravatar_id":"","url":"https://api.github.com/users/alexzas","html_url":"https://github.com/alexzas","followers_url":"https://api.github.com/users/alexzas/followers","following_url":"https://api.github.com/users/alexzas/following{/other_user}","gists_url":"https://api.github.com/users/alexzas/gists{/gist_id}","starred_url":"https://api.github.com/users/alexzas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexzas/subscriptions","organizations_url":"https://api.github.com/users/alexzas/orgs","repos_url":"https://api.github.com/users/alexzas/repos","events_url":"https://api.github.com/users/alexzas/events{/privacy}","received_events_url":"https://api.github.com/users/alexzas/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2023-04-10T20:44:17Z","updated_at":"2023-04-26T18:01:11Z","closed_at":"2023-04-26T14:20:26Z","author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/143","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143","diff_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143.diff","patch_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143.patch","merged_at":"2023-04-26T14:20:26Z"},"body":"This PR hopefully solves \"Remove dependency on internal OpenSSL test harness #137\".\r\n\r\n- I made sure only public OSSL APIs are used in the TLS test helper functions\r\n- TLS 1.3 handshake is used \r\n- Removed support for DTLS to remove unnecessary dependency (I assume the specific transport protocol is less relevant for PQC tests)\r\n- Tested on OSSL 3.0 and 3.1 branches \r\n\r\nPlease let me know your thoughts,\r\nThanks,\r\nAlex\r\n\r\nP.S. I believe dependency on libtestutil can also be removed.\r\n \r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1523836668","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143#issuecomment-1523836668","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143","id":1523836668,"node_id":"IC_kwDOE_A9l85a0-b8","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2023-04-26T18:01:11Z","updated_at":"2023-04-26T18:01:11Z","author_association":"MEMBER","body":"Despite this passing CI tests on the branch, it has failed when merged to main:\r\n    https://github.com/open-quantum-safe/oqs-provider/actions/runs/4809818002/jobs/8561583885\r\n\r\nAnyone have any ideas why?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1523836668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-04-26T18:01:11Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"28684972031","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143","id":1661335845,"node_id":"PR_kwDOE_A9l85N9qep","number":143,"title":"Removed dependency on internal ssltestlib","user":{"login":"alexzas","id":1214959,"node_id":"MDQ6VXNlcjEyMTQ5NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1214959?v=4","gravatar_id":"","url":"https://api.github.com/users/alexzas","html_url":"https://github.com/alexzas","followers_url":"https://api.github.com/users/alexzas/followers","following_url":"https://api.github.com/users/alexzas/following{/other_user}","gists_url":"https://api.github.com/users/alexzas/gists{/gist_id}","starred_url":"https://api.github.com/users/alexzas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexzas/subscriptions","organizations_url":"https://api.github.com/users/alexzas/orgs","repos_url":"https://api.github.com/users/alexzas/repos","events_url":"https://api.github.com/users/alexzas/events{/privacy}","received_events_url":"https://api.github.com/users/alexzas/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2023-04-10T20:44:17Z","updated_at":"2023-04-26T18:33:47Z","closed_at":"2023-04-26T14:20:26Z","author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/143","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143","diff_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143.diff","patch_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143.patch","merged_at":"2023-04-26T14:20:26Z"},"body":"This PR hopefully solves \"Remove dependency on internal OpenSSL test harness #137\".\r\n\r\n- I made sure only public OSSL APIs are used in the TLS test helper functions\r\n- TLS 1.3 handshake is used \r\n- Removed support for DTLS to remove unnecessary dependency (I assume the specific transport protocol is less relevant for PQC tests)\r\n- Tested on OSSL 3.0 and 3.1 branches \r\n\r\nPlease let me know your thoughts,\r\nThanks,\r\nAlex\r\n\r\nP.S. I believe dependency on libtestutil can also be removed.\r\n \r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1523873593","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143#issuecomment-1523873593","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143","id":1523873593,"node_id":"IC_kwDOE_A9l85a1Hc5","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-04-26T18:33:47Z","updated_at":"2023-04-26T18:33:47Z","author_association":"MEMBER","body":"> Despite this passing CI tests on the branch, it has failed when merged to main: https://github.com/open-quantum-safe/oqs-provider/actions/runs/4809818002/jobs/8561583885\r\n> \r\n> Anyone have any ideas why?\r\n\r\nIt seems github CI does not run on PRs (but on main) Needs investigation.\r\n\r\nThe failing test is a CA test that _should_ only run on OpenSSL Master (as it fails expectedly on 3.0 which is tested in github CI). Probably needs an additional execution guard. If none of you has time for this, I'll Look into this when I am back.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1523873593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-04-26T18:33:47Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"28687676620","type":"IssueCommentEvent","actor":{"id":1214959,"login":"alexzas","display_login":"alexzas","gravatar_id":"","url":"https://api.github.com/users/alexzas","avatar_url":"https://avatars.githubusercontent.com/u/1214959?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143","id":1661335845,"node_id":"PR_kwDOE_A9l85N9qep","number":143,"title":"Removed dependency on internal ssltestlib","user":{"login":"alexzas","id":1214959,"node_id":"MDQ6VXNlcjEyMTQ5NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1214959?v=4","gravatar_id":"","url":"https://api.github.com/users/alexzas","html_url":"https://github.com/alexzas","followers_url":"https://api.github.com/users/alexzas/followers","following_url":"https://api.github.com/users/alexzas/following{/other_user}","gists_url":"https://api.github.com/users/alexzas/gists{/gist_id}","starred_url":"https://api.github.com/users/alexzas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexzas/subscriptions","organizations_url":"https://api.github.com/users/alexzas/orgs","repos_url":"https://api.github.com/users/alexzas/repos","events_url":"https://api.github.com/users/alexzas/events{/privacy}","received_events_url":"https://api.github.com/users/alexzas/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2023-04-10T20:44:17Z","updated_at":"2023-04-26T20:48:33Z","closed_at":"2023-04-26T14:20:26Z","author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/143","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143","diff_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143.diff","patch_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143.patch","merged_at":"2023-04-26T14:20:26Z"},"body":"This PR hopefully solves \"Remove dependency on internal OpenSSL test harness #137\".\r\n\r\n- I made sure only public OSSL APIs are used in the TLS test helper functions\r\n- TLS 1.3 handshake is used \r\n- Removed support for DTLS to remove unnecessary dependency (I assume the specific transport protocol is less relevant for PQC tests)\r\n- Tested on OSSL 3.0 and 3.1 branches \r\n\r\nPlease let me know your thoughts,\r\nThanks,\r\nAlex\r\n\r\nP.S. I believe dependency on libtestutil can also be removed.\r\n \r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1524027127","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/143#issuecomment-1524027127","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/143","id":1524027127,"node_id":"IC_kwDOE_A9l85a1s73","user":{"login":"alexzas","id":1214959,"node_id":"MDQ6VXNlcjEyMTQ5NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1214959?v=4","gravatar_id":"","url":"https://api.github.com/users/alexzas","html_url":"https://github.com/alexzas","followers_url":"https://api.github.com/users/alexzas/followers","following_url":"https://api.github.com/users/alexzas/following{/other_user}","gists_url":"https://api.github.com/users/alexzas/gists{/gist_id}","starred_url":"https://api.github.com/users/alexzas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexzas/subscriptions","organizations_url":"https://api.github.com/users/alexzas/orgs","repos_url":"https://api.github.com/users/alexzas/repos","events_url":"https://api.github.com/users/alexzas/events{/privacy}","received_events_url":"https://api.github.com/users/alexzas/received_events","type":"User","site_admin":false},"created_at":"2023-04-26T20:48:33Z","updated_at":"2023-04-26T20:48:33Z","author_association":"NONE","body":"hi Guys,\nI ran a short analysis so far, hope you will find it useful.\n\n1. I tested my branch again locally on my Mac OS - all tests passed.\n2. I cloned a clean main branch of oqs-provider, ran all tests and managed\nto reproduce the failure.\n3. I noticed that both OSSL and liboqs main branches changed recently.\n4. On a failed main branch of oqs-provider I started by replacing the\n.local/lib/liboqs.a to the one I had in my branch - all tests passed.\n\nIt might be that the latest liboqs changes break something with\noqs-provider?\n\nI will try to test it further later tonight.\n\nBest,\nAlex\n\n\nOn Wed, Apr 26, 2023 at 1:33 PM Michael Baentsch ***@***.***>\nwrote:\n\n> Despite this passing CI tests on the branch, it has failed when merged to\n> main:\n> https://github.com/open-quantum-safe/oqs-provider/actions/runs/4809818002/jobs/8561583885\n>\n> Anyone have any ideas why?\n>\n> It seems github CI does not run on PRs (but on main) Needs investigation.\n>\n> The failing test is a CA test that *should* only run on OpenSSL Master\n> (as it fails expectedly on 3.0 which is tested in github CI). Probably\n> needs an additional execution guard. If none of you has time for this, I'll\n> Look into this when I am back.\n>\n> —\n> Reply to this email directly, view it on GitHub\n> <https://github.com/open-quantum-safe/oqs-provider/pull/143#issuecomment-1523873593>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAJIT35SOUT2OQVO5V52JN3XDFTBNANCNFSM6AAAAAAWZMYJ4A>\n> .\n> You are receiving this because you were mentioned.Message ID:\n> ***@***.***>\n>\n\n\n-- \n-----AZ-------\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1524027127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-04-26T20:48:33Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
