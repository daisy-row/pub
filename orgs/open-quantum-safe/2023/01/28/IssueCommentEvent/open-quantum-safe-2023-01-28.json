{"id":"26715717212","type":"IssueCommentEvent","actor":{"id":120385775,"login":"k-Artin","display_login":"k-Artin","gravatar_id":"","url":"https://api.github.com/users/k-Artin","avatar_url":"https://avatars.githubusercontent.com/u/120385775?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1371","id":1560857473,"node_id":"I_kwDOA-eq3c5dCMuB","number":1371,"title":"some error when installing liboqs in windows with mingw32","user":{"login":"k-Artin","id":120385775,"node_id":"U_kgDOByzw7w","avatar_url":"https://avatars.githubusercontent.com/u/120385775?v=4","gravatar_id":"","url":"https://api.github.com/users/k-Artin","html_url":"https://github.com/k-Artin","followers_url":"https://api.github.com/users/k-Artin/followers","following_url":"https://api.github.com/users/k-Artin/following{/other_user}","gists_url":"https://api.github.com/users/k-Artin/gists{/gist_id}","starred_url":"https://api.github.com/users/k-Artin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k-Artin/subscriptions","organizations_url":"https://api.github.com/users/k-Artin/orgs","repos_url":"https://api.github.com/users/k-Artin/repos","events_url":"https://api.github.com/users/k-Artin/events{/privacy}","received_events_url":"https://api.github.com/users/k-Artin/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-01-28T13:26:20Z","updated_at":"2023-01-28T13:31:50Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### Discussed in https://github.com/orgs/open-quantum-safe/discussions/1370\r\n\r\n<div type='discussions-op-text'>\r\n\r\n<sup>Originally posted by **k-Artin** January 28, 2023</sup>\r\nhello \r\nI am getting the following errors when I install liboqs on windows with mingw32.\r\n\r\n$ ninja -j 4\r\n[1118/1132] Building C object tests/CMakeFiles/speed_kem.dir/speed_kem.c.obj\r\nFAILED: tests/CMakeFiles/speed_kem.dir/speed_kem.c.obj\r\nC:\\msys64\\mingw32\\bin\\cc.exe -DOQS_COMPILE_OPTIONS=\\\"[-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prot\r\notypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-O3;-fomit-frame-pointer;-fdata-sections;-f\r\nfunction-sections;-Wl,--gc-sections;-Wno-maybe-uninitialized;-Wbad-function-cast;-Wno-unknown-pragma\r\ns;-Wno-unused-parameter]\\\" -D__USE_MINGW_ANSI_STDIO=1 -IC:/msys64/home/liboqs/liboqs-main/_build/in\r\nclude -IC:/msys64/home/liboqs/liboqs-main/src -fvisibility=hidden -Werror -Wall -Wextra -Wpedantic\r\n-Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -O3 -fomit-frame-pointer -fdat\r\na-sections -ffunction-sections -Wl,--gc-sections -Wno-maybe-uninitialized -Wbad-function-cast -Wno-u\r\nnknown-pragmas -Wno-unused-parameter -std=gnu11 -MD -MT tests/CMakeFiles/speed_kem.dir/speed_kem.c.o\r\nbj -MF tests\\CMakeFiles\\speed_kem.dir\\speed_kem.c.obj.d -o tests/CMakeFiles/speed_kem.dir/speed_kem.\r\nc.obj -c C:/msys64/home/liboqs/liboqs-main/tests/speed_kem.c\r\nIn file included from C:/msys64/home/liboqs/liboqs-main/tests/speed_kem.c:17:\r\nC:/msys64/home/liboqs/liboqs-main/tests/ds_benchmark.h: In function '_bench_rdtsc':\r\nC:/msys64/home/liboqs/liboqs-main/tests/ds_benchmark.h:125:16: error: implicit declaration of funct\r\nion '__rdtsc' [-Werror=implicit-function-declaration]\r\n  125 |         **return __rdtsc();**\r\n      |                ^~~~~~~\r\ncc1.exe: all warnings being treated as errors\r\n[1121/1132] Building C object tests/CMakeFiles/speed_sig.dir/speed_sig.c.obj\r\nFAILED: tests/CMakeFiles/speed_sig.dir/speed_sig.c.obj\r\nC:\\msys64\\mingw32\\bin\\cc.exe -DOQS_COMPILE_OPTIONS=\\\"[-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prot\r\notypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-O3;-fomit-frame-pointer;-fdata-sections;-f\r\nfunction-sections;-Wl,--gc-sections;-Wno-maybe-uninitialized;-Wbad-function-cast;-Wno-unknown-pragma\r\ns;-Wno-unused-parameter]\\\" -D__USE_MINGW_ANSI_STDIO=1 -IC:/msys64/home/liboqs/liboqs-main/_build/in\r\nclude -IC:/msys64/home/liboqs/liboqs-main/src -fvisibility=hidden -Werror -Wall -Wextra -Wpedantic\r\n-Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -O3 -fomit-frame-pointer -fdat\r\na-sections -ffunction-sections -Wl,--gc-sections -Wno-maybe-uninitialized -Wbad-function-cast -Wno-u\r\nnknown-pragmas -Wno-unused-parameter -std=gnu11 -MD -MT tests/CMakeFiles/speed_sig.dir/speed_sig.c.o\r\nbj -MF tests\\CMakeFiles\\speed_sig.dir\\speed_sig.c.obj.d -o tests/CMakeFiles/speed_sig.dir/speed_sig.\r\nc.obj -c C:/msys64/home/liboqs/liboqs-main/tests/speed_sig.c\r\nIn file included from C:/msys64/home/liboqs/liboqs-main/tests/speed_sig.c:17:\r\nC:/msys64/home/liboqs/liboqs-main/tests/ds_benchmark.h: In function '_bench_rdtsc':\r\nC:/msys64/home/liboqs/liboqs-main/tests/ds_benchmark.h:125:16: error: implicit declaration of funct\r\nion '__rdtsc' [-Werror=implicit-function-declaration]\r\n  125 |         **return __rdtsc();**\r\n      |                ^~~~~~~\r\ncc1.exe: all warnings being treated as errors\r\nninja: build stopped: subcommand failed.\r\n\r\nwhat i see is that the mingw32 can not find the **__rdtsc()** function.\r\ni am searching in the internet and find the library **intrin.h**  which has this function.\r\ni think this library is missing in the **ds_benchmark.h**.\r\nThank you in advance!</div>","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371/timeline","performed_via_github_app":null,"state_reason":"reopened"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1407399985","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1371#issuecomment-1407399985","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371","id":1407399985,"node_id":"IC_kwDOA-eq3c5T4zgx","user":{"login":"k-Artin","id":120385775,"node_id":"U_kgDOByzw7w","avatar_url":"https://avatars.githubusercontent.com/u/120385775?v=4","gravatar_id":"","url":"https://api.github.com/users/k-Artin","html_url":"https://github.com/k-Artin","followers_url":"https://api.github.com/users/k-Artin/followers","following_url":"https://api.github.com/users/k-Artin/following{/other_user}","gists_url":"https://api.github.com/users/k-Artin/gists{/gist_id}","starred_url":"https://api.github.com/users/k-Artin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k-Artin/subscriptions","organizations_url":"https://api.github.com/users/k-Artin/orgs","repos_url":"https://api.github.com/users/k-Artin/repos","events_url":"https://api.github.com/users/k-Artin/events{/privacy}","received_events_url":"https://api.github.com/users/k-Artin/received_events","type":"User","site_admin":false},"created_at":"2023-01-28T13:31:50Z","updated_at":"2023-01-28T13:31:50Z","author_association":"NONE","body":"after adding the library this error will be disappear.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1407399985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-01-28T13:31:50Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"26715786469","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1371","id":1560857473,"node_id":"I_kwDOA-eq3c5dCMuB","number":1371,"title":"some error when installing liboqs in windows with mingw32","user":{"login":"k-Artin","id":120385775,"node_id":"U_kgDOByzw7w","avatar_url":"https://avatars.githubusercontent.com/u/120385775?v=4","gravatar_id":"","url":"https://api.github.com/users/k-Artin","html_url":"https://github.com/k-Artin","followers_url":"https://api.github.com/users/k-Artin/followers","following_url":"https://api.github.com/users/k-Artin/following{/other_user}","gists_url":"https://api.github.com/users/k-Artin/gists{/gist_id}","starred_url":"https://api.github.com/users/k-Artin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k-Artin/subscriptions","organizations_url":"https://api.github.com/users/k-Artin/orgs","repos_url":"https://api.github.com/users/k-Artin/repos","events_url":"https://api.github.com/users/k-Artin/events{/privacy}","received_events_url":"https://api.github.com/users/k-Artin/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-01-28T13:26:20Z","updated_at":"2023-01-28T13:43:20Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### Discussed in https://github.com/orgs/open-quantum-safe/discussions/1370\r\n\r\n<div type='discussions-op-text'>\r\n\r\n<sup>Originally posted by **k-Artin** January 28, 2023</sup>\r\nhello \r\nI am getting the following errors when I install liboqs on windows with mingw32.\r\n\r\n$ ninja -j 4\r\n[1118/1132] Building C object tests/CMakeFiles/speed_kem.dir/speed_kem.c.obj\r\nFAILED: tests/CMakeFiles/speed_kem.dir/speed_kem.c.obj\r\nC:\\msys64\\mingw32\\bin\\cc.exe -DOQS_COMPILE_OPTIONS=\\\"[-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prot\r\notypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-O3;-fomit-frame-pointer;-fdata-sections;-f\r\nfunction-sections;-Wl,--gc-sections;-Wno-maybe-uninitialized;-Wbad-function-cast;-Wno-unknown-pragma\r\ns;-Wno-unused-parameter]\\\" -D__USE_MINGW_ANSI_STDIO=1 -IC:/msys64/home/liboqs/liboqs-main/_build/in\r\nclude -IC:/msys64/home/liboqs/liboqs-main/src -fvisibility=hidden -Werror -Wall -Wextra -Wpedantic\r\n-Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -O3 -fomit-frame-pointer -fdat\r\na-sections -ffunction-sections -Wl,--gc-sections -Wno-maybe-uninitialized -Wbad-function-cast -Wno-u\r\nnknown-pragmas -Wno-unused-parameter -std=gnu11 -MD -MT tests/CMakeFiles/speed_kem.dir/speed_kem.c.o\r\nbj -MF tests\\CMakeFiles\\speed_kem.dir\\speed_kem.c.obj.d -o tests/CMakeFiles/speed_kem.dir/speed_kem.\r\nc.obj -c C:/msys64/home/liboqs/liboqs-main/tests/speed_kem.c\r\nIn file included from C:/msys64/home/liboqs/liboqs-main/tests/speed_kem.c:17:\r\nC:/msys64/home/liboqs/liboqs-main/tests/ds_benchmark.h: In function '_bench_rdtsc':\r\nC:/msys64/home/liboqs/liboqs-main/tests/ds_benchmark.h:125:16: error: implicit declaration of funct\r\nion '__rdtsc' [-Werror=implicit-function-declaration]\r\n  125 |         **return __rdtsc();**\r\n      |                ^~~~~~~\r\ncc1.exe: all warnings being treated as errors\r\n[1121/1132] Building C object tests/CMakeFiles/speed_sig.dir/speed_sig.c.obj\r\nFAILED: tests/CMakeFiles/speed_sig.dir/speed_sig.c.obj\r\nC:\\msys64\\mingw32\\bin\\cc.exe -DOQS_COMPILE_OPTIONS=\\\"[-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prot\r\notypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-O3;-fomit-frame-pointer;-fdata-sections;-f\r\nfunction-sections;-Wl,--gc-sections;-Wno-maybe-uninitialized;-Wbad-function-cast;-Wno-unknown-pragma\r\ns;-Wno-unused-parameter]\\\" -D__USE_MINGW_ANSI_STDIO=1 -IC:/msys64/home/liboqs/liboqs-main/_build/in\r\nclude -IC:/msys64/home/liboqs/liboqs-main/src -fvisibility=hidden -Werror -Wall -Wextra -Wpedantic\r\n-Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -O3 -fomit-frame-pointer -fdat\r\na-sections -ffunction-sections -Wl,--gc-sections -Wno-maybe-uninitialized -Wbad-function-cast -Wno-u\r\nnknown-pragmas -Wno-unused-parameter -std=gnu11 -MD -MT tests/CMakeFiles/speed_sig.dir/speed_sig.c.o\r\nbj -MF tests\\CMakeFiles\\speed_sig.dir\\speed_sig.c.obj.d -o tests/CMakeFiles/speed_sig.dir/speed_sig.\r\nc.obj -c C:/msys64/home/liboqs/liboqs-main/tests/speed_sig.c\r\nIn file included from C:/msys64/home/liboqs/liboqs-main/tests/speed_sig.c:17:\r\nC:/msys64/home/liboqs/liboqs-main/tests/ds_benchmark.h: In function '_bench_rdtsc':\r\nC:/msys64/home/liboqs/liboqs-main/tests/ds_benchmark.h:125:16: error: implicit declaration of funct\r\nion '__rdtsc' [-Werror=implicit-function-declaration]\r\n  125 |         **return __rdtsc();**\r\n      |                ^~~~~~~\r\ncc1.exe: all warnings being treated as errors\r\nninja: build stopped: subcommand failed.\r\n\r\nwhat i see is that the mingw32 can not find the **__rdtsc()** function.\r\ni am searching in the internet and find the library **intrin.h**  which has this function.\r\ni think this library is missing in the **ds_benchmark.h**.\r\nThank you in advance!</div>","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371/timeline","performed_via_github_app":null,"state_reason":"reopened"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1407402144","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1371#issuecomment-1407402144","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371","id":1407402144,"node_id":"IC_kwDOA-eq3c5T40Cg","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-01-28T13:43:20Z","updated_at":"2023-01-28T13:43:20Z","author_association":"MEMBER","body":"> after adding the library this error will be disappear.\r\n\r\nGood to hear. Please consider contributing this improvement via a PR. Is it as simple as adding this diff(?):\r\n```\r\nindex 0e3b824d..c16ecf42 100644\r\n--- a/tests/ds_benchmark.h\r\n+++ b/tests/ds_benchmark.h\r\n@@ -99,6 +99,10 @@ PRINT_TIMER_FOOTER\r\n #include <math.h>\r\n #include <time.h>\r\n \r\n+#if defined(_WIN32) || defined(_WIN64)\r\n+#include <intrin.h>\r\n+#endif \r\n+\r\n #if defined(_WIN32)\r\n #include <windows.h>\r\n```","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1407402144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-01-28T13:43:20Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"26716129009","type":"IssueCommentEvent","actor":{"id":120385775,"login":"k-Artin","display_login":"k-Artin","gravatar_id":"","url":"https://api.github.com/users/k-Artin","avatar_url":"https://avatars.githubusercontent.com/u/120385775?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1371","id":1560857473,"node_id":"I_kwDOA-eq3c5dCMuB","number":1371,"title":"some error when installing liboqs in windows with mingw32","user":{"login":"k-Artin","id":120385775,"node_id":"U_kgDOByzw7w","avatar_url":"https://avatars.githubusercontent.com/u/120385775?v=4","gravatar_id":"","url":"https://api.github.com/users/k-Artin","html_url":"https://github.com/k-Artin","followers_url":"https://api.github.com/users/k-Artin/followers","following_url":"https://api.github.com/users/k-Artin/following{/other_user}","gists_url":"https://api.github.com/users/k-Artin/gists{/gist_id}","starred_url":"https://api.github.com/users/k-Artin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k-Artin/subscriptions","organizations_url":"https://api.github.com/users/k-Artin/orgs","repos_url":"https://api.github.com/users/k-Artin/repos","events_url":"https://api.github.com/users/k-Artin/events{/privacy}","received_events_url":"https://api.github.com/users/k-Artin/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-01-28T13:26:20Z","updated_at":"2023-01-28T14:38:13Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"### Discussed in https://github.com/orgs/open-quantum-safe/discussions/1370\r\n\r\n<div type='discussions-op-text'>\r\n\r\n<sup>Originally posted by **k-Artin** January 28, 2023</sup>\r\nhello \r\nI am getting the following errors when I install liboqs on windows with mingw32.\r\n\r\n$ ninja -j 4\r\n[1118/1132] Building C object tests/CMakeFiles/speed_kem.dir/speed_kem.c.obj\r\nFAILED: tests/CMakeFiles/speed_kem.dir/speed_kem.c.obj\r\nC:\\msys64\\mingw32\\bin\\cc.exe -DOQS_COMPILE_OPTIONS=\\\"[-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prot\r\notypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-O3;-fomit-frame-pointer;-fdata-sections;-f\r\nfunction-sections;-Wl,--gc-sections;-Wno-maybe-uninitialized;-Wbad-function-cast;-Wno-unknown-pragma\r\ns;-Wno-unused-parameter]\\\" -D__USE_MINGW_ANSI_STDIO=1 -IC:/msys64/home/liboqs/liboqs-main/_build/in\r\nclude -IC:/msys64/home/liboqs/liboqs-main/src -fvisibility=hidden -Werror -Wall -Wextra -Wpedantic\r\n-Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -O3 -fomit-frame-pointer -fdat\r\na-sections -ffunction-sections -Wl,--gc-sections -Wno-maybe-uninitialized -Wbad-function-cast -Wno-u\r\nnknown-pragmas -Wno-unused-parameter -std=gnu11 -MD -MT tests/CMakeFiles/speed_kem.dir/speed_kem.c.o\r\nbj -MF tests\\CMakeFiles\\speed_kem.dir\\speed_kem.c.obj.d -o tests/CMakeFiles/speed_kem.dir/speed_kem.\r\nc.obj -c C:/msys64/home/liboqs/liboqs-main/tests/speed_kem.c\r\nIn file included from C:/msys64/home/liboqs/liboqs-main/tests/speed_kem.c:17:\r\nC:/msys64/home/liboqs/liboqs-main/tests/ds_benchmark.h: In function '_bench_rdtsc':\r\nC:/msys64/home/liboqs/liboqs-main/tests/ds_benchmark.h:125:16: error: implicit declaration of funct\r\nion '__rdtsc' [-Werror=implicit-function-declaration]\r\n  125 |         **return __rdtsc();**\r\n      |                ^~~~~~~\r\ncc1.exe: all warnings being treated as errors\r\n[1121/1132] Building C object tests/CMakeFiles/speed_sig.dir/speed_sig.c.obj\r\nFAILED: tests/CMakeFiles/speed_sig.dir/speed_sig.c.obj\r\nC:\\msys64\\mingw32\\bin\\cc.exe -DOQS_COMPILE_OPTIONS=\\\"[-Werror;-Wall;-Wextra;-Wpedantic;-Wstrict-prot\r\notypes;-Wshadow;-Wformat=2;-Wfloat-equal;-Wwrite-strings;-O3;-fomit-frame-pointer;-fdata-sections;-f\r\nfunction-sections;-Wl,--gc-sections;-Wno-maybe-uninitialized;-Wbad-function-cast;-Wno-unknown-pragma\r\ns;-Wno-unused-parameter]\\\" -D__USE_MINGW_ANSI_STDIO=1 -IC:/msys64/home/liboqs/liboqs-main/_build/in\r\nclude -IC:/msys64/home/liboqs/liboqs-main/src -fvisibility=hidden -Werror -Wall -Wextra -Wpedantic\r\n-Wstrict-prototypes -Wshadow -Wformat=2 -Wfloat-equal -Wwrite-strings -O3 -fomit-frame-pointer -fdat\r\na-sections -ffunction-sections -Wl,--gc-sections -Wno-maybe-uninitialized -Wbad-function-cast -Wno-u\r\nnknown-pragmas -Wno-unused-parameter -std=gnu11 -MD -MT tests/CMakeFiles/speed_sig.dir/speed_sig.c.o\r\nbj -MF tests\\CMakeFiles\\speed_sig.dir\\speed_sig.c.obj.d -o tests/CMakeFiles/speed_sig.dir/speed_sig.\r\nc.obj -c C:/msys64/home/liboqs/liboqs-main/tests/speed_sig.c\r\nIn file included from C:/msys64/home/liboqs/liboqs-main/tests/speed_sig.c:17:\r\nC:/msys64/home/liboqs/liboqs-main/tests/ds_benchmark.h: In function '_bench_rdtsc':\r\nC:/msys64/home/liboqs/liboqs-main/tests/ds_benchmark.h:125:16: error: implicit declaration of funct\r\nion '__rdtsc' [-Werror=implicit-function-declaration]\r\n  125 |         **return __rdtsc();**\r\n      |                ^~~~~~~\r\ncc1.exe: all warnings being treated as errors\r\nninja: build stopped: subcommand failed.\r\n\r\nwhat i see is that the mingw32 can not find the **__rdtsc()** function.\r\ni am searching in the internet and find the library **intrin.h**  which has this function.\r\ni think this library is missing in the **ds_benchmark.h**.\r\nThank you in advance!</div>","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371/timeline","performed_via_github_app":null,"state_reason":"reopened"},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1407412050","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1371#issuecomment-1407412050","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1371","id":1407412050,"node_id":"IC_kwDOA-eq3c5T42dS","user":{"login":"k-Artin","id":120385775,"node_id":"U_kgDOByzw7w","avatar_url":"https://avatars.githubusercontent.com/u/120385775?v=4","gravatar_id":"","url":"https://api.github.com/users/k-Artin","html_url":"https://github.com/k-Artin","followers_url":"https://api.github.com/users/k-Artin/followers","following_url":"https://api.github.com/users/k-Artin/following{/other_user}","gists_url":"https://api.github.com/users/k-Artin/gists{/gist_id}","starred_url":"https://api.github.com/users/k-Artin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k-Artin/subscriptions","organizations_url":"https://api.github.com/users/k-Artin/orgs","repos_url":"https://api.github.com/users/k-Artin/repos","events_url":"https://api.github.com/users/k-Artin/events{/privacy}","received_events_url":"https://api.github.com/users/k-Artin/received_events","type":"User","site_admin":false},"created_at":"2023-01-28T14:38:13Z","updated_at":"2023-01-28T14:38:13Z","author_association":"NONE","body":"yes this is ok\r\nplease add this code to the liboqs.\r\nthanks","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1407412050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-01-28T14:38:14Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"26716839346","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/105","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/105/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/105/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/105/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/105","id":1560889241,"node_id":"I_kwDOE_A9l85dCUeZ","number":105,"title":"error when compiling oqs-provider in windows with mingw32","user":{"login":"k-Artin","id":120385775,"node_id":"U_kgDOByzw7w","avatar_url":"https://avatars.githubusercontent.com/u/120385775?v=4","gravatar_id":"","url":"https://api.github.com/users/k-Artin","html_url":"https://github.com/k-Artin","followers_url":"https://api.github.com/users/k-Artin/followers","following_url":"https://api.github.com/users/k-Artin/following{/other_user}","gists_url":"https://api.github.com/users/k-Artin/gists{/gist_id}","starred_url":"https://api.github.com/users/k-Artin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/k-Artin/subscriptions","organizations_url":"https://api.github.com/users/k-Artin/orgs","repos_url":"https://api.github.com/users/k-Artin/repos","events_url":"https://api.github.com/users/k-Artin/events{/privacy}","received_events_url":"https://api.github.com/users/k-Artin/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-01-28T15:05:01Z","updated_at":"2023-01-28T16:28:44Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"hello \r\nI am getting the following errors when I install oqs-provider on windows with mingw32.\r\n\r\n$ ninja -j 4\r\n[11/28] Building C object test/CMakeFiles/oqs_test_signatures.dir/test_common.c.obj\r\nC:/msys64/home/oqs-provider/oqs-provider-main/test/test_common.c: In function 'alg_is_enabled':\r\nC:/msys64/home/oqs-provider/oqs-provider-main/test/test_common.c:27:20: warning: implicit declaration of function 'index' [-Wimplicit-function-declarat\r\nion]\r\n   27 |     while((comma = **index(alglist, ',')**)) {\r\n      |                    ^~~~~\r\nC:/msys64/home/oqs-provider/oqs-provider-main/test/test_common.c:27:20: warning: incompatible implicit declaration of built-in function 'index' [-Wbuil\r\ntin-declaration-mismatch]\r\n[13/28] Building C object test/CMakeFiles/oqs_test_kems.dir/test_common.c.obj\r\nC:/msys64/home/oqs-provider/oqs-provider-main/test/test_common.c: In function 'alg_is_enabled':\r\nC:/msys64/home/oqs-provider/oqs-provider-main/test/test_common.c:27:20: warning: implicit declaration of function 'index' [-Wimplicit-function-declarat\r\nion]\r\n   27 |     while((comma = **index(alglist, ',')**)) {\r\n      |                    ^~~~~\r\nC:/msys64/home/oqs-provider/oqs-provider-main/test/test_common.c:27:20: warning: incompatible implicit declaration of built-in function 'index' [-Wbuil\r\ntin-declaration-mismatch]\r\n[14/28] Linking C executable test\\oqs_test_signatures.exe\r\nFAILED: test/oqs_test_signatures.exe\r\ncmd.exe /C \"cd . && C:\\msys64\\mingw32\\bin\\gcc.exe   test/CMakeFiles/oqs_test_signatures.dir/oqs_test_signatures.c.obj test/CMakeFiles/oqs_test_sig\r\nnatures.dir/test_common.c.obj -o test\\oqs_test_signatures.exe -Wl,--out-implib,test\\liboqs_test_signatures.dll.a -Wl,--major-image-version,0,--min\r\nor-image-version,0  C:/openvpn3/lib/libcrypto.dll.a  -lkernel32 -luser32 -lgdi32 -lwinspool -lshell32 -lole32 -loleaut32 -luuid -lcomdlg32 -ladvap\r\ni32 && cd .\"\r\nC:/msys64/mingw32/bin/../lib/gcc/i686-w64-mingw32/12.2.0/../../../../i686-w64-mingw32/bin/ld.exe: test/CMakeFiles/oqs_test_signatures.dir/test_com\r\nmon.c.obj:test_common.c:(.text+0x165): undefined reference to **`index'**\r\ncollect2.exe: error: ld returned 1 exit status\r\n[15/28] Linking C executable test\\oqs_test_kems.exe\r\nFAILED: test/oqs_test_kems.exe\r\ncmd.exe /C \"cd . && C:\\msys64\\mingw32\\bin\\gcc.exe   test/CMakeFiles/oqs_test_kems.dir/oqs_test_kems.c.obj test/CMakeFiles/oqs_test_kems.dir/test_c\r\nommon.c.obj -o test\\oqs_test_kems.exe -Wl,--out-implib,test\\liboqs_test_kems.dll.a -Wl,--major-image-version,0,--minor-image-version,0  C:/openvpn\r\n3/lib/libcrypto.dll.a  -lkernel32 -luser32 -lgdi32 -lwinspool -lshell32 -lole32 -loleaut32 -luuid -lcomdlg32 -ladvapi32 && cd .\"\r\nC:/msys64/mingw32/bin/../lib/gcc/i686-w64-mingw32/12.2.0/../../../../i686-w64-mingw32/bin/ld.exe: test/CMakeFiles/oqs_test_kems.dir/test_common.c.\r\nobj:test_common.c:(.text+0x165): undefined reference to `index'\r\ncollect2.exe: error: ld returned 1 exit status\r\n[17/28] Building C object oqsprov/CMakeFiles/oqsprovider.dir/oqs_encode_key2any.c.obj\r\nninja: build stopped: subcommand failed.\r\n\r\n**this error is in the mingw32.**\r\nThis error is due to the **index()** function. Is it possible to use **strchr** instead of this function?\r\n\r\n**when using visual studio this error does not exist and the following error occurs:**\r\nfatal error: **'stdatomic.h'** file not found.\r\n\r\ni think something wrong.\r\nThank you in advance!","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/105/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1407433297","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/105#issuecomment-1407433297","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/105","id":1407433297,"node_id":"IC_kwDOE_A9l85T47pR","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-01-28T16:28:43Z","updated_at":"2023-01-28T16:28:43Z","author_association":"MEMBER","body":"That is not entirely unexpected as Windows is not yet supported (see https://github.com/open-quantum-safe/oqs-provider/issues/47). If you see a need for support of that platform, please let us know. Any contribution by you will be welcome.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1407433297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-01-28T16:28:44Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
