{"id":"29368632148","type":"IssueCommentEvent","actor":{"id":5923577,"login":"mouse07410","display_login":"mouse07410","gravatar_id":"","url":"https://api.github.com/users/mouse07410","avatar_url":"https://avatars.githubusercontent.com/u/5923577?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/171","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/171/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/171/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/171/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/171","id":1724303930,"node_id":"I_kwDOE_A9l85mxso6","number":171,"title":"MacOS: fails to find liboqs","user":{"login":"mouse07410","id":5923577,"node_id":"MDQ6VXNlcjU5MjM1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5923577?v=4","gravatar_id":"","url":"https://api.github.com/users/mouse07410","html_url":"https://github.com/mouse07410","followers_url":"https://api.github.com/users/mouse07410/followers","following_url":"https://api.github.com/users/mouse07410/following{/other_user}","gists_url":"https://api.github.com/users/mouse07410/gists{/gist_id}","starred_url":"https://api.github.com/users/mouse07410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mouse07410/subscriptions","organizations_url":"https://api.github.com/users/mouse07410/orgs","repos_url":"https://api.github.com/users/mouse07410/repos","events_url":"https://api.github.com/users/mouse07410/events{/privacy}","received_events_url":"https://api.github.com/users/mouse07410/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2023-05-24T15:51:30Z","updated_at":"2023-05-29T00:40:29Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nTests should - but do not - look in `/opt/local/lib` for libraries like `liboqs.dylib`.\r\n\r\n```text\r\nLD_LIBRARY_PATH=/Users/ur20980/src/oqs-provider/.local/lib64\r\nOPENSSL_APP=/opt/local/libexec/openssl3/bin/openssl\r\nOPENSSL_CONF=/opt/local/libexec/openssl3/etc/openssl/openssl.cnf\r\nOPENSSL_MODULES=/opt/local/libexec/openssl3/lib/ossl-modules\r\nVersion information:\r\nOpenSSL 3.1.0 14 Mar 2023 (Library: OpenSSL 3.1.0 14 Mar 2023)\r\nlist: unable to load provider oqsprovider\r\nHint: use -provider-path option or OPENSSL_MODULES environment variable.\r\n40664950F87F0000:error:12800067:DSO support routines:dlfcn_load:could not load the shared library:crypto/dso/dso_dlfcn.c:118:filename(_build/lib/oqsprovider.dylib): dlopen(_build/lib/oqsprovider.dylib, 0x0002): Library not loaded: @rpath/liboqs.3.dylib\r\n  Referenced from: <DE45930A-2ABF-3032-BFF3-19F96D0064A6> /Users/ur20980/src/oqs-provider/_build/lib/oqsprovider.0.5.0-dev.dylib\r\n  Reason: tried: '/usr/local/lib/liboqs.3.dylib' (no such file), '/usr/lib/liboqs.3.dylib' (no such file, not in dyld cache)\r\n40664950F87F0000:error:12800067:DSO support routines:DSO_load:could not load the shared library:crypto/dso/dso_lib.c:152:\r\n40664950F87F0000:error:07880025:common libcrypto routines:provider_init:reason(524325):crypto/provider_core.c:904:name=oqsprovider\r\nBaseline openssl invocation failed. Exiting test.\r\n```\r\n\r\n`LD_LIBRARY_PATH` is not an answer, because (a) MacOS uses `DYLD_LIBRARY_PATH` and ignores `LD_LIBRARY_PATH`, and (b) setting that env var would limit where the loader searches for missing libraries, i.e., we'd risk that it would now find what's in `$DYLD_LIBRARY_PATH` but stops finding what's not there.\r\n\r\n**To Reproduce**\r\nSee above.\r\n\r\n**Expected behavior**\r\nTests passing, with all the relevant libraries located correctly.\r\n\r\n**Screenshots**\r\nIf applicable, add screenshots to help explain your problem.\r\n\r\n**Environment (please complete the following information):**\r\n - OS: MacOS Ventura 13.4\r\n - OpenSSL version: 3.2.0-dev and 3.1.0\r\n\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/171/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1566332480","html_url":"https://github.com/open-quantum-safe/oqs-provider/issues/171#issuecomment-1566332480","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/171","id":1566332480,"node_id":"IC_kwDOE_A9l85dXFZA","user":{"login":"mouse07410","id":5923577,"node_id":"MDQ6VXNlcjU5MjM1Nzc=","avatar_url":"https://avatars.githubusercontent.com/u/5923577?v=4","gravatar_id":"","url":"https://api.github.com/users/mouse07410","html_url":"https://github.com/mouse07410","followers_url":"https://api.github.com/users/mouse07410/followers","following_url":"https://api.github.com/users/mouse07410/following{/other_user}","gists_url":"https://api.github.com/users/mouse07410/gists{/gist_id}","starred_url":"https://api.github.com/users/mouse07410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mouse07410/subscriptions","organizations_url":"https://api.github.com/users/mouse07410/orgs","repos_url":"https://api.github.com/users/mouse07410/repos","events_url":"https://api.github.com/users/mouse07410/events{/privacy}","received_events_url":"https://api.github.com/users/mouse07410/received_events","type":"User","site_admin":false},"created_at":"2023-05-29T00:40:29Z","updated_at":"2023-05-29T00:40:29Z","author_association":"NONE","body":"> UW. Does the issue persist with \"DY\" added? That way `liboqs.dylib` should be found also in case of 3.1.0, no?\r\n\r\nYes, same problem:\r\n```text\r\nTest setup:\r\nLD_LIBRARY_PATH=/Users/ur20980/src/oqs-provider/.local/lib64\r\nOPENSSL_APP=/opt/local/libexec/openssl3/bin/openssl\r\nOPENSSL_CONF=/opt/local/libexec/openssl3/etc/openssl/openssl.cnf\r\nOPENSSL_MODULES=/opt/local/libexec/openssl3/lib/ossl-modules\r\nNo OQS-OpenSSL111 interop test because of absence of docker\r\nVersion information:\r\nOpenSSL 3.1.0 14 Mar 2023 (Library: OpenSSL 3.1.0 14 Mar 2023)\r\nlist: unable to load provider oqsprovider\r\nHint: use -provider-path option or OPENSSL_MODULES environment variable.\r\n4026C65EF87F0000:error:12800067:DSO support routines:dlfcn_load:could not load the shared library:crypto/dso/dso_dlfcn.c:118:filename(_build/lib/oqsprovider.dylib): dlopen(_build/lib/oqsprovider.dylib, 0x0002): Library not loaded: @rpath/liboqs.3.dylib\r\n  Referenced from: <88CFE3B7-AB41-305E-AEB4-99624E0D8C53> /Users/ur20980/src/oqs-provider/_build/lib/oqsprovider.0.5.0-dev.dylib\r\n  Reason: tried: '/usr/local/lib/liboqs.3.dylib' (no such file), '/usr/lib/liboqs.3.dylib' (no such file, not in dyld cache)\r\n4026C65EF87F0000:error:12800067:DSO support routines:DSO_load:could not load the shared library:crypto/dso/dso_lib.c:152:\r\n4026C65EF87F0000:error:07880025:common libcrypto routines:provider_init:reason(524325):crypto/provider_core.c:904:name=oqsprovider\r\nBaseline openssl invocation failed. Exiting test.\r\nSun May 28 20:36:40 EDT 2023\r\n```\r\n\r\nBTW, any reason your test does not print `DYLD_LIBRARY_PATH`?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1566332480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-05-29T00:40:29Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"29372109010","type":"IssueCommentEvent","actor":{"id":57787676,"login":"baentsch","display_login":"baentsch","gravatar_id":"","url":"https://api.github.com/users/baentsch","avatar_url":"https://avatars.githubusercontent.com/u/57787676?"},"repo":{"id":66578799,"name":"open-quantum-safe/openssl","url":"https://api.github.com/repos/open-quantum-safe/openssl"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/449","repository_url":"https://api.github.com/repos/open-quantum-safe/openssl","labels_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/449/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/449/comments","events_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/449/events","html_url":"https://github.com/open-quantum-safe/openssl/issues/449","id":1726461874,"node_id":"I_kwDOA_fpb85m57ey","number":449,"title":"Compilation erreur when make -j","user":{"login":"Tanguy00","id":92095568,"node_id":"U_kgDOBX1EUA","avatar_url":"https://avatars.githubusercontent.com/u/92095568?v=4","gravatar_id":"","url":"https://api.github.com/users/Tanguy00","html_url":"https://github.com/Tanguy00","followers_url":"https://api.github.com/users/Tanguy00/followers","following_url":"https://api.github.com/users/Tanguy00/following{/other_user}","gists_url":"https://api.github.com/users/Tanguy00/gists{/gist_id}","starred_url":"https://api.github.com/users/Tanguy00/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tanguy00/subscriptions","organizations_url":"https://api.github.com/users/Tanguy00/orgs","repos_url":"https://api.github.com/users/Tanguy00/repos","events_url":"https://api.github.com/users/Tanguy00/events{/privacy}","received_events_url":"https://api.github.com/users/Tanguy00/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2023-05-25T20:40:48Z","updated_at":"2023-05-29T05:57:03Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"Hello,\r\n\r\nAs part of a university project (UPJV, France), our cryptography professor and I are trying to compile the code you are making available.\r\nHowever, we're encountering a lot of errors during compilation. For no apparent reason, even though we've followed the documentation perfectly.\r\n\r\nWe've tried this on Ubuntu 18, 20 and 22 (from scratch) with OpenSSL 1.1.1t.\r\n\r\nHere are the commands typed: \r\n```bash\r\nsudo apt update && sudo apt upgrade\r\nsudo apt install cmake gcc libtool libssl-dev make ninja-build git\r\nsudo apt install astyle cmake gcc ninja-build libssl-dev python3-pytest python3-pytest-xdist python3-pytest unzip xsltproc doxygen graphviz python3-yaml valgrind\r\n\r\ngit clone --branch OQS-OpenSSL_1_1_1-stable https://github.com/open-quantum-safe/openssl.git\r\ngit clone --branch main https://github.com/open-quantum-safe/liboqs.git\r\n\r\ncd liboqs && mkdir build && cd build\r\ncmake -GNinja -DCMAKE_INSTALL_PREFIX=../../openssl/oqs ..\r\nninja\r\nninja install\r\n\r\ncd ../../openssl\r\n./Configure no-shared linux-x86_64 -lm\r\nmake -j\r\n```\r\n\r\nAnd the errors obtained (short version):\r\n```\r\nrm -f test/x509_internal_test\r\nrm -f test/x509_time_test\r\nrm -f test/x509aux\r\n${LDCMD:-gcc} -pthread -m64 -Ioqs/include -Wa,--noexecstack -Wall -O3 -L. -Loqs/lib -Loqs/lib64  \\\r\n\t-o test/x509_time_test test/x509_time_test.o \\\r\n\t test/libtestutil.a -lcrypto -ldl -pthread -loqs -lm\r\n${LDCMD:-gcc} -pthread -m64 -Ioqs/include -Wa,--noexecstack -Wall -O3 -L. -Loqs/lib -Loqs/lib64  \\\r\n\t-o test/x509aux test/x509aux.o \\\r\n\t test/libtestutil.a -lcrypto -ldl -pthread -loqs -lm\r\n${LDCMD:-gcc} -pthread -m64 -Ioqs/include -Wa,--noexecstack -Wall -O3 -L. -Loqs/lib -Loqs/lib64  \\\r\n\t-o test/x509_internal_test test/x509_internal_test.o \\\r\n\t test/libtestutil.a libcrypto.a -ldl -pthread -loqs -lm\r\ncollect2: fatal error: ld terminated with signal 9 [Killed]\r\ncompilation terminated.\r\nmake[1]: *** [Makefile:7065: test/asynciotest] Error 1\r\nmake[1]: *** Waiting for unfinished jobs....\r\ncollect2: fatal error: ld terminated with signal 9 [Killed]\r\ncompilation terminated.\r\nmake[1]: *** [Makefile:8264: test/cipherbytes_test] Error 1\r\ncollect2: fatal error: ld terminated with signal 9 [Killed]\r\ncompilation terminated.\r\nmake[1]: *** [Makefile:8558: test/dtlsv1listentest] Error 1\r\ncollect2: fatal error: ld terminated with signal 9 [Killed]\r\ncompilation terminated.\r\n\r\n......\r\n\r\nmake[1]: *** [Makefile:8446: test/destest] Error 1\r\ncollect2: fatal error: ld terminated with signal 9 [Killed]\r\ncompilation terminated.\r\nmake[1]: *** [Makefile:9224: test/sslbuffertest] Error 1\r\ncollect2: fatal error: ld terminated with signal 9 [Killed]\r\ncompilation terminated.\r\nmake[1]: *** [Makefile:9091: test/siphash_internal_test] Error 1\r\nmake[1]: Leaving directory '/home/tanguy/TP-PostQantum/openssl'\r\nmake: *** [Makefile:175: all] Error 2\r\n```\r\n\r\nDo you have any idea what could cause this?\r\nThanks","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/449/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/1566592380","html_url":"https://github.com/open-quantum-safe/openssl/issues/449#issuecomment-1566592380","issue_url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/449","id":1566592380,"node_id":"IC_kwDOA_fpb85dYE18","user":{"login":"baentsch","id":57787676,"node_id":"MDQ6VXNlcjU3Nzg3Njc2","avatar_url":"https://avatars.githubusercontent.com/u/57787676?v=4","gravatar_id":"","url":"https://api.github.com/users/baentsch","html_url":"https://github.com/baentsch","followers_url":"https://api.github.com/users/baentsch/followers","following_url":"https://api.github.com/users/baentsch/following{/other_user}","gists_url":"https://api.github.com/users/baentsch/gists{/gist_id}","starred_url":"https://api.github.com/users/baentsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baentsch/subscriptions","organizations_url":"https://api.github.com/users/baentsch/orgs","repos_url":"https://api.github.com/users/baentsch/repos","events_url":"https://api.github.com/users/baentsch/events{/privacy}","received_events_url":"https://api.github.com/users/baentsch/received_events","type":"User","site_admin":false},"created_at":"2023-05-29T05:57:03Z","updated_at":"2023-05-29T05:57:03Z","author_association":"MEMBER","body":"The error message clearly points to `liboqs` not being linked in. But I have to apologize for not having time to look into this deeply: I shifted focus away from this old software and recommend the same to anyone else, too: Please switch to OpenSSL3 ( & oqsprovider for PQC).","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/openssl/issues/comments/1566592380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-05-29T05:57:03Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"29374889831","type":"IssueCommentEvent","actor":{"id":149199,"login":"bhess","display_login":"bhess","gravatar_id":"","url":"https://api.github.com/users/bhess","avatar_url":"https://avatars.githubusercontent.com/u/149199?"},"repo":{"id":334511511,"name":"open-quantum-safe/oqs-provider","url":"https://api.github.com/repos/open-quantum-safe/oqs-provider"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/173","repository_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider","labels_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/173/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/173/comments","events_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/173/events","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/173","id":1729369466,"node_id":"PR_kwDOE_A9l85RiHPy","number":173,"title":"Common.py","user":{"login":"bhess","id":149199,"node_id":"MDQ6VXNlcjE0OTE5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/149199?v=4","gravatar_id":"","url":"https://api.github.com/users/bhess","html_url":"https://github.com/bhess","followers_url":"https://api.github.com/users/bhess/followers","following_url":"https://api.github.com/users/bhess/following{/other_user}","gists_url":"https://api.github.com/users/bhess/gists{/gist_id}","starred_url":"https://api.github.com/users/bhess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhess/subscriptions","organizations_url":"https://api.github.com/users/bhess/orgs","repos_url":"https://api.github.com/users/bhess/repos","events_url":"https://api.github.com/users/bhess/events{/privacy}","received_events_url":"https://api.github.com/users/bhess/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-05-28T10:12:20Z","updated_at":"2023-05-29T08:27:56Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/pulls/173","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/173","diff_url":"https://github.com/open-quantum-safe/oqs-provider/pull/173.diff","patch_url":"https://github.com/open-quantum-safe/oqs-provider/pull/173.patch","merged_at":null},"body":"Adds common.py, similar to the version in oqs-openssl (https://github.com/open-quantum-safe/openssl/blob/OQS-OpenSSL_1_1_1-stable/oqs-test/common.py).\r\n\r\nIn addition, adds the security levels to each sig and kex algorithm.\r\n\r\nUsed by the build script for the test server.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/173/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1566754165","html_url":"https://github.com/open-quantum-safe/oqs-provider/pull/173#issuecomment-1566754165","issue_url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/173","id":1566754165,"node_id":"IC_kwDOE_A9l85dYsV1","user":{"login":"bhess","id":149199,"node_id":"MDQ6VXNlcjE0OTE5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/149199?v=4","gravatar_id":"","url":"https://api.github.com/users/bhess","html_url":"https://github.com/bhess","followers_url":"https://api.github.com/users/bhess/followers","following_url":"https://api.github.com/users/bhess/following{/other_user}","gists_url":"https://api.github.com/users/bhess/gists{/gist_id}","starred_url":"https://api.github.com/users/bhess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhess/subscriptions","organizations_url":"https://api.github.com/users/bhess/orgs","repos_url":"https://api.github.com/users/bhess/repos","events_url":"https://api.github.com/users/bhess/events{/privacy}","received_events_url":"https://api.github.com/users/bhess/received_events","type":"User","site_admin":false},"created_at":"2023-05-29T08:27:55Z","updated_at":"2023-05-29T08:27:55Z","author_association":"MEMBER","body":"Ok for me to close this PR. As discussed in https://github.com/open-quantum-safe/oqs-demos/pull/204, using `openssl list` seems the better way for oqs-demos to get the same information.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/oqs-provider/issues/comments/1566754165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-05-29T08:27:56Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"29382133440","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1483","id":1727813623,"node_id":"I_kwDOA-eq3c5m_Ff3","number":1483,"title":"40 tests fail on ARM32 (armv7hf): AssertionError: Got unexpected return code -4","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-05-26T15:13:38Z","updated_at":"2023-05-29T14:17:04Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nI try to build `0.8.0-rc1` for ALT Linux and found that 40 tests failed on armv7hf arch.\r\n```\r\n[00:00:48] + timeout 222 /usr/bin/ninja -j32 -C build run_tests\r\n[00:00:48] ninja: Entering directory `build'\r\n[00:00:49] [0/1] cd /usr/src/RPM/BUILD/liboqs-0.8.0.rc1 && /usr/bin/cmake -E env OQS_BUILD_DIR=/usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build python3 -m pytest --verbose --numprocesses=auto --ignore=scripts/copy_from_upstream/repos\r\n[00:00:55] ============================= test session starts ==============================\r\n[00:00:55] platform linux -- Python 3.10.8, pytest-7.3.1, pluggy-1.0.0 -- /usr/bin/python3\r\n[00:00:55] cachedir: .pytest_cache\r\n[00:00:55] rootdir: /usr/src/RPM/BUILD/liboqs-0.8.0.rc1\r\n[00:00:55] plugins: xdist-3.3.1\r\n[00:00:55] created: 32/32 workers\r\n[00:00:55] 32 workers [402 items]\r\n...\r\n[00:01:30] =================================== FAILURES ===================================\r\n[00:01:30] ______________________ test_kem[Classic-McEliece-348864] _______________________\r\n[00:01:30] [gw26] linux -- Python 3.10.8 /usr/bin/python3\r\n[00:01:30] \r\n[00:01:30] kem_name = 'Classic-McEliece-348864'\r\n[00:01:30] \r\n[00:01:30]     @helpers.filtered_test\r\n[00:01:30]     @pytest.mark.parametrize('kem_name', helpers.available_kems_by_name())\r\n[00:01:30]     def test_kem(kem_name):\r\n[00:01:30]         kats = helpers.get_kats(\"kem\")\r\n[00:01:30]         if not(helpers.is_kem_enabled_by_name(kem_name)): pytest.skip('Not enabled')\r\n[00:01:30] >       helpers.run_subprocess( [helpers.path_to_executable('speed_kem'), kem_name, \"-f\"] )\r\n[00:01:30] \r\n[00:01:30] tests/test_speed.py:14: \r\n[00:01:30] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[00:01:30] \r\n[00:01:30] command = ['/usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build/tests/speed_kem', 'Classic-McEliece-348864', '-f']\r\n[00:01:30] working_dir = '.'\r\n[00:01:30] env = {'G_BROKEN_FILENAMES': '1', 'HISTFILESIZE': '9999', 'HISTSIZE': '999', 'HOME': '/usr/src', ...}\r\n[00:01:30] expected_returncode = 0, input = None, ignore_returncode = False\r\n[00:01:30] \r\n[00:01:30]     def run_subprocess(command, working_dir='.', env=None, expected_returncode=0, input=None, ignore_returncode=False):\r\n[00:01:30]         \"\"\"\r\n[00:01:30]         Helper function to run a shell command and report success/failure\r\n[00:01:30]         depending on the exit status of the shell command.\r\n[00:01:30]         \"\"\"\r\n[00:01:30]         env_ = os.environ.copy()\r\n[00:01:30]         if env is not None:\r\n[00:01:30]             env_.update(env)\r\n[00:01:30]         env = env_\r\n[00:01:30]     \r\n[00:01:30]         # Note we need to capture stdout/stderr from the subprocess,\r\n[00:01:30]         # then print it, which pytest will then capture and\r\n[00:01:30]         # buffer appropriately\r\n[00:01:30]         print(working_dir + \" > \" + \" \".join(command))\r\n[00:01:30]     \r\n[00:01:30]         result = subprocess.run(\r\n[00:01:30]                 command,\r\n[00:01:30]                 input=input,\r\n[00:01:30]                 stdout=subprocess.PIPE,\r\n[00:01:30]                 stderr=subprocess.STDOUT,\r\n[00:01:30]                 cwd=working_dir,\r\n[00:01:30]                 env=env,\r\n[00:01:30]             )\r\n[00:01:30]     \r\n[00:01:30]         if not(ignore_returncode) and (result.returncode != expected_returncode):\r\n[00:01:30]             print(result.stdout.decode('utf-8'))\r\n[00:01:30] >           assert False, \"Got unexpected return code {}\".format(result.returncode)\r\n[00:01:30] E           AssertionError: Got unexpected return code -4\r\n[00:01:30] \r\n[00:01:30] tests/helpers.py:42: AssertionError\r\n[00:01:30] ----------------------------- Captured stdout call -----------------------------\r\n[00:01:30] . > /usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build/tests/speed_kem Classic-McEliece-348864 -f\r\n[00:01:30] \r\n...\r\n...\r\n[00:01:30] =========================== short test summary info ============================\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-348864] - AssertionErro...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-348864f] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-460896f] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6960119] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-460896] - AssertionErro...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6688128f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6960119f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-8192128] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-192] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-128] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-8192128f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber512] - AssertionError: Got unexpect...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-256] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber768] - AssertionError: Got unexpect...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[sntrup761] - AssertionError: Got unexpec...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-640-AES] - AssertionError: Got ...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-640-SHAKE] - AssertionError: Go...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-976-AES] - AssertionError: Got ...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-1344-AES] - AssertionError: Got...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium3] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-1344-SHAKE] - AssertionError: G...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-976-SHAKE] - AssertionError: Go...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium5] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Falcon-512] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium2] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Falcon-1024] - AssertionError: Got unexp...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-128s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-128f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-192f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-192s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-256f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-256s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-128f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-128s-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-192f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-256f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-256s-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6688128] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber1024] - AssertionError: Got unexpec...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-192s-simple] - AssertionE...\r\n[00:01:30] ================= 40 failed, 218 passed, 144 skipped in 40.35s =================\r\n```\r\n**Environment (please complete the following information):**\r\n - OS: `ALT Linux`\r\n - OpenSSL version `1.1.1t`\r\n - Compiler version used `gcc 12.2.1`\r\n - Build variables used `-DBUILD_SHARED_LIBS=ON -DOQS_DIST_BUILD=ON -DOQS_OPT_TARGET=generic`\r\n - liboqs version `0.8.0.rc1`\r\n\r\nFull build log is temporary available there https://git.altlinux.org/tasks/321944/build/100/armh/log\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1567199363","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1483#issuecomment-1567199363","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483","id":1567199363,"node_id":"IC_kwDOA-eq3c5daZCD","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2023-05-29T14:17:04Z","updated_at":"2023-05-29T14:17:04Z","author_association":"MEMBER","body":"Can you try adding `-DOQS_USE_RASPBERRY_PI` to your CMake command?  We have some code in ds_benchmark.h that is allowed on ARM but guarded against use on Raspberry Pi since we know it doesn't work there, I'm wondering if the problem extends further to ARM32.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1567199363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-05-29T14:17:05Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"29384350845","type":"IssueCommentEvent","actor":{"id":5671049,"login":"tranzystorek-io","display_login":"tranzystorek-io","gravatar_id":"","url":"https://api.github.com/users/tranzystorek-io","avatar_url":"https://avatars.githubusercontent.com/u/5671049?"},"repo":{"id":252143304,"name":"open-quantum-safe/liboqs-rust","url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/211","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/211/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/211/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/211/events","html_url":"https://github.com/open-quantum-safe/liboqs-rust/pull/211","id":1731000990,"node_id":"PR_kwDODwdmyM5Rnp91","number":211,"title":"Allow finding and linking system deps","user":{"login":"tranzystorek-io","id":5671049,"node_id":"MDQ6VXNlcjU2NzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/5671049?v=4","gravatar_id":"","url":"https://api.github.com/users/tranzystorek-io","html_url":"https://github.com/tranzystorek-io","followers_url":"https://api.github.com/users/tranzystorek-io/followers","following_url":"https://api.github.com/users/tranzystorek-io/following{/other_user}","gists_url":"https://api.github.com/users/tranzystorek-io/gists{/gist_id}","starred_url":"https://api.github.com/users/tranzystorek-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tranzystorek-io/subscriptions","organizations_url":"https://api.github.com/users/tranzystorek-io/orgs","repos_url":"https://api.github.com/users/tranzystorek-io/repos","events_url":"https://api.github.com/users/tranzystorek-io/events{/privacy}","received_events_url":"https://api.github.com/users/tranzystorek-io/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-05-29T16:15:41Z","updated_at":"2023-05-29T16:16:48Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/pulls/211","html_url":"https://github.com/open-quantum-safe/liboqs-rust/pull/211","diff_url":"https://github.com/open-quantum-safe/liboqs-rust/pull/211.diff","patch_url":"https://github.com/open-quantum-safe/liboqs-rust/pull/211.patch","merged_at":null},"body":"Addresses #190 \r\n\r\nAdds necessary changes to optionally detect the system liboqs version and link to it.\r\n\r\nTo consider:\r\n\r\n- Should there be a `vendor` feature, or can we defer to `pkg-config` crate's env var configuration (e.g. \"LIBOQS_NO_PKG_CONFIG\")\r\n- Is targeting the minor version (>= `0.8.0` && < `0.9.0`) enough?\r\n\r\nTested this manually with a system-installed build of liboqs 0.8.0-rc1. Not sure how best to test this in CI yet.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/211/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/comments/1567320630","html_url":"https://github.com/open-quantum-safe/liboqs-rust/pull/211#issuecomment-1567320630","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/211","id":1567320630,"node_id":"IC_kwDODwdmyM5da2o2","user":{"login":"tranzystorek-io","id":5671049,"node_id":"MDQ6VXNlcjU2NzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/5671049?v=4","gravatar_id":"","url":"https://api.github.com/users/tranzystorek-io","html_url":"https://github.com/tranzystorek-io","followers_url":"https://api.github.com/users/tranzystorek-io/followers","following_url":"https://api.github.com/users/tranzystorek-io/following{/other_user}","gists_url":"https://api.github.com/users/tranzystorek-io/gists{/gist_id}","starred_url":"https://api.github.com/users/tranzystorek-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tranzystorek-io/subscriptions","organizations_url":"https://api.github.com/users/tranzystorek-io/orgs","repos_url":"https://api.github.com/users/tranzystorek-io/repos","events_url":"https://api.github.com/users/tranzystorek-io/events{/privacy}","received_events_url":"https://api.github.com/users/tranzystorek-io/received_events","type":"User","site_admin":false},"created_at":"2023-05-29T16:16:48Z","updated_at":"2023-05-29T16:16:48Z","author_association":"NONE","body":"Oops, meant for this to be a draft for now.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/comments/1567320630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-05-29T16:16:49Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"29384370690","type":"IssueCommentEvent","actor":{"id":5671049,"login":"tranzystorek-io","display_login":"tranzystorek-io","gravatar_id":"","url":"https://api.github.com/users/tranzystorek-io","avatar_url":"https://avatars.githubusercontent.com/u/5671049?"},"repo":{"id":252143304,"name":"open-quantum-safe/liboqs-rust","url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/211","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/211/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/211/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/211/events","html_url":"https://github.com/open-quantum-safe/liboqs-rust/pull/211","id":1731000990,"node_id":"PR_kwDODwdmyM5Rnp91","number":211,"title":"Allow finding and linking system deps","user":{"login":"tranzystorek-io","id":5671049,"node_id":"MDQ6VXNlcjU2NzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/5671049?v=4","gravatar_id":"","url":"https://api.github.com/users/tranzystorek-io","html_url":"https://github.com/tranzystorek-io","followers_url":"https://api.github.com/users/tranzystorek-io/followers","following_url":"https://api.github.com/users/tranzystorek-io/following{/other_user}","gists_url":"https://api.github.com/users/tranzystorek-io/gists{/gist_id}","starred_url":"https://api.github.com/users/tranzystorek-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tranzystorek-io/subscriptions","organizations_url":"https://api.github.com/users/tranzystorek-io/orgs","repos_url":"https://api.github.com/users/tranzystorek-io/repos","events_url":"https://api.github.com/users/tranzystorek-io/events{/privacy}","received_events_url":"https://api.github.com/users/tranzystorek-io/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-05-29T16:15:41Z","updated_at":"2023-05-29T16:18:11Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/pulls/211","html_url":"https://github.com/open-quantum-safe/liboqs-rust/pull/211","diff_url":"https://github.com/open-quantum-safe/liboqs-rust/pull/211.diff","patch_url":"https://github.com/open-quantum-safe/liboqs-rust/pull/211.patch","merged_at":null},"body":"Addresses #190 \r\n\r\nAdds necessary changes to optionally detect the system liboqs version and link to it.\r\n\r\nTo consider:\r\n\r\n- Should there be a `vendor` feature, or can we defer to `pkg-config` crate's env var configuration (e.g. \"LIBOQS_NO_PKG_CONFIG\")\r\n- Is targeting the minor version (>= `0.8.0` && < `0.9.0`) enough?\r\n\r\nTested this manually with a system-installed build of liboqs 0.8.0-rc1. Not sure how best to test this in CI yet.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/211/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/comments/1567321656","html_url":"https://github.com/open-quantum-safe/liboqs-rust/pull/211#issuecomment-1567321656","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/211","id":1567321656,"node_id":"IC_kwDODwdmyM5da244","user":{"login":"tranzystorek-io","id":5671049,"node_id":"MDQ6VXNlcjU2NzEwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/5671049?v=4","gravatar_id":"","url":"https://api.github.com/users/tranzystorek-io","html_url":"https://github.com/tranzystorek-io","followers_url":"https://api.github.com/users/tranzystorek-io/followers","following_url":"https://api.github.com/users/tranzystorek-io/following{/other_user}","gists_url":"https://api.github.com/users/tranzystorek-io/gists{/gist_id}","starred_url":"https://api.github.com/users/tranzystorek-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tranzystorek-io/subscriptions","organizations_url":"https://api.github.com/users/tranzystorek-io/orgs","repos_url":"https://api.github.com/users/tranzystorek-io/repos","events_url":"https://api.github.com/users/tranzystorek-io/events{/privacy}","received_events_url":"https://api.github.com/users/tranzystorek-io/received_events","type":"User","site_admin":false},"created_at":"2023-05-29T16:18:10Z","updated_at":"2023-05-29T16:18:10Z","author_association":"NONE","body":"Ping @wucke13 for discussion","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/comments/1567321656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-05-29T16:18:11Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"29385519413","type":"IssueCommentEvent","actor":{"id":36664211,"login":"vt-alt","display_login":"vt-alt","gravatar_id":"","url":"https://api.github.com/users/vt-alt","avatar_url":"https://avatars.githubusercontent.com/u/36664211?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1483","id":1727813623,"node_id":"I_kwDOA-eq3c5m_Ff3","number":1483,"title":"40 tests fail on ARM32 (armv7hf): AssertionError: Got unexpected return code -4","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-05-26T15:13:38Z","updated_at":"2023-05-29T17:39:03Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nI try to build `0.8.0-rc1` for ALT Linux and found that 40 tests failed on armv7hf arch.\r\n```\r\n[00:00:48] + timeout 222 /usr/bin/ninja -j32 -C build run_tests\r\n[00:00:48] ninja: Entering directory `build'\r\n[00:00:49] [0/1] cd /usr/src/RPM/BUILD/liboqs-0.8.0.rc1 && /usr/bin/cmake -E env OQS_BUILD_DIR=/usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build python3 -m pytest --verbose --numprocesses=auto --ignore=scripts/copy_from_upstream/repos\r\n[00:00:55] ============================= test session starts ==============================\r\n[00:00:55] platform linux -- Python 3.10.8, pytest-7.3.1, pluggy-1.0.0 -- /usr/bin/python3\r\n[00:00:55] cachedir: .pytest_cache\r\n[00:00:55] rootdir: /usr/src/RPM/BUILD/liboqs-0.8.0.rc1\r\n[00:00:55] plugins: xdist-3.3.1\r\n[00:00:55] created: 32/32 workers\r\n[00:00:55] 32 workers [402 items]\r\n...\r\n[00:01:30] =================================== FAILURES ===================================\r\n[00:01:30] ______________________ test_kem[Classic-McEliece-348864] _______________________\r\n[00:01:30] [gw26] linux -- Python 3.10.8 /usr/bin/python3\r\n[00:01:30] \r\n[00:01:30] kem_name = 'Classic-McEliece-348864'\r\n[00:01:30] \r\n[00:01:30]     @helpers.filtered_test\r\n[00:01:30]     @pytest.mark.parametrize('kem_name', helpers.available_kems_by_name())\r\n[00:01:30]     def test_kem(kem_name):\r\n[00:01:30]         kats = helpers.get_kats(\"kem\")\r\n[00:01:30]         if not(helpers.is_kem_enabled_by_name(kem_name)): pytest.skip('Not enabled')\r\n[00:01:30] >       helpers.run_subprocess( [helpers.path_to_executable('speed_kem'), kem_name, \"-f\"] )\r\n[00:01:30] \r\n[00:01:30] tests/test_speed.py:14: \r\n[00:01:30] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[00:01:30] \r\n[00:01:30] command = ['/usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build/tests/speed_kem', 'Classic-McEliece-348864', '-f']\r\n[00:01:30] working_dir = '.'\r\n[00:01:30] env = {'G_BROKEN_FILENAMES': '1', 'HISTFILESIZE': '9999', 'HISTSIZE': '999', 'HOME': '/usr/src', ...}\r\n[00:01:30] expected_returncode = 0, input = None, ignore_returncode = False\r\n[00:01:30] \r\n[00:01:30]     def run_subprocess(command, working_dir='.', env=None, expected_returncode=0, input=None, ignore_returncode=False):\r\n[00:01:30]         \"\"\"\r\n[00:01:30]         Helper function to run a shell command and report success/failure\r\n[00:01:30]         depending on the exit status of the shell command.\r\n[00:01:30]         \"\"\"\r\n[00:01:30]         env_ = os.environ.copy()\r\n[00:01:30]         if env is not None:\r\n[00:01:30]             env_.update(env)\r\n[00:01:30]         env = env_\r\n[00:01:30]     \r\n[00:01:30]         # Note we need to capture stdout/stderr from the subprocess,\r\n[00:01:30]         # then print it, which pytest will then capture and\r\n[00:01:30]         # buffer appropriately\r\n[00:01:30]         print(working_dir + \" > \" + \" \".join(command))\r\n[00:01:30]     \r\n[00:01:30]         result = subprocess.run(\r\n[00:01:30]                 command,\r\n[00:01:30]                 input=input,\r\n[00:01:30]                 stdout=subprocess.PIPE,\r\n[00:01:30]                 stderr=subprocess.STDOUT,\r\n[00:01:30]                 cwd=working_dir,\r\n[00:01:30]                 env=env,\r\n[00:01:30]             )\r\n[00:01:30]     \r\n[00:01:30]         if not(ignore_returncode) and (result.returncode != expected_returncode):\r\n[00:01:30]             print(result.stdout.decode('utf-8'))\r\n[00:01:30] >           assert False, \"Got unexpected return code {}\".format(result.returncode)\r\n[00:01:30] E           AssertionError: Got unexpected return code -4\r\n[00:01:30] \r\n[00:01:30] tests/helpers.py:42: AssertionError\r\n[00:01:30] ----------------------------- Captured stdout call -----------------------------\r\n[00:01:30] . > /usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build/tests/speed_kem Classic-McEliece-348864 -f\r\n[00:01:30] \r\n...\r\n...\r\n[00:01:30] =========================== short test summary info ============================\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-348864] - AssertionErro...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-348864f] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-460896f] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6960119] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-460896] - AssertionErro...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6688128f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6960119f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-8192128] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-192] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-128] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-8192128f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber512] - AssertionError: Got unexpect...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-256] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber768] - AssertionError: Got unexpect...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[sntrup761] - AssertionError: Got unexpec...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-640-AES] - AssertionError: Got ...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-640-SHAKE] - AssertionError: Go...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-976-AES] - AssertionError: Got ...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-1344-AES] - AssertionError: Got...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium3] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-1344-SHAKE] - AssertionError: G...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-976-SHAKE] - AssertionError: Go...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium5] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Falcon-512] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium2] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Falcon-1024] - AssertionError: Got unexp...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-128s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-128f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-192f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-192s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-256f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-256s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-128f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-128s-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-192f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-256f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-256s-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6688128] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber1024] - AssertionError: Got unexpec...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-192s-simple] - AssertionE...\r\n[00:01:30] ================= 40 failed, 218 passed, 144 skipped in 40.35s =================\r\n```\r\n**Environment (please complete the following information):**\r\n - OS: `ALT Linux`\r\n - OpenSSL version `1.1.1t`\r\n - Compiler version used `gcc 12.2.1`\r\n - Build variables used `-DBUILD_SHARED_LIBS=ON -DOQS_DIST_BUILD=ON -DOQS_OPT_TARGET=generic`\r\n - liboqs version `0.8.0.rc1`\r\n\r\nFull build log is temporary available there https://git.altlinux.org/tasks/321944/build/100/armh/log\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1567376720","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1483#issuecomment-1567376720","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483","id":1567376720,"node_id":"IC_kwDOA-eq3c5dbEVQ","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"created_at":"2023-05-29T17:39:03Z","updated_at":"2023-05-29T17:39:03Z","author_association":"CONTRIBUTOR","body":"I added `-DOQS_USE_RASPBERRY_PI` to `CFLAGS`[1] and after this all tests are passed.\r\n```\r\n====================== 258 passed, 144 skipped in 37.18s =======================\r\n```\r\n\r\nThanks!\r\n\r\n[1] Adding to `cmake` command does not work:\r\n```\r\nCMake Error: Parse error in command line argument: OQS_USE_RASPBERRY_PI\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1567376720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-05-29T17:39:04Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"29386541309","type":"IssueCommentEvent","actor":{"id":49699333,"login":"dependabot[bot]","display_login":"dependabot","gravatar_id":"","url":"https://api.github.com/users/dependabot[bot]","avatar_url":"https://avatars.githubusercontent.com/u/49699333?"},"repo":{"id":252143304,"name":"open-quantum-safe/liboqs-rust","url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/210","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/210/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/210/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/210/events","html_url":"https://github.com/open-quantum-safe/liboqs-rust/pull/210","id":1720260624,"node_id":"PR_kwDODwdmyM5RDEwo","number":210,"title":"Bump oqs-sys/liboqs from `24c7f4f` to `6e1f49a`","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","site_admin":false},"labels":[{"id":2730583541,"node_id":"MDU6TGFiZWwyNzMwNTgzNTQx","url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/labels/dependencies","name":"dependencies","color":"0366d6","default":false,"description":"Pull requests that update a dependency file"},{"id":2730584915,"node_id":"MDU6TGFiZWwyNzMwNTg0OTE1","url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/labels/submodules","name":"submodules","color":"000000","default":false,"description":"Pull requests that update Submodules code"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2023-05-22T18:56:41Z","updated_at":"2023-05-29T18:56:34Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/pulls/210","html_url":"https://github.com/open-quantum-safe/liboqs-rust/pull/210","diff_url":"https://github.com/open-quantum-safe/liboqs-rust/pull/210.diff","patch_url":"https://github.com/open-quantum-safe/liboqs-rust/pull/210.patch","merged_at":null},"body":"Bumps [oqs-sys/liboqs](https://github.com/Open-Quantum-Safe/liboqs) from `24c7f4f` to `6e1f49a`.\n<details>\n<summary>Commits</summary>\n<ul>\n<li><a href=\"https://github.com/open-quantum-safe/liboqs/commit/6e1f49aa48971b0fc8658e94ca41d1ad4fe480ee\"><code>6e1f49a</code></a> Patch AVX2 support: No Win for Sphincs+ (<a href=\"https://redirect.github.com/Open-Quantum-Safe/liboqs/issues/1478\">#1478</a>)</li>\n<li><a href=\"https://github.com/open-quantum-safe/liboqs/commit/36f399438892af6e6ce4dc1fdf00c8cc2f6e936b\"><code>36f3994</code></a> Update SPHINCS+ specification version [skip ci] (<a href=\"https://redirect.github.com/Open-Quantum-Safe/liboqs/issues/1477\">#1477</a>)</li>\n<li><a href=\"https://github.com/open-quantum-safe/liboqs/commit/aaa5695ae26aea31b7e401312abbfa949995b954\"><code>aaa5695</code></a> protect ossl cleanup from multithreading errors (<a href=\"https://redirect.github.com/Open-Quantum-Safe/liboqs/issues/1472\">#1472</a>)</li>\n<li><a href=\"https://github.com/open-quantum-safe/liboqs/commit/e11e2d104846c20b9d2f1c931333e2de3ae9702f\"><code>e11e2d1</code></a> Extend test_hash to cover more input lengths (<a href=\"https://redirect.github.com/Open-Quantum-Safe/liboqs/issues/1468\">#1468</a>)</li>\n<li><a href=\"https://github.com/open-quantum-safe/liboqs/commit/4d10a58abc9374a8eb92e87c68ae11b7cb7579da\"><code>4d10a58</code></a> Renamed sphincs-sha256-X to sphincs-sha2-X and sphincs-shake256-X to sphincs-...</li>\n<li><a href=\"https://github.com/open-quantum-safe/liboqs/commit/5f5eee842827f796f773d11b0769bec10cd15878\"><code>5f5eee8</code></a> once OSSL init (<a href=\"https://redirect.github.com/Open-Quantum-Safe/liboqs/issues/1469\">#1469</a>)</li>\n<li><a href=\"https://github.com/open-quantum-safe/liboqs/commit/b63d5c068f7c4850f78a326727d4822604381d0b\"><code>b63d5c0</code></a> relax OpenSSL initialization error handling (<a href=\"https://redirect.github.com/Open-Quantum-Safe/liboqs/issues/1463\">#1463</a>)</li>\n<li><a href=\"https://github.com/open-quantum-safe/liboqs/commit/35b1bf2704c4d51d366640cf56f5dcc8b5a7b49f\"><code>35b1bf2</code></a> Remove remaining references to SPHINCS+-Haraka, Kyber 90s, Dilithium-AES (<a href=\"https://redirect.github.com/Open-Quantum-Safe/liboqs/issues/1465\">#1465</a>)</li>\n<li><a href=\"https://github.com/open-quantum-safe/liboqs/commit/fd1b89724aa9683a57e400dbd8ceb591aa47df91\"><code>fd1b897</code></a> Update SPHINCS+ (<a href=\"https://redirect.github.com/Open-Quantum-Safe/liboqs/issues/1420\">#1420</a>)</li>\n<li>See full diff in <a href=\"https://github.com/Open-Quantum-Safe/liboqs/compare/24c7f4f07896252fe82a042633cf1d9e893153e4...6e1f49aa48971b0fc8658e94ca41d1ad4fe480ee\">compare view</a></li>\n</ul>\n</details>\n<br />\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n\n\n</details>","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/210/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/comments/1567426623","html_url":"https://github.com/open-quantum-safe/liboqs-rust/pull/210#issuecomment-1567426623","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/210","id":1567426623,"node_id":"IC_kwDODwdmyM5dbQg_","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","site_admin":false},"created_at":"2023-05-29T18:56:34Z","updated_at":"2023-05-29T18:56:34Z","author_association":"CONTRIBUTOR","body":"A newer version of oqs-sys/liboqs exists, but since this PR has been edited by someone other than Dependabot I haven't updated it. You'll get a PR for the updated version as normal once this PR is merged.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs-rust/issues/comments/1567426623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-05-29T18:56:34Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"29386725771","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1483","id":1727813623,"node_id":"I_kwDOA-eq3c5m_Ff3","number":1483,"title":"40 tests fail on ARM32 (armv7hf): AssertionError: Got unexpected return code -4","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2023-05-26T15:13:38Z","updated_at":"2023-05-29T19:08:20Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nI try to build `0.8.0-rc1` for ALT Linux and found that 40 tests failed on armv7hf arch.\r\n```\r\n[00:00:48] + timeout 222 /usr/bin/ninja -j32 -C build run_tests\r\n[00:00:48] ninja: Entering directory `build'\r\n[00:00:49] [0/1] cd /usr/src/RPM/BUILD/liboqs-0.8.0.rc1 && /usr/bin/cmake -E env OQS_BUILD_DIR=/usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build python3 -m pytest --verbose --numprocesses=auto --ignore=scripts/copy_from_upstream/repos\r\n[00:00:55] ============================= test session starts ==============================\r\n[00:00:55] platform linux -- Python 3.10.8, pytest-7.3.1, pluggy-1.0.0 -- /usr/bin/python3\r\n[00:00:55] cachedir: .pytest_cache\r\n[00:00:55] rootdir: /usr/src/RPM/BUILD/liboqs-0.8.0.rc1\r\n[00:00:55] plugins: xdist-3.3.1\r\n[00:00:55] created: 32/32 workers\r\n[00:00:55] 32 workers [402 items]\r\n...\r\n[00:01:30] =================================== FAILURES ===================================\r\n[00:01:30] ______________________ test_kem[Classic-McEliece-348864] _______________________\r\n[00:01:30] [gw26] linux -- Python 3.10.8 /usr/bin/python3\r\n[00:01:30] \r\n[00:01:30] kem_name = 'Classic-McEliece-348864'\r\n[00:01:30] \r\n[00:01:30]     @helpers.filtered_test\r\n[00:01:30]     @pytest.mark.parametrize('kem_name', helpers.available_kems_by_name())\r\n[00:01:30]     def test_kem(kem_name):\r\n[00:01:30]         kats = helpers.get_kats(\"kem\")\r\n[00:01:30]         if not(helpers.is_kem_enabled_by_name(kem_name)): pytest.skip('Not enabled')\r\n[00:01:30] >       helpers.run_subprocess( [helpers.path_to_executable('speed_kem'), kem_name, \"-f\"] )\r\n[00:01:30] \r\n[00:01:30] tests/test_speed.py:14: \r\n[00:01:30] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[00:01:30] \r\n[00:01:30] command = ['/usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build/tests/speed_kem', 'Classic-McEliece-348864', '-f']\r\n[00:01:30] working_dir = '.'\r\n[00:01:30] env = {'G_BROKEN_FILENAMES': '1', 'HISTFILESIZE': '9999', 'HISTSIZE': '999', 'HOME': '/usr/src', ...}\r\n[00:01:30] expected_returncode = 0, input = None, ignore_returncode = False\r\n[00:01:30] \r\n[00:01:30]     def run_subprocess(command, working_dir='.', env=None, expected_returncode=0, input=None, ignore_returncode=False):\r\n[00:01:30]         \"\"\"\r\n[00:01:30]         Helper function to run a shell command and report success/failure\r\n[00:01:30]         depending on the exit status of the shell command.\r\n[00:01:30]         \"\"\"\r\n[00:01:30]         env_ = os.environ.copy()\r\n[00:01:30]         if env is not None:\r\n[00:01:30]             env_.update(env)\r\n[00:01:30]         env = env_\r\n[00:01:30]     \r\n[00:01:30]         # Note we need to capture stdout/stderr from the subprocess,\r\n[00:01:30]         # then print it, which pytest will then capture and\r\n[00:01:30]         # buffer appropriately\r\n[00:01:30]         print(working_dir + \" > \" + \" \".join(command))\r\n[00:01:30]     \r\n[00:01:30]         result = subprocess.run(\r\n[00:01:30]                 command,\r\n[00:01:30]                 input=input,\r\n[00:01:30]                 stdout=subprocess.PIPE,\r\n[00:01:30]                 stderr=subprocess.STDOUT,\r\n[00:01:30]                 cwd=working_dir,\r\n[00:01:30]                 env=env,\r\n[00:01:30]             )\r\n[00:01:30]     \r\n[00:01:30]         if not(ignore_returncode) and (result.returncode != expected_returncode):\r\n[00:01:30]             print(result.stdout.decode('utf-8'))\r\n[00:01:30] >           assert False, \"Got unexpected return code {}\".format(result.returncode)\r\n[00:01:30] E           AssertionError: Got unexpected return code -4\r\n[00:01:30] \r\n[00:01:30] tests/helpers.py:42: AssertionError\r\n[00:01:30] ----------------------------- Captured stdout call -----------------------------\r\n[00:01:30] . > /usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build/tests/speed_kem Classic-McEliece-348864 -f\r\n[00:01:30] \r\n...\r\n...\r\n[00:01:30] =========================== short test summary info ============================\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-348864] - AssertionErro...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-348864f] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-460896f] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6960119] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-460896] - AssertionErro...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6688128f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6960119f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-8192128] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-192] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-128] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-8192128f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber512] - AssertionError: Got unexpect...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-256] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber768] - AssertionError: Got unexpect...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[sntrup761] - AssertionError: Got unexpec...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-640-AES] - AssertionError: Got ...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-640-SHAKE] - AssertionError: Go...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-976-AES] - AssertionError: Got ...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-1344-AES] - AssertionError: Got...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium3] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-1344-SHAKE] - AssertionError: G...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-976-SHAKE] - AssertionError: Go...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium5] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Falcon-512] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium2] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Falcon-1024] - AssertionError: Got unexp...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-128s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-128f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-192f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-192s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-256f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-256s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-128f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-128s-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-192f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-256f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-256s-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6688128] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber1024] - AssertionError: Got unexpec...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-192s-simple] - AssertionE...\r\n[00:01:30] ================= 40 failed, 218 passed, 144 skipped in 40.35s =================\r\n```\r\n**Environment (please complete the following information):**\r\n - OS: `ALT Linux`\r\n - OpenSSL version `1.1.1t`\r\n - Compiler version used `gcc 12.2.1`\r\n - Build variables used `-DBUILD_SHARED_LIBS=ON -DOQS_DIST_BUILD=ON -DOQS_OPT_TARGET=generic`\r\n - liboqs version `0.8.0.rc1`\r\n\r\nFull build log is temporary available there https://git.altlinux.org/tasks/321944/build/100/armh/log\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1567438089","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1483#issuecomment-1567438089","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483","id":1567438089,"node_id":"IC_kwDOA-eq3c5dbTUJ","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2023-05-29T19:08:20Z","updated_at":"2023-05-29T19:08:20Z","author_association":"MEMBER","body":"Okay, so that's the code that was causing the problem. Do you know how to do cycle counting on ARM32?  If not, then ideally we would update the CMake configuration to automatically detect ARM32 and apply the flag you did.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1567438089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-05-29T19:08:20Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"29387184756","type":"IssueCommentEvent","actor":{"id":36664211,"login":"vt-alt","display_login":"vt-alt","gravatar_id":"","url":"https://api.github.com/users/vt-alt","avatar_url":"https://avatars.githubusercontent.com/u/36664211?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1483","id":1727813623,"node_id":"I_kwDOA-eq3c5m_Ff3","number":1483,"title":"40 tests fail on ARM32 (armv7hf): AssertionError: Got unexpected return code -4","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2023-05-26T15:13:38Z","updated_at":"2023-05-29T19:46:30Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nI try to build `0.8.0-rc1` for ALT Linux and found that 40 tests failed on armv7hf arch.\r\n```\r\n[00:00:48] + timeout 222 /usr/bin/ninja -j32 -C build run_tests\r\n[00:00:48] ninja: Entering directory `build'\r\n[00:00:49] [0/1] cd /usr/src/RPM/BUILD/liboqs-0.8.0.rc1 && /usr/bin/cmake -E env OQS_BUILD_DIR=/usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build python3 -m pytest --verbose --numprocesses=auto --ignore=scripts/copy_from_upstream/repos\r\n[00:00:55] ============================= test session starts ==============================\r\n[00:00:55] platform linux -- Python 3.10.8, pytest-7.3.1, pluggy-1.0.0 -- /usr/bin/python3\r\n[00:00:55] cachedir: .pytest_cache\r\n[00:00:55] rootdir: /usr/src/RPM/BUILD/liboqs-0.8.0.rc1\r\n[00:00:55] plugins: xdist-3.3.1\r\n[00:00:55] created: 32/32 workers\r\n[00:00:55] 32 workers [402 items]\r\n...\r\n[00:01:30] =================================== FAILURES ===================================\r\n[00:01:30] ______________________ test_kem[Classic-McEliece-348864] _______________________\r\n[00:01:30] [gw26] linux -- Python 3.10.8 /usr/bin/python3\r\n[00:01:30] \r\n[00:01:30] kem_name = 'Classic-McEliece-348864'\r\n[00:01:30] \r\n[00:01:30]     @helpers.filtered_test\r\n[00:01:30]     @pytest.mark.parametrize('kem_name', helpers.available_kems_by_name())\r\n[00:01:30]     def test_kem(kem_name):\r\n[00:01:30]         kats = helpers.get_kats(\"kem\")\r\n[00:01:30]         if not(helpers.is_kem_enabled_by_name(kem_name)): pytest.skip('Not enabled')\r\n[00:01:30] >       helpers.run_subprocess( [helpers.path_to_executable('speed_kem'), kem_name, \"-f\"] )\r\n[00:01:30] \r\n[00:01:30] tests/test_speed.py:14: \r\n[00:01:30] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[00:01:30] \r\n[00:01:30] command = ['/usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build/tests/speed_kem', 'Classic-McEliece-348864', '-f']\r\n[00:01:30] working_dir = '.'\r\n[00:01:30] env = {'G_BROKEN_FILENAMES': '1', 'HISTFILESIZE': '9999', 'HISTSIZE': '999', 'HOME': '/usr/src', ...}\r\n[00:01:30] expected_returncode = 0, input = None, ignore_returncode = False\r\n[00:01:30] \r\n[00:01:30]     def run_subprocess(command, working_dir='.', env=None, expected_returncode=0, input=None, ignore_returncode=False):\r\n[00:01:30]         \"\"\"\r\n[00:01:30]         Helper function to run a shell command and report success/failure\r\n[00:01:30]         depending on the exit status of the shell command.\r\n[00:01:30]         \"\"\"\r\n[00:01:30]         env_ = os.environ.copy()\r\n[00:01:30]         if env is not None:\r\n[00:01:30]             env_.update(env)\r\n[00:01:30]         env = env_\r\n[00:01:30]     \r\n[00:01:30]         # Note we need to capture stdout/stderr from the subprocess,\r\n[00:01:30]         # then print it, which pytest will then capture and\r\n[00:01:30]         # buffer appropriately\r\n[00:01:30]         print(working_dir + \" > \" + \" \".join(command))\r\n[00:01:30]     \r\n[00:01:30]         result = subprocess.run(\r\n[00:01:30]                 command,\r\n[00:01:30]                 input=input,\r\n[00:01:30]                 stdout=subprocess.PIPE,\r\n[00:01:30]                 stderr=subprocess.STDOUT,\r\n[00:01:30]                 cwd=working_dir,\r\n[00:01:30]                 env=env,\r\n[00:01:30]             )\r\n[00:01:30]     \r\n[00:01:30]         if not(ignore_returncode) and (result.returncode != expected_returncode):\r\n[00:01:30]             print(result.stdout.decode('utf-8'))\r\n[00:01:30] >           assert False, \"Got unexpected return code {}\".format(result.returncode)\r\n[00:01:30] E           AssertionError: Got unexpected return code -4\r\n[00:01:30] \r\n[00:01:30] tests/helpers.py:42: AssertionError\r\n[00:01:30] ----------------------------- Captured stdout call -----------------------------\r\n[00:01:30] . > /usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build/tests/speed_kem Classic-McEliece-348864 -f\r\n[00:01:30] \r\n...\r\n...\r\n[00:01:30] =========================== short test summary info ============================\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-348864] - AssertionErro...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-348864f] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-460896f] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6960119] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-460896] - AssertionErro...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6688128f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6960119f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-8192128] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-192] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-128] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-8192128f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber512] - AssertionError: Got unexpect...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-256] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber768] - AssertionError: Got unexpect...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[sntrup761] - AssertionError: Got unexpec...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-640-AES] - AssertionError: Got ...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-640-SHAKE] - AssertionError: Go...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-976-AES] - AssertionError: Got ...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-1344-AES] - AssertionError: Got...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium3] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-1344-SHAKE] - AssertionError: G...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-976-SHAKE] - AssertionError: Go...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium5] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Falcon-512] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium2] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Falcon-1024] - AssertionError: Got unexp...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-128s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-128f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-192f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-192s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-256f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-256s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-128f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-128s-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-192f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-256f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-256s-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6688128] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber1024] - AssertionError: Got unexpec...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-192s-simple] - AssertionE...\r\n[00:01:30] ================= 40 failed, 218 passed, 144 skipped in 40.35s =================\r\n```\r\n**Environment (please complete the following information):**\r\n - OS: `ALT Linux`\r\n - OpenSSL version `1.1.1t`\r\n - Compiler version used `gcc 12.2.1`\r\n - Build variables used `-DBUILD_SHARED_LIBS=ON -DOQS_DIST_BUILD=ON -DOQS_OPT_TARGET=generic`\r\n - liboqs version `0.8.0.rc1`\r\n\r\nFull build log is temporary available there https://git.altlinux.org/tasks/321944/build/100/armh/log\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1567461704","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1483#issuecomment-1567461704","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483","id":1567461704,"node_id":"IC_kwDOA-eq3c5dbZFI","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"created_at":"2023-05-29T19:46:30Z","updated_at":"2023-05-29T19:46:30Z","author_association":"CONTRIBUTOR","body":"I'm not an expert in ARM32, so I don't have personal knowledge, but I have heard that djb does `libcpucycles`, which appears to support some ARM32.: https://cpucycles.cr.yp.to/libcpucycles-20230115/cpucycles/arm32-cortex.c.html (not tested by me.)","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1567461704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-05-29T19:46:30Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"29387359947","type":"IssueCommentEvent","actor":{"id":36664211,"login":"vt-alt","display_login":"vt-alt","gravatar_id":"","url":"https://api.github.com/users/vt-alt","avatar_url":"https://avatars.githubusercontent.com/u/36664211?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1483","id":1727813623,"node_id":"I_kwDOA-eq3c5m_Ff3","number":1483,"title":"40 tests fail on ARM32 (armv7hf): AssertionError: Got unexpected return code -4","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2023-05-26T15:13:38Z","updated_at":"2023-05-29T20:00:36Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nI try to build `0.8.0-rc1` for ALT Linux and found that 40 tests failed on armv7hf arch.\r\n```\r\n[00:00:48] + timeout 222 /usr/bin/ninja -j32 -C build run_tests\r\n[00:00:48] ninja: Entering directory `build'\r\n[00:00:49] [0/1] cd /usr/src/RPM/BUILD/liboqs-0.8.0.rc1 && /usr/bin/cmake -E env OQS_BUILD_DIR=/usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build python3 -m pytest --verbose --numprocesses=auto --ignore=scripts/copy_from_upstream/repos\r\n[00:00:55] ============================= test session starts ==============================\r\n[00:00:55] platform linux -- Python 3.10.8, pytest-7.3.1, pluggy-1.0.0 -- /usr/bin/python3\r\n[00:00:55] cachedir: .pytest_cache\r\n[00:00:55] rootdir: /usr/src/RPM/BUILD/liboqs-0.8.0.rc1\r\n[00:00:55] plugins: xdist-3.3.1\r\n[00:00:55] created: 32/32 workers\r\n[00:00:55] 32 workers [402 items]\r\n...\r\n[00:01:30] =================================== FAILURES ===================================\r\n[00:01:30] ______________________ test_kem[Classic-McEliece-348864] _______________________\r\n[00:01:30] [gw26] linux -- Python 3.10.8 /usr/bin/python3\r\n[00:01:30] \r\n[00:01:30] kem_name = 'Classic-McEliece-348864'\r\n[00:01:30] \r\n[00:01:30]     @helpers.filtered_test\r\n[00:01:30]     @pytest.mark.parametrize('kem_name', helpers.available_kems_by_name())\r\n[00:01:30]     def test_kem(kem_name):\r\n[00:01:30]         kats = helpers.get_kats(\"kem\")\r\n[00:01:30]         if not(helpers.is_kem_enabled_by_name(kem_name)): pytest.skip('Not enabled')\r\n[00:01:30] >       helpers.run_subprocess( [helpers.path_to_executable('speed_kem'), kem_name, \"-f\"] )\r\n[00:01:30] \r\n[00:01:30] tests/test_speed.py:14: \r\n[00:01:30] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[00:01:30] \r\n[00:01:30] command = ['/usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build/tests/speed_kem', 'Classic-McEliece-348864', '-f']\r\n[00:01:30] working_dir = '.'\r\n[00:01:30] env = {'G_BROKEN_FILENAMES': '1', 'HISTFILESIZE': '9999', 'HISTSIZE': '999', 'HOME': '/usr/src', ...}\r\n[00:01:30] expected_returncode = 0, input = None, ignore_returncode = False\r\n[00:01:30] \r\n[00:01:30]     def run_subprocess(command, working_dir='.', env=None, expected_returncode=0, input=None, ignore_returncode=False):\r\n[00:01:30]         \"\"\"\r\n[00:01:30]         Helper function to run a shell command and report success/failure\r\n[00:01:30]         depending on the exit status of the shell command.\r\n[00:01:30]         \"\"\"\r\n[00:01:30]         env_ = os.environ.copy()\r\n[00:01:30]         if env is not None:\r\n[00:01:30]             env_.update(env)\r\n[00:01:30]         env = env_\r\n[00:01:30]     \r\n[00:01:30]         # Note we need to capture stdout/stderr from the subprocess,\r\n[00:01:30]         # then print it, which pytest will then capture and\r\n[00:01:30]         # buffer appropriately\r\n[00:01:30]         print(working_dir + \" > \" + \" \".join(command))\r\n[00:01:30]     \r\n[00:01:30]         result = subprocess.run(\r\n[00:01:30]                 command,\r\n[00:01:30]                 input=input,\r\n[00:01:30]                 stdout=subprocess.PIPE,\r\n[00:01:30]                 stderr=subprocess.STDOUT,\r\n[00:01:30]                 cwd=working_dir,\r\n[00:01:30]                 env=env,\r\n[00:01:30]             )\r\n[00:01:30]     \r\n[00:01:30]         if not(ignore_returncode) and (result.returncode != expected_returncode):\r\n[00:01:30]             print(result.stdout.decode('utf-8'))\r\n[00:01:30] >           assert False, \"Got unexpected return code {}\".format(result.returncode)\r\n[00:01:30] E           AssertionError: Got unexpected return code -4\r\n[00:01:30] \r\n[00:01:30] tests/helpers.py:42: AssertionError\r\n[00:01:30] ----------------------------- Captured stdout call -----------------------------\r\n[00:01:30] . > /usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build/tests/speed_kem Classic-McEliece-348864 -f\r\n[00:01:30] \r\n...\r\n...\r\n[00:01:30] =========================== short test summary info ============================\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-348864] - AssertionErro...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-348864f] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-460896f] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6960119] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-460896] - AssertionErro...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6688128f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6960119f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-8192128] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-192] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-128] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-8192128f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber512] - AssertionError: Got unexpect...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-256] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber768] - AssertionError: Got unexpect...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[sntrup761] - AssertionError: Got unexpec...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-640-AES] - AssertionError: Got ...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-640-SHAKE] - AssertionError: Go...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-976-AES] - AssertionError: Got ...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-1344-AES] - AssertionError: Got...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium3] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-1344-SHAKE] - AssertionError: G...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-976-SHAKE] - AssertionError: Go...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium5] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Falcon-512] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium2] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Falcon-1024] - AssertionError: Got unexp...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-128s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-128f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-192f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-192s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-256f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-256s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-128f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-128s-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-192f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-256f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-256s-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6688128] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber1024] - AssertionError: Got unexpec...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-192s-simple] - AssertionE...\r\n[00:01:30] ================= 40 failed, 218 passed, 144 skipped in 40.35s =================\r\n```\r\n**Environment (please complete the following information):**\r\n - OS: `ALT Linux`\r\n - OpenSSL version `1.1.1t`\r\n - Compiler version used `gcc 12.2.1`\r\n - Build variables used `-DBUILD_SHARED_LIBS=ON -DOQS_DIST_BUILD=ON -DOQS_OPT_TARGET=generic`\r\n - liboqs version `0.8.0.rc1`\r\n\r\nFull build log is temporary available there https://git.altlinux.org/tasks/321944/build/100/armh/log\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1567470598","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1483#issuecomment-1567470598","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483","id":1567470598,"node_id":"IC_kwDOA-eq3c5dbbQG","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"created_at":"2023-05-29T20:00:36Z","updated_at":"2023-05-29T20:00:36Z","author_association":"CONTRIBUTOR","body":"> not tested by me.\r\n\r\nI tested and this produces `Illegal instruction` either.\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1567470598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-05-29T20:00:36Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"29388536143","type":"IssueCommentEvent","actor":{"id":8843219,"login":"dstebila","display_login":"dstebila","gravatar_id":"","url":"https://api.github.com/users/dstebila","avatar_url":"https://avatars.githubusercontent.com/u/8843219?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1483","id":1727813623,"node_id":"I_kwDOA-eq3c5m_Ff3","number":1483,"title":"40 tests fail on ARM32 (armv7hf): AssertionError: Got unexpected return code -4","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2023-05-26T15:13:38Z","updated_at":"2023-05-29T21:42:35Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nI try to build `0.8.0-rc1` for ALT Linux and found that 40 tests failed on armv7hf arch.\r\n```\r\n[00:00:48] + timeout 222 /usr/bin/ninja -j32 -C build run_tests\r\n[00:00:48] ninja: Entering directory `build'\r\n[00:00:49] [0/1] cd /usr/src/RPM/BUILD/liboqs-0.8.0.rc1 && /usr/bin/cmake -E env OQS_BUILD_DIR=/usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build python3 -m pytest --verbose --numprocesses=auto --ignore=scripts/copy_from_upstream/repos\r\n[00:00:55] ============================= test session starts ==============================\r\n[00:00:55] platform linux -- Python 3.10.8, pytest-7.3.1, pluggy-1.0.0 -- /usr/bin/python3\r\n[00:00:55] cachedir: .pytest_cache\r\n[00:00:55] rootdir: /usr/src/RPM/BUILD/liboqs-0.8.0.rc1\r\n[00:00:55] plugins: xdist-3.3.1\r\n[00:00:55] created: 32/32 workers\r\n[00:00:55] 32 workers [402 items]\r\n...\r\n[00:01:30] =================================== FAILURES ===================================\r\n[00:01:30] ______________________ test_kem[Classic-McEliece-348864] _______________________\r\n[00:01:30] [gw26] linux -- Python 3.10.8 /usr/bin/python3\r\n[00:01:30] \r\n[00:01:30] kem_name = 'Classic-McEliece-348864'\r\n[00:01:30] \r\n[00:01:30]     @helpers.filtered_test\r\n[00:01:30]     @pytest.mark.parametrize('kem_name', helpers.available_kems_by_name())\r\n[00:01:30]     def test_kem(kem_name):\r\n[00:01:30]         kats = helpers.get_kats(\"kem\")\r\n[00:01:30]         if not(helpers.is_kem_enabled_by_name(kem_name)): pytest.skip('Not enabled')\r\n[00:01:30] >       helpers.run_subprocess( [helpers.path_to_executable('speed_kem'), kem_name, \"-f\"] )\r\n[00:01:30] \r\n[00:01:30] tests/test_speed.py:14: \r\n[00:01:30] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[00:01:30] \r\n[00:01:30] command = ['/usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build/tests/speed_kem', 'Classic-McEliece-348864', '-f']\r\n[00:01:30] working_dir = '.'\r\n[00:01:30] env = {'G_BROKEN_FILENAMES': '1', 'HISTFILESIZE': '9999', 'HISTSIZE': '999', 'HOME': '/usr/src', ...}\r\n[00:01:30] expected_returncode = 0, input = None, ignore_returncode = False\r\n[00:01:30] \r\n[00:01:30]     def run_subprocess(command, working_dir='.', env=None, expected_returncode=0, input=None, ignore_returncode=False):\r\n[00:01:30]         \"\"\"\r\n[00:01:30]         Helper function to run a shell command and report success/failure\r\n[00:01:30]         depending on the exit status of the shell command.\r\n[00:01:30]         \"\"\"\r\n[00:01:30]         env_ = os.environ.copy()\r\n[00:01:30]         if env is not None:\r\n[00:01:30]             env_.update(env)\r\n[00:01:30]         env = env_\r\n[00:01:30]     \r\n[00:01:30]         # Note we need to capture stdout/stderr from the subprocess,\r\n[00:01:30]         # then print it, which pytest will then capture and\r\n[00:01:30]         # buffer appropriately\r\n[00:01:30]         print(working_dir + \" > \" + \" \".join(command))\r\n[00:01:30]     \r\n[00:01:30]         result = subprocess.run(\r\n[00:01:30]                 command,\r\n[00:01:30]                 input=input,\r\n[00:01:30]                 stdout=subprocess.PIPE,\r\n[00:01:30]                 stderr=subprocess.STDOUT,\r\n[00:01:30]                 cwd=working_dir,\r\n[00:01:30]                 env=env,\r\n[00:01:30]             )\r\n[00:01:30]     \r\n[00:01:30]         if not(ignore_returncode) and (result.returncode != expected_returncode):\r\n[00:01:30]             print(result.stdout.decode('utf-8'))\r\n[00:01:30] >           assert False, \"Got unexpected return code {}\".format(result.returncode)\r\n[00:01:30] E           AssertionError: Got unexpected return code -4\r\n[00:01:30] \r\n[00:01:30] tests/helpers.py:42: AssertionError\r\n[00:01:30] ----------------------------- Captured stdout call -----------------------------\r\n[00:01:30] . > /usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build/tests/speed_kem Classic-McEliece-348864 -f\r\n[00:01:30] \r\n...\r\n...\r\n[00:01:30] =========================== short test summary info ============================\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-348864] - AssertionErro...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-348864f] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-460896f] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6960119] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-460896] - AssertionErro...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6688128f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6960119f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-8192128] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-192] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-128] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-8192128f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber512] - AssertionError: Got unexpect...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-256] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber768] - AssertionError: Got unexpect...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[sntrup761] - AssertionError: Got unexpec...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-640-AES] - AssertionError: Got ...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-640-SHAKE] - AssertionError: Go...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-976-AES] - AssertionError: Got ...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-1344-AES] - AssertionError: Got...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium3] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-1344-SHAKE] - AssertionError: G...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-976-SHAKE] - AssertionError: Go...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium5] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Falcon-512] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium2] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Falcon-1024] - AssertionError: Got unexp...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-128s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-128f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-192f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-192s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-256f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-256s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-128f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-128s-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-192f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-256f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-256s-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6688128] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber1024] - AssertionError: Got unexpec...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-192s-simple] - AssertionE...\r\n[00:01:30] ================= 40 failed, 218 passed, 144 skipped in 40.35s =================\r\n```\r\n**Environment (please complete the following information):**\r\n - OS: `ALT Linux`\r\n - OpenSSL version `1.1.1t`\r\n - Compiler version used `gcc 12.2.1`\r\n - Build variables used `-DBUILD_SHARED_LIBS=ON -DOQS_DIST_BUILD=ON -DOQS_OPT_TARGET=generic`\r\n - liboqs version `0.8.0.rc1`\r\n\r\nFull build log is temporary available there https://git.altlinux.org/tasks/321944/build/100/armh/log\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1567537420","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1483#issuecomment-1567537420","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483","id":1567537420,"node_id":"IC_kwDOA-eq3c5dbrkM","user":{"login":"dstebila","id":8843219,"node_id":"MDQ6VXNlcjg4NDMyMTk=","avatar_url":"https://avatars.githubusercontent.com/u/8843219?v=4","gravatar_id":"","url":"https://api.github.com/users/dstebila","html_url":"https://github.com/dstebila","followers_url":"https://api.github.com/users/dstebila/followers","following_url":"https://api.github.com/users/dstebila/following{/other_user}","gists_url":"https://api.github.com/users/dstebila/gists{/gist_id}","starred_url":"https://api.github.com/users/dstebila/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dstebila/subscriptions","organizations_url":"https://api.github.com/users/dstebila/orgs","repos_url":"https://api.github.com/users/dstebila/repos","events_url":"https://api.github.com/users/dstebila/events{/privacy}","received_events_url":"https://api.github.com/users/dstebila/received_events","type":"User","site_admin":false},"created_at":"2023-05-29T21:42:35Z","updated_at":"2023-05-29T21:42:35Z","author_association":"MEMBER","body":"> > not tested by me.\r\n> \r\n> I tested and this (call to `ticks` and `enable`) produces `Illegal instruction` either. (And yes `enable` seems the same as your code.)\r\n> \r\n> ps. I fear there cannot be single solution for ARM32 since they are very diverse.\r\n\r\nSo probably we'll need to revert to using time rather than cycles. Do you happen to know a way to detect ARM32 in either CMake or C preprocessor macros?","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1567537420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-05-29T21:42:35Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"29388713025","type":"IssueCommentEvent","actor":{"id":36664211,"login":"vt-alt","display_login":"vt-alt","gravatar_id":"","url":"https://api.github.com/users/vt-alt","avatar_url":"https://avatars.githubusercontent.com/u/36664211?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1483","id":1727813623,"node_id":"I_kwDOA-eq3c5m_Ff3","number":1483,"title":"40 tests fail on ARM32 (armv7hf): AssertionError: Got unexpected return code -4","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2023-05-26T15:13:38Z","updated_at":"2023-05-29T22:01:32Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nI try to build `0.8.0-rc1` for ALT Linux and found that 40 tests failed on armv7hf arch.\r\n```\r\n[00:00:48] + timeout 222 /usr/bin/ninja -j32 -C build run_tests\r\n[00:00:48] ninja: Entering directory `build'\r\n[00:00:49] [0/1] cd /usr/src/RPM/BUILD/liboqs-0.8.0.rc1 && /usr/bin/cmake -E env OQS_BUILD_DIR=/usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build python3 -m pytest --verbose --numprocesses=auto --ignore=scripts/copy_from_upstream/repos\r\n[00:00:55] ============================= test session starts ==============================\r\n[00:00:55] platform linux -- Python 3.10.8, pytest-7.3.1, pluggy-1.0.0 -- /usr/bin/python3\r\n[00:00:55] cachedir: .pytest_cache\r\n[00:00:55] rootdir: /usr/src/RPM/BUILD/liboqs-0.8.0.rc1\r\n[00:00:55] plugins: xdist-3.3.1\r\n[00:00:55] created: 32/32 workers\r\n[00:00:55] 32 workers [402 items]\r\n...\r\n[00:01:30] =================================== FAILURES ===================================\r\n[00:01:30] ______________________ test_kem[Classic-McEliece-348864] _______________________\r\n[00:01:30] [gw26] linux -- Python 3.10.8 /usr/bin/python3\r\n[00:01:30] \r\n[00:01:30] kem_name = 'Classic-McEliece-348864'\r\n[00:01:30] \r\n[00:01:30]     @helpers.filtered_test\r\n[00:01:30]     @pytest.mark.parametrize('kem_name', helpers.available_kems_by_name())\r\n[00:01:30]     def test_kem(kem_name):\r\n[00:01:30]         kats = helpers.get_kats(\"kem\")\r\n[00:01:30]         if not(helpers.is_kem_enabled_by_name(kem_name)): pytest.skip('Not enabled')\r\n[00:01:30] >       helpers.run_subprocess( [helpers.path_to_executable('speed_kem'), kem_name, \"-f\"] )\r\n[00:01:30] \r\n[00:01:30] tests/test_speed.py:14: \r\n[00:01:30] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[00:01:30] \r\n[00:01:30] command = ['/usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build/tests/speed_kem', 'Classic-McEliece-348864', '-f']\r\n[00:01:30] working_dir = '.'\r\n[00:01:30] env = {'G_BROKEN_FILENAMES': '1', 'HISTFILESIZE': '9999', 'HISTSIZE': '999', 'HOME': '/usr/src', ...}\r\n[00:01:30] expected_returncode = 0, input = None, ignore_returncode = False\r\n[00:01:30] \r\n[00:01:30]     def run_subprocess(command, working_dir='.', env=None, expected_returncode=0, input=None, ignore_returncode=False):\r\n[00:01:30]         \"\"\"\r\n[00:01:30]         Helper function to run a shell command and report success/failure\r\n[00:01:30]         depending on the exit status of the shell command.\r\n[00:01:30]         \"\"\"\r\n[00:01:30]         env_ = os.environ.copy()\r\n[00:01:30]         if env is not None:\r\n[00:01:30]             env_.update(env)\r\n[00:01:30]         env = env_\r\n[00:01:30]     \r\n[00:01:30]         # Note we need to capture stdout/stderr from the subprocess,\r\n[00:01:30]         # then print it, which pytest will then capture and\r\n[00:01:30]         # buffer appropriately\r\n[00:01:30]         print(working_dir + \" > \" + \" \".join(command))\r\n[00:01:30]     \r\n[00:01:30]         result = subprocess.run(\r\n[00:01:30]                 command,\r\n[00:01:30]                 input=input,\r\n[00:01:30]                 stdout=subprocess.PIPE,\r\n[00:01:30]                 stderr=subprocess.STDOUT,\r\n[00:01:30]                 cwd=working_dir,\r\n[00:01:30]                 env=env,\r\n[00:01:30]             )\r\n[00:01:30]     \r\n[00:01:30]         if not(ignore_returncode) and (result.returncode != expected_returncode):\r\n[00:01:30]             print(result.stdout.decode('utf-8'))\r\n[00:01:30] >           assert False, \"Got unexpected return code {}\".format(result.returncode)\r\n[00:01:30] E           AssertionError: Got unexpected return code -4\r\n[00:01:30] \r\n[00:01:30] tests/helpers.py:42: AssertionError\r\n[00:01:30] ----------------------------- Captured stdout call -----------------------------\r\n[00:01:30] . > /usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build/tests/speed_kem Classic-McEliece-348864 -f\r\n[00:01:30] \r\n...\r\n...\r\n[00:01:30] =========================== short test summary info ============================\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-348864] - AssertionErro...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-348864f] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-460896f] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6960119] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-460896] - AssertionErro...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6688128f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6960119f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-8192128] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-192] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-128] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-8192128f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber512] - AssertionError: Got unexpect...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-256] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber768] - AssertionError: Got unexpect...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[sntrup761] - AssertionError: Got unexpec...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-640-AES] - AssertionError: Got ...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-640-SHAKE] - AssertionError: Go...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-976-AES] - AssertionError: Got ...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-1344-AES] - AssertionError: Got...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium3] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-1344-SHAKE] - AssertionError: G...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-976-SHAKE] - AssertionError: Go...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium5] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Falcon-512] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium2] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Falcon-1024] - AssertionError: Got unexp...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-128s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-128f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-192f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-192s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-256f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-256s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-128f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-128s-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-192f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-256f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-256s-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6688128] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber1024] - AssertionError: Got unexpec...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-192s-simple] - AssertionE...\r\n[00:01:30] ================= 40 failed, 218 passed, 144 skipped in 40.35s =================\r\n```\r\n**Environment (please complete the following information):**\r\n - OS: `ALT Linux`\r\n - OpenSSL version `1.1.1t`\r\n - Compiler version used `gcc 12.2.1`\r\n - Build variables used `-DBUILD_SHARED_LIBS=ON -DOQS_DIST_BUILD=ON -DOQS_OPT_TARGET=generic`\r\n - liboqs version `0.8.0.rc1`\r\n\r\nFull build log is temporary available there https://git.altlinux.org/tasks/321944/build/100/armh/log\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1567548045","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1483#issuecomment-1567548045","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483","id":1567548045,"node_id":"IC_kwDOA-eq3c5dbuKN","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"created_at":"2023-05-29T22:01:32Z","updated_at":"2023-05-29T22:01:32Z","author_association":"CONTRIBUTOR","body":"By this https://developer.arm.com/documentation/dui0774/e/Other-Compiler-specific-Features/Predefined-macros I think `__arm__` is for ARM32, and `__aarch64__` for ARM64. I tested this.\r\n\r\nJFYI:\r\n```\r\nbuilder@armh:/.in$ gcc -dM -E - </dev/null |grep -i -e aarch -e arm\r\n#define __ARM_SIZEOF_WCHAR_T 4\r\n#define __ARM_FEATURE_SAT 1\r\n#define __ARM_ARCH_ISA_ARM 1\r\n#define __ARMEL__ 1\r\n#define __ARM_FP 12\r\n#define __ARM_SIZEOF_MINIMAL_ENUM 4\r\n#define __ARM_PCS_VFP 1\r\n#define __ARM_FEATURE_LDREX 15\r\n#define __ARM_FEATURE_UNALIGNED 1\r\n#define __ARM_FEATURE_QBIT 1\r\n#define __ARM_ARCH_PROFILE 65\r\n#define __ARM_32BIT_STATE 1\r\n#define __ARM_FEATURE_CLZ 1\r\n#define __ARM_ARCH_ISA_THUMB 2\r\n#define __ARM_ARCH 7\r\n#define __arm__ 1\r\n#define __ARM_ARCH_7A__ 1\r\n#define __ARM_FEATURE_SIMD32 1\r\n#define __ARM_FEATURE_COPROC 15\r\n#define __ARM_FEATURE_DSP 1\r\n#define __ARM_EABI__ 1\r\n```\r\n```\r\nbuilder@aarch64:/.in$ gcc -dM -E - </dev/null |grep -i -e aarch -e arm\r\n#define __ARM_SIZEOF_WCHAR_T 4\r\n#define __ARM_FEATURE_IDIV 1\r\n#define __ARM_FP 14\r\n#define __AARCH64_CMODEL_SMALL__ 1\r\n#define __ARM_SIZEOF_MINIMAL_ENUM 4\r\n#define __ARM_ALIGN_MAX_PWR 28\r\n#define __ARM_FP16_FORMAT_IEEE 1\r\n#define __ARM_FP16_ARGS 1\r\n#define __ARM_FEATURE_CLZ 1\r\n#define __aarch64__ 1\r\n#define __AARCH64EL__ 1\r\n#define __ARM_64BIT_STATE 1\r\n#define __ARM_FEATURE_FMA 1\r\n#define __ARM_ARCH_PROFILE 65\r\n#define __ARM_PCS_AAPCS64 1\r\n#define __ARM_ARCH 8\r\n#define __ARM_ARCH_8A 1\r\n#define __ARM_FEATURE_UNALIGNED 1\r\n#define __ARM_NEON 1\r\n#define __ARM_ALIGN_MAX_STACK_PWR 16\r\n#define __ARM_FEATURE_NUMERIC_MAXMIN 1\r\n#define __ARM_ARCH_ISA_A64 1\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1567548045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-05-29T22:01:33Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
{"id":"29388819866","type":"IssueCommentEvent","actor":{"id":36664211,"login":"vt-alt","display_login":"vt-alt","gravatar_id":"","url":"https://api.github.com/users/vt-alt","avatar_url":"https://avatars.githubusercontent.com/u/36664211?"},"repo":{"id":65514205,"name":"open-quantum-safe/liboqs","url":"https://api.github.com/repos/open-quantum-safe/liboqs"},"payload":{"action":"created","issue":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483","repository_url":"https://api.github.com/repos/open-quantum-safe/liboqs","labels_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/labels{/name}","comments_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/comments","events_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/events","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1483","id":1727813623,"node_id":"I_kwDOA-eq3c5m_Ff3","number":1483,"title":"40 tests fail on ARM32 (armv7hf): AssertionError: Got unexpected return code -4","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2023-05-26T15:13:38Z","updated_at":"2023-05-29T22:10:52Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nI try to build `0.8.0-rc1` for ALT Linux and found that 40 tests failed on armv7hf arch.\r\n```\r\n[00:00:48] + timeout 222 /usr/bin/ninja -j32 -C build run_tests\r\n[00:00:48] ninja: Entering directory `build'\r\n[00:00:49] [0/1] cd /usr/src/RPM/BUILD/liboqs-0.8.0.rc1 && /usr/bin/cmake -E env OQS_BUILD_DIR=/usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build python3 -m pytest --verbose --numprocesses=auto --ignore=scripts/copy_from_upstream/repos\r\n[00:00:55] ============================= test session starts ==============================\r\n[00:00:55] platform linux -- Python 3.10.8, pytest-7.3.1, pluggy-1.0.0 -- /usr/bin/python3\r\n[00:00:55] cachedir: .pytest_cache\r\n[00:00:55] rootdir: /usr/src/RPM/BUILD/liboqs-0.8.0.rc1\r\n[00:00:55] plugins: xdist-3.3.1\r\n[00:00:55] created: 32/32 workers\r\n[00:00:55] 32 workers [402 items]\r\n...\r\n[00:01:30] =================================== FAILURES ===================================\r\n[00:01:30] ______________________ test_kem[Classic-McEliece-348864] _______________________\r\n[00:01:30] [gw26] linux -- Python 3.10.8 /usr/bin/python3\r\n[00:01:30] \r\n[00:01:30] kem_name = 'Classic-McEliece-348864'\r\n[00:01:30] \r\n[00:01:30]     @helpers.filtered_test\r\n[00:01:30]     @pytest.mark.parametrize('kem_name', helpers.available_kems_by_name())\r\n[00:01:30]     def test_kem(kem_name):\r\n[00:01:30]         kats = helpers.get_kats(\"kem\")\r\n[00:01:30]         if not(helpers.is_kem_enabled_by_name(kem_name)): pytest.skip('Not enabled')\r\n[00:01:30] >       helpers.run_subprocess( [helpers.path_to_executable('speed_kem'), kem_name, \"-f\"] )\r\n[00:01:30] \r\n[00:01:30] tests/test_speed.py:14: \r\n[00:01:30] _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \r\n[00:01:30] \r\n[00:01:30] command = ['/usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build/tests/speed_kem', 'Classic-McEliece-348864', '-f']\r\n[00:01:30] working_dir = '.'\r\n[00:01:30] env = {'G_BROKEN_FILENAMES': '1', 'HISTFILESIZE': '9999', 'HISTSIZE': '999', 'HOME': '/usr/src', ...}\r\n[00:01:30] expected_returncode = 0, input = None, ignore_returncode = False\r\n[00:01:30] \r\n[00:01:30]     def run_subprocess(command, working_dir='.', env=None, expected_returncode=0, input=None, ignore_returncode=False):\r\n[00:01:30]         \"\"\"\r\n[00:01:30]         Helper function to run a shell command and report success/failure\r\n[00:01:30]         depending on the exit status of the shell command.\r\n[00:01:30]         \"\"\"\r\n[00:01:30]         env_ = os.environ.copy()\r\n[00:01:30]         if env is not None:\r\n[00:01:30]             env_.update(env)\r\n[00:01:30]         env = env_\r\n[00:01:30]     \r\n[00:01:30]         # Note we need to capture stdout/stderr from the subprocess,\r\n[00:01:30]         # then print it, which pytest will then capture and\r\n[00:01:30]         # buffer appropriately\r\n[00:01:30]         print(working_dir + \" > \" + \" \".join(command))\r\n[00:01:30]     \r\n[00:01:30]         result = subprocess.run(\r\n[00:01:30]                 command,\r\n[00:01:30]                 input=input,\r\n[00:01:30]                 stdout=subprocess.PIPE,\r\n[00:01:30]                 stderr=subprocess.STDOUT,\r\n[00:01:30]                 cwd=working_dir,\r\n[00:01:30]                 env=env,\r\n[00:01:30]             )\r\n[00:01:30]     \r\n[00:01:30]         if not(ignore_returncode) and (result.returncode != expected_returncode):\r\n[00:01:30]             print(result.stdout.decode('utf-8'))\r\n[00:01:30] >           assert False, \"Got unexpected return code {}\".format(result.returncode)\r\n[00:01:30] E           AssertionError: Got unexpected return code -4\r\n[00:01:30] \r\n[00:01:30] tests/helpers.py:42: AssertionError\r\n[00:01:30] ----------------------------- Captured stdout call -----------------------------\r\n[00:01:30] . > /usr/src/RPM/BUILD/liboqs-0.8.0.rc1/build/tests/speed_kem Classic-McEliece-348864 -f\r\n[00:01:30] \r\n...\r\n...\r\n[00:01:30] =========================== short test summary info ============================\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-348864] - AssertionErro...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-348864f] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-460896f] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6960119] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-460896] - AssertionErro...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6688128f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6960119f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-8192128] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-192] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-128] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-8192128f] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber512] - AssertionError: Got unexpect...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[HQC-256] - AssertionError: Got unexpecte...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber768] - AssertionError: Got unexpect...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[sntrup761] - AssertionError: Got unexpec...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-640-AES] - AssertionError: Got ...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-640-SHAKE] - AssertionError: Go...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-976-AES] - AssertionError: Got ...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-1344-AES] - AssertionError: Got...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium3] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-1344-SHAKE] - AssertionError: G...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[FrodoKEM-976-SHAKE] - AssertionError: Go...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium5] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Falcon-512] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Dilithium2] - AssertionError: Got unexpe...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[Falcon-1024] - AssertionError: Got unexp...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-128s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-128f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-192f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-192s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-256f-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHA2-256s-simple] - AssertionEr...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-128f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-128s-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-192f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-256f-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-256s-simple] - AssertionE...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Classic-McEliece-6688128] - AssertionErr...\r\n[00:01:30] FAILED tests/test_speed.py::test_kem[Kyber1024] - AssertionError: Got unexpec...\r\n[00:01:30] FAILED tests/test_speed.py::test_sig[SPHINCS+-SHAKE-192s-simple] - AssertionE...\r\n[00:01:30] ================= 40 failed, 218 passed, 144 skipped in 40.35s =================\r\n```\r\n**Environment (please complete the following information):**\r\n - OS: `ALT Linux`\r\n - OpenSSL version `1.1.1t`\r\n - Compiler version used `gcc 12.2.1`\r\n - Build variables used `-DBUILD_SHARED_LIBS=ON -DOQS_DIST_BUILD=ON -DOQS_OPT_TARGET=generic`\r\n - liboqs version `0.8.0.rc1`\r\n\r\nFull build log is temporary available there https://git.altlinux.org/tasks/321944/build/100/armh/log\r\n","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483/timeline","performed_via_github_app":null,"state_reason":null},"comment":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1567556214","html_url":"https://github.com/open-quantum-safe/liboqs/issues/1483#issuecomment-1567556214","issue_url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/1483","id":1567556214,"node_id":"IC_kwDOA-eq3c5dbwJ2","user":{"login":"vt-alt","id":36664211,"node_id":"MDQ6VXNlcjM2NjY0MjEx","avatar_url":"https://avatars.githubusercontent.com/u/36664211?v=4","gravatar_id":"","url":"https://api.github.com/users/vt-alt","html_url":"https://github.com/vt-alt","followers_url":"https://api.github.com/users/vt-alt/followers","following_url":"https://api.github.com/users/vt-alt/following{/other_user}","gists_url":"https://api.github.com/users/vt-alt/gists{/gist_id}","starred_url":"https://api.github.com/users/vt-alt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vt-alt/subscriptions","organizations_url":"https://api.github.com/users/vt-alt/orgs","repos_url":"https://api.github.com/users/vt-alt/repos","events_url":"https://api.github.com/users/vt-alt/events{/privacy}","received_events_url":"https://api.github.com/users/vt-alt/received_events","type":"User","site_admin":false},"created_at":"2023-05-29T22:10:51Z","updated_at":"2023-05-29T22:10:51Z","author_association":"CONTRIBUTOR","body":"About cmake, my guess is if `CMAKE_SYSTEM_PROCESSOR` contains substring `\"arm\"` then it some kind of ARM32 (for example even if it's `\"armv8l\"`), if matches `\"aarch64\"` then it's ARM64.","reactions":{"url":"https://api.github.com/repos/open-quantum-safe/liboqs/issues/comments/1567556214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}},"public":true,"created_at":"2023-05-29T22:10:52Z","org":{"id":20689385,"login":"open-quantum-safe","gravatar_id":"","url":"https://api.github.com/orgs/open-quantum-safe","avatar_url":"https://avatars.githubusercontent.com/u/20689385?"}}
